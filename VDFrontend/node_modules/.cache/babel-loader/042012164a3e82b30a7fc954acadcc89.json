{"remainingRequest":"/home/yansha/VDProject/VDFrontend/node_modules/babel-loader/lib/index.js!/home/yansha/VDProject/VDFrontend/node_modules/babel-loader/lib/index.js??ref--17!/home/yansha/VDProject/VDFrontend/node_modules/cache-loader/dist/cjs.js??ref--1-0!/home/yansha/VDProject/VDFrontend/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/yansha/VDProject/VDFrontend/src/views/MainView/MiddleMainView/MiddleMainView.vue?vue&type=script&lang=js","dependencies":[{"path":"/home/yansha/VDProject/VDFrontend/src/views/MainView/MiddleMainView/MiddleMainView.vue","mtime":1744442733412},{"path":"/home/yansha/VDProject/VDFrontend/babel.config.js","mtime":1744442733384},{"path":"/home/yansha/VDProject/VDFrontend/babel.config.js","mtime":1744442733384},{"path":"/home/yansha/VDProject/VDFrontend/node_modules/cache-loader/dist/cjs.js","mtime":1735202380381},{"path":"/home/yansha/VDProject/VDFrontend/node_modules/babel-loader/lib/index.js","mtime":1735202380921},{"path":"/home/yansha/VDProject/VDFrontend/node_modules/babel-loader/lib/index.js","mtime":1735202380921},{"path":"/home/yansha/VDProject/VDFrontend/node_modules/cache-loader/dist/cjs.js","mtime":1735202380381},{"path":"/home/yansha/VDProject/VDFrontend/node_modules/vue-loader/lib/index.js","mtime":1735202381045}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiL2hvbWUveWFuc2hhL1ZEUHJvamVjdC9WREZyb250ZW5kL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9vYmplY3RTcHJlYWQyLmpzIjsKaW1wb3J0IF9yZWdlbmVyYXRvclJ1bnRpbWUgZnJvbSAiL2hvbWUveWFuc2hhL1ZEUHJvamVjdC9WREZyb250ZW5kL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9yZWdlbmVyYXRvclJ1bnRpbWUuanMiOwppbXBvcnQgX2FzeW5jVG9HZW5lcmF0b3IgZnJvbSAiL2hvbWUveWFuc2hhL1ZEUHJvamVjdC9WREZyb250ZW5kL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yLmpzIjsKaW1wb3J0IHsgbWFwU3RhdGUgfSBmcm9tICJ2dWV4IjsKaW1wb3J0IGFwaSBmcm9tICJAL2FwaS9kYXRhIjsKaW1wb3J0IERpc3RyaWJ1dGlvblZpZXcgZnJvbSAiQC92aWV3cy9NYWluVmlldy9NaWRkbGVNYWluVmlldy9EaXN0cmlidXRpb25WaWV3IjsKaW1wb3J0IFByb2Nlc3NEaWFsb2cgZnJvbSAiQC9jb21wb25lbnRzL1Byb2Nlc3NEaWFsb2cudnVlIjsKaW1wb3J0IGh0bWwyY2FudmFzIGZyb20gJ2h0bWwyY2FudmFzJzsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJNaWRkbGVNYWluVmlldyIsCiAgY29tcG9uZW50czogewogICAgRGlzdHJpYnV0aW9uVmlldzogRGlzdHJpYnV0aW9uVmlldywKICAgIFByb2Nlc3NEaWFsb2c6IFByb2Nlc3NEaWFsb2cKICB9LAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4ge307CiAgfSwKICBtb3VudGVkOiBmdW5jdGlvbiBtb3VudGVkKCkge30sCiAgbWV0aG9kczogewogICAgb25CdXR0b25DbGljazogZnVuY3Rpb24gb25CdXR0b25DbGljayhkYXRhKSB7CiAgICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgnc2V0SXNEb25lJywgewogICAgICAgIGtleTogZGF0YSwKICAgICAgICB2YWx1ZTogdHJ1ZQogICAgICB9KTsKICAgICAgdGhpcy4kc3RvcmUuY29tbWl0KCdzZXRNYWluVmlldycsIGRhdGEpOwogICAgfSwKICAgIGdldFRyYWNlRGF0YTogZnVuY3Rpb24gZ2V0VHJhY2VEYXRhKGRhdGEpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3JSdW50aW1lKCkubWFyayhmdW5jdGlvbiBfY2FsbGVlKCkgewogICAgICAgIHZhciByZXMsIHJlczI7CiAgICAgICAgcmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUoKS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgICB3aGlsZSAoMSkgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDI7CiAgICAgICAgICAgICAgcmV0dXJuIGFwaS5nZXREYXRhTm9kZUxpbmsoewogICAgICAgICAgICAgICAgInJldHJpZXZhbFNldCI6IGRhdGEKICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICAgIHJlcyA9IF9jb250ZXh0LnNlbnQ7CiAgICAgICAgICAgICAgX3RoaXMuJHN0b3JlLmNvbW1pdCgic2V0RGF0YU5vZGVMaW5rIiwgcmVzWyJkYXRhIl0pOwogICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSA2OwogICAgICAgICAgICAgIHJldHVybiBhcGkuZ2V0RGF0YVRyZWUoewogICAgICAgICAgICAgICAgInJldHJpZXZhbFNldCI6IGRhdGEKICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgY2FzZSA2OgogICAgICAgICAgICAgIHJlczIgPSBfY29udGV4dC5zZW50OwogICAgICAgICAgICAgIF90aGlzLiRzdG9yZS5jb21taXQoInNldERhdGFUcmVlIiwgcmVzMlsiZGF0YSJdKTsKICAgICAgICAgICAgY2FzZSA4OgogICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZSk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIGljb25DbGljazogZnVuY3Rpb24gaWNvbkNsaWNrKGFjdCkgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKICAgICAgaWYgKGFjdCA9PSAic2F2ZSIpIHsKICAgICAgICB2YXIgZWxlbWVudCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJtaWRkbGUtbWFpbiIpOwogICAgICAgIGh0bWwyY2FudmFzKGVsZW1lbnQpLnRoZW4oZnVuY3Rpb24gKGNhbnZhcykgewogICAgICAgICAgdmFyIGRhdGFVUkwgPSBjYW52YXMudG9EYXRhVVJMKCk7CiAgICAgICAgICBfdGhpczIuJHN0b3JlLmNvbW1pdCgic2V0SW1hZ2VEaXZMaXN0IiwgewogICAgICAgICAgICAiYWN0IjogImFkZCIsCiAgICAgICAgICAgICJpbWFnZVVybCI6IGRhdGFVUkwKICAgICAgICAgIH0pOwogICAgICAgIH0pOwogICAgICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgnc2V0SWNvblNob3cnLCBhY3QpOwogICAgICB9IGVsc2UgaWYgKGFjdCA9PSAnY29udG91cicpIHsKICAgICAgICB0aGlzLiRzdG9yZS5jb21taXQoJ3NldEljb25TaG93JywgYWN0KTsKICAgICAgfSBlbHNlIGlmIChhY3QgPT0gJ3BvaW50cycpIHsKICAgICAgICB0aGlzLiRzdG9yZS5jb21taXQoJ3NldEljb25TaG93JywgYWN0KTsKICAgICAgfSBlbHNlIGlmIChhY3QgPT0gJ2dyaWQnKSB7CiAgICAgICAgdGhpcy4kc3RvcmUuY29tbWl0KCdzZXRJY29uU2hvdycsIGFjdCk7CiAgICAgIH0gZWxzZSBpZiAoYWN0ID09ICdsYWJlbCcpIHsKICAgICAgICB0aGlzLiRzdG9yZS5jb21taXQoJ3NldEljb25TaG93JywgYWN0KTsKICAgICAgfSBlbHNlIGlmIChhY3QgPT0gJ3RyYWNlJykgewogICAgICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgnc2V0SWNvblNob3cnLCBhY3QpOwogICAgICB9CiAgICB9CiAgfSwKICBjb21wdXRlZDogX29iamVjdFNwcmVhZCh7fSwgbWFwU3RhdGUoewogICAgaXNEb25lOiAiaXNEb25lIiwKICAgIHJldHJpZXZhbEluZm86ICJyZXRyaWV2YWxJbmZvIiwKICAgIHJldHJpZXZhbFNldDogInJldHJpZXZhbFNldCIKICB9KSksCiAgd2F0Y2g6IHsKICAgIC8vIHJldHJpZXZhbEluZm86IHsKICAgIC8vICAgICBoYW5kbGVyKG5ld1ZhbCwgb2xkVmFsKSB7CiAgICAvLyAgICAgICAgIGlmICh0aGlzLnJldHJpZXZhbEluZm8uZXZlcnkoaXRlbSA9PiBpdGVtICYmIGl0ZW0uaW1hZ2VVcmwgJiYgaXRlbS5pbWFnZVBhdGgpKSB7CiAgICAvLyAgICAgICAgICAgICB0aGlzLiRzdG9yZS5jb21taXQoJ3NldElzRG9uZScsIHsga2V5OiAnTm9kZUwnLCB2YWx1ZTogdHJ1ZSB9KTsKICAgIC8vICAgICAgICAgICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgnc2V0SXNEb25lJywgeyBrZXk6ICdUcmVlJywgdmFsdWU6IHRydWUgfSk7CiAgICAvLyAgICAgICAgICAgICB0aGlzLmdldFRyYWNlRGF0YSh0aGlzLnJldHJpZXZhbFNldCk7CiAgICAvLyAgICAgICAgIH0KICAgIC8vICAgICB9LAogICAgLy8gICAgIGRlZXA6IHRydWUKICAgIC8vIH0sCiAgfQp9Ow=="},{"version":3,"names":["mapState","api","DistributionView","ProcessDialog","html2canvas","name","components","data","mounted","methods","onButtonClick","$store","commit","key","value","getTraceData","_this","_asyncToGenerator","_regeneratorRuntime","mark","_callee","res","res2","wrap","_callee$","_context","prev","next","getDataNodeLink","sent","getDataTree","stop","iconClick","act","_this2","element","document","getElementById","then","canvas","dataURL","toDataURL","computed","_objectSpread","isDone","retrievalInfo","retrievalSet","watch"],"sources":["src/views/MainView/MiddleMainView/MiddleMainView.vue"],"sourcesContent":["<template>\n\n    <div class=\"middle-main\" id=\"middle-main\">\n\n        <div class=\"header-main\">\n\n            <img src=\"@/assets/icon-contour.png\" @click=\"iconClick('contour')\" alt=\"contour\" class=\"header-icon\"\n                title=\"Contour\">\n            <img src=\"@/assets/icon-points.png\" @click=\"iconClick('points')\" alt=\"points\" class=\"header-icon\"\n                title=\"Points\">\n            <img src=\"@/assets/icon-grid.png\" @click=\"iconClick('grid')\" alt=\"grid\" class=\"header-icon\" title=\"Grid\">\n            <img src=\"@/assets/icon-label.png\" @click=\"iconClick('label')\" alt=\"label\" class=\"header-icon\"\n                title=\"Label\">\n            <img src=\"@/assets/icon-save-div.png\" @click=\"iconClick('save')\" alt=\"save\" class=\"header-icon\"\n                title=\"Save\">\n            <img src=\"@/assets/icon-trace.png\" @click=\"iconClick('trace')\" alt=\"trace\" class=\"header-icon\"\n                title=\"Trace\">\n\n        </div>\n\n        <div v-if=\"this.$store.state.dataURLs.grid\" class=\"view-main\">\n            <distribution-view />\n        </div>\n\n    </div>\n\n</template>\n\n<script>\nimport { mapState } from \"vuex\";\nimport api from \"@/api/data\";\nimport DistributionView from \"@/views/MainView/MiddleMainView/DistributionView\";\nimport ProcessDialog from \"@/components/ProcessDialog.vue\";\nimport html2canvas from 'html2canvas';\n\nexport default {\n    name: \"MiddleMainView\",\n    components: {\n        DistributionView, ProcessDialog\n    },\n    data() {\n        return {\n\n        };\n    },\n    mounted() {\n\n\n    },\n    methods: {\n        onButtonClick(data) {\n\n            this.$store.commit('setIsDone', { key: data, value: true });\n            this.$store.commit('setMainView', data);\n        },\n        async getTraceData(data) {\n            // 这里主要是用于获取相应的数据，考虑传入后端的参数\n\n            let res = await api.getDataNodeLink({ \"retrievalSet\": data })\n            this.$store.commit(\"setDataNodeLink\", res[\"data\"])\n\n            let res2 = await api.getDataTree({ \"retrievalSet\": data })\n            this.$store.commit(\"setDataTree\", res2[\"data\"])\n\n        },\n        iconClick(act) {\n            if (act == \"save\") {\n                const element = document.getElementById(\"middle-main\");\n                html2canvas(element).then(canvas => {\n                    const dataURL = canvas.toDataURL();\n                    this.$store.commit(\"setImageDivList\", { \"act\": \"add\", \"imageUrl\": dataURL });\n                });\n                this.$store.commit('setIconShow', act);\n\n            } else if (act == 'contour') {\n                this.$store.commit('setIconShow', act);\n\n            } else if (act == 'points') {\n                this.$store.commit('setIconShow', act);\n\n            } else if (act == 'grid') {\n                this.$store.commit('setIconShow', act);\n\n            } else if (act == 'label') {\n                this.$store.commit('setIconShow', act);\n\n            } else if (act == 'trace') {\n                this.$store.commit('setIconShow', act);\n            }\n        }\n    },\n    computed: {\n        ...mapState({\n            isDone: \"isDone\",\n            retrievalInfo: \"retrievalInfo\",\n            retrievalSet: \"retrievalSet\"\n\n        })\n\n    },\n    watch: {\n        // retrievalInfo: {\n        //     handler(newVal, oldVal) {\n        //         if (this.retrievalInfo.every(item => item && item.imageUrl && item.imagePath)) {\n        //             this.$store.commit('setIsDone', { key: 'NodeL', value: true });\n        //             this.$store.commit('setIsDone', { key: 'Tree', value: true });\n        //             this.getTraceData(this.retrievalSet);\n        //         }\n        //     },\n        //     deep: true\n        // },\n    }\n};\n</script>\n\n<style scoped lang=\"scss\">\n.middle-main {\n    width: 100%;\n    height: 100%;\n    box-sizing: border-box;\n    position: relative;\n}\n\n.header-main {\n    width: 100%;\n    height: 30px;\n    display: flex;\n    align-items: center;\n    background-color:  #e0e0e0;\n    box-sizing: border-box;\n    padding-left: 40px;\n    border-top-left-radius: 3px;  /* 左上角圆角 */\n    border-top-right-radius: 3px; /* 右上角圆角 */\n    border: 1px solid #e0e0e0; /* 中灰色边框 */\n}\n\n.header-icon {\n    width: 28px;\n    height: 28px;\n    box-sizing: border-box;\n    cursor: pointer;\n    margin-right: 40px;\n    /* 增大图标之间的间隔 */\n}\n\n.header-icon:last-child {\n    margin-right: 0;\n}\n\n.menu-main {\n    width: 200px;\n    height: 200px;\n    position: absolute;\n    top: 100px;\n    right: 10px;\n    width: 180px;\n    z-index: 1000;\n    /* Set a high z-index value */\n}\n\n.menu {\n    width: 140px;\n    height: 56.5px;\n    // border: 2px solid #ccc;\n    border-radius: 5px;\n    z-index: 1000;\n}\n\n.menu-header {\n    display: grid;\n    grid-template-columns: repeat(2, 1fr);\n    gap: 0px;\n    row-gap: 0px;\n    margin-bottom: 0px;\n    z-index: 1000;\n    /* Set a high z-index value */\n}\n\n.view-main {\n    width: 100%;\n    height: calc(100% - 30px);\n}\n</style>\n\n<style>\n.el-button+.el-button,\n.el-checkbox+.el-checkbox.is-bordered {\n    margin-left: 0px !important;\n}\n</style>"],"mappings":";;;AA6BA,SAAAA,QAAA;AACA,OAAAC,GAAA;AACA,OAAAC,gBAAA;AACA,OAAAC,aAAA;AACA,OAAAC,WAAA;AAEA;EACAC,IAAA;EACAC,UAAA;IACAJ,gBAAA,EAAAA,gBAAA;IAAAC,aAAA,EAAAA;EACA;EACAI,IAAA,WAAAA,KAAA;IACA,QAEA;EACA;EACAC,OAAA,WAAAA,QAAA,GAGA;EACAC,OAAA;IACAC,aAAA,WAAAA,cAAAH,IAAA;MAEA,KAAAI,MAAA,CAAAC,MAAA;QAAAC,GAAA,EAAAN,IAAA;QAAAO,KAAA;MAAA;MACA,KAAAH,MAAA,CAAAC,MAAA,gBAAAL,IAAA;IACA;IACAQ,YAAA,WAAAA,aAAAR,IAAA;MAAA,IAAAS,KAAA;MAAA,OAAAC,iBAAA,cAAAC,mBAAA,GAAAC,IAAA,UAAAC,QAAA;QAAA,IAAAC,GAAA,EAAAC,IAAA;QAAA,OAAAJ,mBAAA,GAAAK,IAAA,UAAAC,SAAAC,QAAA;UAAA,kBAAAA,QAAA,CAAAC,IAAA,GAAAD,QAAA,CAAAE,IAAA;YAAA;cAAAF,QAAA,CAAAE,IAAA;cAAA,OAGA1B,GAAA,CAAA2B,eAAA;gBAAA,gBAAArB;cAAA;YAAA;cAAAc,GAAA,GAAAI,QAAA,CAAAI,IAAA;cACAb,KAAA,CAAAL,MAAA,CAAAC,MAAA,oBAAAS,GAAA;cAAAI,QAAA,CAAAE,IAAA;cAAA,OAEA1B,GAAA,CAAA6B,WAAA;gBAAA,gBAAAvB;cAAA;YAAA;cAAAe,IAAA,GAAAG,QAAA,CAAAI,IAAA;cACAb,KAAA,CAAAL,MAAA,CAAAC,MAAA,gBAAAU,IAAA;YAAA;YAAA;cAAA,OAAAG,QAAA,CAAAM,IAAA;UAAA;QAAA,GAAAX,OAAA;MAAA;IAEA;IACAY,SAAA,WAAAA,UAAAC,GAAA;MAAA,IAAAC,MAAA;MACA,IAAAD,GAAA;QACA,IAAAE,OAAA,GAAAC,QAAA,CAAAC,cAAA;QACAjC,WAAA,CAAA+B,OAAA,EAAAG,IAAA,WAAAC,MAAA;UACA,IAAAC,OAAA,GAAAD,MAAA,CAAAE,SAAA;UACAP,MAAA,CAAAvB,MAAA,CAAAC,MAAA;YAAA;YAAA,YAAA4B;UAAA;QACA;QACA,KAAA7B,MAAA,CAAAC,MAAA,gBAAAqB,GAAA;MAEA,WAAAA,GAAA;QACA,KAAAtB,MAAA,CAAAC,MAAA,gBAAAqB,GAAA;MAEA,WAAAA,GAAA;QACA,KAAAtB,MAAA,CAAAC,MAAA,gBAAAqB,GAAA;MAEA,WAAAA,GAAA;QACA,KAAAtB,MAAA,CAAAC,MAAA,gBAAAqB,GAAA;MAEA,WAAAA,GAAA;QACA,KAAAtB,MAAA,CAAAC,MAAA,gBAAAqB,GAAA;MAEA,WAAAA,GAAA;QACA,KAAAtB,MAAA,CAAAC,MAAA,gBAAAqB,GAAA;MACA;IACA;EACA;EACAS,QAAA,EAAAC,aAAA,KACA3C,QAAA;IACA4C,MAAA;IACAC,aAAA;IACAC,YAAA;EAEA,GAEA;EACAC,KAAA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;EAAA;AAEA","ignoreList":[]}]}