{"remainingRequest":"/home/yansha/VDProject/VDFrontend/node_modules/babel-loader/lib/index.js!/home/yansha/VDProject/VDFrontend/node_modules/cache-loader/dist/cjs.js??ref--1-0!/home/yansha/VDProject/VDFrontend/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/yansha/VDProject/VDFrontend/src/views/MainView/MiddleMainView/MiddleMainView.vue?vue&type=script&lang=js","dependencies":[{"path":"/home/yansha/VDProject/VDFrontend/src/views/MainView/MiddleMainView/MiddleMainView.vue","mtime":1735830721212},{"path":"/home/yansha/VDProject/VDFrontend/babel.config.js","mtime":1730469387355},{"path":"/home/yansha/VDProject/VDFrontend/node_modules/cache-loader/dist/cjs.js","mtime":1735202380381},{"path":"/home/yansha/VDProject/VDFrontend/node_modules/babel-loader/lib/index.js","mtime":1735202380921},{"path":"/home/yansha/VDProject/VDFrontend/node_modules/cache-loader/dist/cjs.js","mtime":1735202380381},{"path":"/home/yansha/VDProject/VDFrontend/node_modules/vue-loader/lib/index.js","mtime":1735202381045}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXNuZXh0Lml0ZXJhdG9yLmNvbnN0cnVjdG9yLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXNuZXh0Lml0ZXJhdG9yLmV2ZXJ5LmpzIjsKaW1wb3J0IHsgbWFwU3RhdGUgfSBmcm9tICJ2dWV4IjsKaW1wb3J0IGFwaSBmcm9tICJAL2FwaS9kYXRhIjsKaW1wb3J0IE5vZGVMaW5rVmlldyBmcm9tICJAL3ZpZXdzL01haW5WaWV3L01pZGRsZU1haW5WaWV3L05vZGVMaW5rVmlldyI7CmltcG9ydCBUcmVlVmlldyBmcm9tICJAL3ZpZXdzL01haW5WaWV3L01pZGRsZU1haW5WaWV3L1RyZWVWaWV3IjsKaW1wb3J0IERpc3RyaWJ1dGlvblZpZXcgZnJvbSAiQC92aWV3cy9NYWluVmlldy9NaWRkbGVNYWluVmlldy9EaXN0cmlidXRpb25WaWV3IjsKaW1wb3J0IFByb2Nlc3NEaWFsb2cgZnJvbSAiQC9jb21wb25lbnRzL1Byb2Nlc3NEaWFsb2cudnVlIjsKaW1wb3J0IGh0bWwyY2FudmFzIGZyb20gJ2h0bWwyY2FudmFzJzsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJNaWRkbGVNYWluVmlldyIsCiAgY29tcG9uZW50czogewogICAgTm9kZUxpbmtWaWV3LAogICAgVHJlZVZpZXcsCiAgICBEaXN0cmlidXRpb25WaWV3LAogICAgUHJvY2Vzc0RpYWxvZwogIH0sCiAgZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIC8vIGlzRGlhbG9nVmlzaWJsZTogZmFsc2UsCiAgICAgIC8vIHByb2dyZXNzUGVyY2VudGFnZTogMCwKICAgICAgLy8gcHJvY2Vzc0luZm86ICLov5nph4zlj6rmmK/mtYvor5XkuIDkuIvlhYgiCiAgICB9OwogIH0sCiAgbW91bnRlZCgpIHt9LAogIG1ldGhvZHM6IHsKICAgIG9uQnV0dG9uQ2xpY2soZGF0YSkgewogICAgICB0aGlzLiRzdG9yZS5jb21taXQoJ3NldElzRG9uZScsIHsKICAgICAgICBrZXk6IGRhdGEsCiAgICAgICAgdmFsdWU6IHRydWUKICAgICAgfSk7CiAgICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgnc2V0TWFpblZpZXcnLCBkYXRhKTsKICAgIH0sCiAgICBhc3luYyBnZXRUcmFjZURhdGEoZGF0YSkgewogICAgICAvLyDov5nph4zkuLvopoHmmK/nlKjkuo7ojrflj5bnm7jlupTnmoTmlbDmja7vvIzogIPomZHkvKDlhaXlkI7nq6/nmoTlj4LmlbAKCiAgICAgIGxldCByZXMgPSBhd2FpdCBhcGkuZ2V0RGF0YU5vZGVMaW5rKHsKICAgICAgICAicmV0cmlldmFsU2V0IjogZGF0YQogICAgICB9KTsKICAgICAgdGhpcy4kc3RvcmUuY29tbWl0KCJzZXREYXRhTm9kZUxpbmsiLCByZXNbImRhdGEiXSk7CiAgICAgIGxldCByZXMyID0gYXdhaXQgYXBpLmdldERhdGFUcmVlKHsKICAgICAgICAicmV0cmlldmFsU2V0IjogZGF0YQogICAgICB9KTsKICAgICAgdGhpcy4kc3RvcmUuY29tbWl0KCJzZXREYXRhVHJlZSIsIHJlczJbImRhdGEiXSk7CiAgICB9LAogICAgaWNvbkNsaWNrKGFjdCkgewogICAgICBpZiAoYWN0ID09ICJzYXZlIikgewogICAgICAgIGNvbnN0IGVsZW1lbnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgibWlkZGxlLW1haW4iKTsKICAgICAgICBodG1sMmNhbnZhcyhlbGVtZW50KS50aGVuKGNhbnZhcyA9PiB7CiAgICAgICAgICBjb25zdCBkYXRhVVJMID0gY2FudmFzLnRvRGF0YVVSTCgpOwogICAgICAgICAgdGhpcy4kc3RvcmUuY29tbWl0KCJzZXRJbWFnZURpdkxpc3QiLCB7CiAgICAgICAgICAgICJhY3QiOiAiYWRkIiwKICAgICAgICAgICAgImltYWdlVXJsIjogZGF0YVVSTAogICAgICAgICAgfSk7CiAgICAgICAgfSk7CiAgICAgICAgdGhpcy4kc3RvcmUuY29tbWl0KCdzZXRJY29uU2hvdycsIGFjdCk7CiAgICAgIH0gZWxzZSBpZiAoYWN0ID09ICdjb250b3VyJykgewogICAgICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgnc2V0SWNvblNob3cnLCBhY3QpOwogICAgICB9IGVsc2UgaWYgKGFjdCA9PSAncG9pbnRzJykgewogICAgICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgnc2V0SWNvblNob3cnLCBhY3QpOwogICAgICB9IGVsc2UgaWYgKGFjdCA9PSAnZ3JpZCcpIHsKICAgICAgICB0aGlzLiRzdG9yZS5jb21taXQoJ3NldEljb25TaG93JywgYWN0KTsKICAgICAgfSBlbHNlIGlmIChhY3QgPT0gJ2xhYmVsJykgewogICAgICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgnc2V0SWNvblNob3cnLCBhY3QpOwogICAgICB9CiAgICB9CiAgfSwKICBjb21wdXRlZDogewogICAgLi4ubWFwU3RhdGUoewogICAgICBpc0RvbmU6ICJpc0RvbmUiLAogICAgICByZXRyaWV2YWxJbmZvOiAicmV0cmlldmFsSW5mbyIsCiAgICAgIHJldHJpZXZhbFNldDogInJldHJpZXZhbFNldCIKICAgIH0pCiAgfSwKICB3YXRjaDogewogICAgcmV0cmlldmFsSW5mbzogewogICAgICBoYW5kbGVyKG5ld1ZhbCwgb2xkVmFsKSB7CiAgICAgICAgaWYgKHRoaXMucmV0cmlldmFsSW5mby5ldmVyeShpdGVtID0+IGl0ZW0gJiYgaXRlbS5pbWFnZVVybCAmJiBpdGVtLmltYWdlUGF0aCkpIHsKICAgICAgICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgnc2V0SXNEb25lJywgewogICAgICAgICAgICBrZXk6ICdOb2RlTCcsCiAgICAgICAgICAgIHZhbHVlOiB0cnVlCiAgICAgICAgICB9KTsKICAgICAgICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgnc2V0SXNEb25lJywgewogICAgICAgICAgICBrZXk6ICdUcmVlJywKICAgICAgICAgICAgdmFsdWU6IHRydWUKICAgICAgICAgIH0pOwogICAgICAgICAgdGhpcy5nZXRUcmFjZURhdGEodGhpcy5yZXRyaWV2YWxTZXQpOwogICAgICAgIH0KICAgICAgfSwKICAgICAgZGVlcDogdHJ1ZQogICAgfQogIH0KfTs="},{"version":3,"names":["mapState","api","NodeLinkView","TreeView","DistributionView","ProcessDialog","html2canvas","name","components","data","mounted","methods","onButtonClick","$store","commit","key","value","getTraceData","res","getDataNodeLink","res2","getDataTree","iconClick","act","element","document","getElementById","then","canvas","dataURL","toDataURL","computed","isDone","retrievalInfo","retrievalSet","watch","handler","newVal","oldVal","every","item","imageUrl","imagePath","deep"],"sources":["src/views/MainView/MiddleMainView/MiddleMainView.vue"],"sourcesContent":["<template>\n\n    <div class=\"middle-main\" id=\"middle-main\">\n\n        <!-- <ProcessDialog :visible.sync=\"isDialogVisible\" :percentage=\"progressPercentage\" :processInfo=\"processInfo\" /> -->\n\n        <div class=\"header-main\">\n\n            <img src=\"@/assets/icon-contour.png\" @click=\"iconClick('contour')\" alt=\"contour\" class=\"header-icon\"\n                title=\"Contour\">\n            <img src=\"@/assets/icon-points.png\" @click=\"iconClick('points')\" alt=\"points\" class=\"header-icon\"\n                title=\"Points\">\n            <img src=\"@/assets/icon-grid.png\" @click=\"iconClick('grid')\" alt=\"grid\" class=\"header-icon\" title=\"Grid\">\n            <img src=\"@/assets/icon-label.png\" @click=\"iconClick('label')\" alt=\"label\" class=\"header-icon\"\n                title=\"Label\">\n            <img src=\"@/assets/icon-save-div.png\" @click=\"iconClick('save')\" alt=\"save\" class=\"header-icon\"\n                title=\"Save\">\n\n        </div>\n\n        <div class=\"menu-main\">\n            <div class=\"menu\">\n\n                <div class=\"menu-header\">\n\n                    <el-button @click=\"onButtonClick('DisT')\" size=\"mini\">DisT</el-button>\n                    <el-button @click=\"onButtonClick('NodeL')\" size=\"mini\">NodeL</el-button>\n                    <el-button @click=\"onButtonClick('Tree')\" size=\"mini\">Tree</el-button>\n                    <el-button @click=\"onButtonClick('RagG')\" size=\"mini\">RagG</el-button>\n\n                </div>\n            </div>\n\n        </div>\n\n        <!-- <div class=\"view-main\"> -->\n\n        <div v-if=\"this.$store.state.mainView === 'DisT'\" class=\"view-main\">\n            <distribution-view />\n        </div>\n\n        <div v-else-if=\"this.$store.state.mainView === 'NodeL'\" class=\"view-main\">\n            <node-link-view />\n        </div>\n\n        <div v-else-if=\"this.$store.state.mainView === 'Tree'\" class=\"view-main\">\n            <tree-view />\n        </div>\n        <div v-else-if=\"this.$store.state.mainView === 'RagG'\" class=\"view-main\">\n        </div>\n\n    </div>\n\n</template>\n\n<script>\nimport { mapState } from \"vuex\";\nimport api from \"@/api/data\";\n\nimport NodeLinkView from \"@/views/MainView/MiddleMainView/NodeLinkView\";\nimport TreeView from \"@/views/MainView/MiddleMainView/TreeView\";\nimport DistributionView from \"@/views/MainView/MiddleMainView/DistributionView\";\nimport ProcessDialog from \"@/components/ProcessDialog.vue\";\nimport html2canvas from 'html2canvas';\n\nexport default {\n    name: \"MiddleMainView\",\n    components: {\n        NodeLinkView, TreeView, DistributionView, ProcessDialog\n    },\n    data() {\n        return {\n            // isDialogVisible: false,\n            // progressPercentage: 0,\n            // processInfo: \"这里只是测试一下先\"\n\n        };\n    },\n    mounted() {\n\n\n    },\n    methods: {\n        onButtonClick(data) {\n\n            this.$store.commit('setIsDone', { key: data, value: true });\n            this.$store.commit('setMainView', data);\n        },\n        async getTraceData(data) {\n            // 这里主要是用于获取相应的数据，考虑传入后端的参数\n\n            let res = await api.getDataNodeLink({ \"retrievalSet\": data })\n            this.$store.commit(\"setDataNodeLink\", res[\"data\"])\n\n            let res2 = await api.getDataTree({ \"retrievalSet\": data })\n            this.$store.commit(\"setDataTree\", res2[\"data\"])\n\n        },\n        iconClick(act) {\n            if (act == \"save\") {\n                const element = document.getElementById(\"middle-main\");\n                html2canvas(element).then(canvas => {\n                    const dataURL = canvas.toDataURL();\n                    this.$store.commit(\"setImageDivList\", { \"act\": \"add\", \"imageUrl\": dataURL });\n                });\n                this.$store.commit('setIconShow', act);\n\n            } else if (act == 'contour') {\n                this.$store.commit('setIconShow', act);\n\n            } else if (act == 'points') {\n                this.$store.commit('setIconShow', act);\n\n            } else if (act == 'grid') {\n                this.$store.commit('setIconShow', act);\n\n\n            } else if (act == 'label') {\n                this.$store.commit('setIconShow', act);\n\n            }\n        }\n    },\n    computed: {\n        ...mapState({\n            isDone: \"isDone\",\n            retrievalInfo: \"retrievalInfo\",\n            retrievalSet: \"retrievalSet\"\n\n        })\n\n    },\n    watch: {\n        retrievalInfo: {\n            handler(newVal, oldVal) {\n                if (this.retrievalInfo.every(item => item && item.imageUrl && item.imagePath)) {\n                    this.$store.commit('setIsDone', { key: 'NodeL', value: true });\n                    this.$store.commit('setIsDone', { key: 'Tree', value: true });\n                    this.getTraceData(this.retrievalSet);\n                }\n            },\n            deep: true\n        },\n    }\n};\n</script>\n\n<style scoped lang=\"scss\">\n.middle-main {\n    width: 100%;\n    height: 100%;\n    box-sizing: border-box;\n    position: relative;\n}\n\n.header-main {\n    width: 100%;\n    height: 40px;\n    display: flex;\n    align-items: center;\n    background-color: #f1f0f0;\n    box-sizing: border-box;\n    padding-left: 40px;\n}\n\n.header-icon {\n    width: 28px;\n    height: 28px;\n    box-sizing: border-box;\n    cursor: pointer;\n    margin-right: 40px;\n    /* 增大图标之间的间隔 */\n}\n\n.header-icon:last-child {\n    margin-right: 0;\n}\n\n.menu-main {\n    width: 200px;\n    height: 200px;\n    position: absolute;\n    top: 100px;\n    right: 10px;\n    width: 180px;\n    z-index: 1000;\n    /* Set a high z-index value */\n}\n\n.menu {\n    width: 140px;\n    height: 56.5px;\n    // border: 2px solid #ccc;\n    border-radius: 5px;\n    z-index: 1000;\n}\n\n.menu-header {\n    display: grid;\n    grid-template-columns: repeat(2, 1fr);\n    gap: 0px;\n    row-gap: 0px;\n    margin-bottom: 0px;\n    z-index: 1000;\n    /* Set a high z-index value */\n}\n\n.view-main {\n    width: 100%;\n    height: calc(100% - 45px);\n}\n</style>\n\n<style>\n.el-button+.el-button,\n.el-checkbox+.el-checkbox.is-bordered {\n    margin-left: 0px !important;\n}\n</style>"],"mappings":";;AAwDA,SAAAA,QAAA;AACA,OAAAC,GAAA;AAEA,OAAAC,YAAA;AACA,OAAAC,QAAA;AACA,OAAAC,gBAAA;AACA,OAAAC,aAAA;AACA,OAAAC,WAAA;AAEA;EACAC,IAAA;EACAC,UAAA;IACAN,YAAA;IAAAC,QAAA;IAAAC,gBAAA;IAAAC;EACA;EACAI,KAAA;IACA;MACA;MACA;MACA;IAAA,CAEA;EACA;EACAC,QAAA,GAGA;EACAC,OAAA;IACAC,cAAAH,IAAA;MAEA,KAAAI,MAAA,CAAAC,MAAA;QAAAC,GAAA,EAAAN,IAAA;QAAAO,KAAA;MAAA;MACA,KAAAH,MAAA,CAAAC,MAAA,gBAAAL,IAAA;IACA;IACA,MAAAQ,aAAAR,IAAA;MACA;;MAEA,IAAAS,GAAA,SAAAjB,GAAA,CAAAkB,eAAA;QAAA,gBAAAV;MAAA;MACA,KAAAI,MAAA,CAAAC,MAAA,oBAAAI,GAAA;MAEA,IAAAE,IAAA,SAAAnB,GAAA,CAAAoB,WAAA;QAAA,gBAAAZ;MAAA;MACA,KAAAI,MAAA,CAAAC,MAAA,gBAAAM,IAAA;IAEA;IACAE,UAAAC,GAAA;MACA,IAAAA,GAAA;QACA,MAAAC,OAAA,GAAAC,QAAA,CAAAC,cAAA;QACApB,WAAA,CAAAkB,OAAA,EAAAG,IAAA,CAAAC,MAAA;UACA,MAAAC,OAAA,GAAAD,MAAA,CAAAE,SAAA;UACA,KAAAjB,MAAA,CAAAC,MAAA;YAAA;YAAA,YAAAe;UAAA;QACA;QACA,KAAAhB,MAAA,CAAAC,MAAA,gBAAAS,GAAA;MAEA,WAAAA,GAAA;QACA,KAAAV,MAAA,CAAAC,MAAA,gBAAAS,GAAA;MAEA,WAAAA,GAAA;QACA,KAAAV,MAAA,CAAAC,MAAA,gBAAAS,GAAA;MAEA,WAAAA,GAAA;QACA,KAAAV,MAAA,CAAAC,MAAA,gBAAAS,GAAA;MAGA,WAAAA,GAAA;QACA,KAAAV,MAAA,CAAAC,MAAA,gBAAAS,GAAA;MAEA;IACA;EACA;EACAQ,QAAA;IACA,GAAA/B,QAAA;MACAgC,MAAA;MACAC,aAAA;MACAC,YAAA;IAEA;EAEA;EACAC,KAAA;IACAF,aAAA;MACAG,QAAAC,MAAA,EAAAC,MAAA;QACA,SAAAL,aAAA,CAAAM,KAAA,CAAAC,IAAA,IAAAA,IAAA,IAAAA,IAAA,CAAAC,QAAA,IAAAD,IAAA,CAAAE,SAAA;UACA,KAAA7B,MAAA,CAAAC,MAAA;YAAAC,GAAA;YAAAC,KAAA;UAAA;UACA,KAAAH,MAAA,CAAAC,MAAA;YAAAC,GAAA;YAAAC,KAAA;UAAA;UACA,KAAAC,YAAA,MAAAiB,YAAA;QACA;MACA;MACAS,IAAA;IACA;EACA;AACA","ignoreList":[]}]}