{"remainingRequest":"/home/yansha/VDProject/VDFrontend/node_modules/babel-loader/lib/index.js!/home/yansha/VDProject/VDFrontend/node_modules/cache-loader/dist/cjs.js??ref--1-0!/home/yansha/VDProject/VDFrontend/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/yansha/VDProject/VDFrontend/src/views/MainView/MiddleMainView/DistributionView.vue?vue&type=script&lang=js","dependencies":[{"path":"/home/yansha/VDProject/VDFrontend/src/views/MainView/MiddleMainView/DistributionView.vue","mtime":1735823951649},{"path":"/home/yansha/VDProject/VDFrontend/babel.config.js","mtime":1730469387355},{"path":"/home/yansha/VDProject/VDFrontend/node_modules/cache-loader/dist/cjs.js","mtime":1735202380381},{"path":"/home/yansha/VDProject/VDFrontend/node_modules/babel-loader/lib/index.js","mtime":1735202380921},{"path":"/home/yansha/VDProject/VDFrontend/node_modules/cache-loader/dist/cjs.js","mtime":1735202380381},{"path":"/home/yansha/VDProject/VDFrontend/node_modules/vue-loader/lib/index.js","mtime":1735202381045}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZXJyb3IuY2F1c2UuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5wdXNoLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXNuZXh0Lml0ZXJhdG9yLmNvbnN0cnVjdG9yLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXNuZXh0Lml0ZXJhdG9yLmZvci1lYWNoLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1leGNlcHRpb24uc3RhY2suanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy93ZWIuc3RydWN0dXJlZC1jbG9uZS5qcyI7CmltcG9ydCB7IG1hcFN0YXRlIH0gZnJvbSAidnVleCI7CmltcG9ydCB7IGNvbmZpZyB9IGZyb20gJ0AvY29uZmlnL2NvbmZpZyc7CmltcG9ydCBjcmVhdGVSZWdsIGZyb20gJ3JlZ2wnOwppbXBvcnQgZDMgZnJvbSAnLi4vLi4vLi4vdXRpbHMvZDMtaW1wb3J0JzsKaW1wb3J0IHsgaW5pdFdlYkdMTWF0cmljZXMsIGluaXRXZWJHTEJ1ZmZlcnMsIGRyYXdTY2F0dGVyUGxvdCwgZHJhd0dyb3VwQ29udG91ciwgdXBkYXRlV2ViR0xCdWZmZXJzLCBhbnlUcnVlLCBhbGxUcnVlLCBoaWdobGlnaHRQb2ludCwgZGlzcGxheUdyb3VwQ2hhbmdlZCB9IGZyb20gJy4uLy4uLy4uL2NvbXBvbmVudHMvRW1iZWRkaW5nL0VtYmVkZGluZyc7CmltcG9ydCB7IHJlZHJhd1RvcGljR3JpZCwgbW91c2VvdmVyTGFiZWwgfSBmcm9tICcuLi8uLi8uLi9jb21wb25lbnRzL0VtYmVkZGluZy9FbWJlZGRpbmdMYWJlbCc7CmltcG9ydCBMb2FkZXJXb3JrZXIgZnJvbSAnLi4vLi4vLi4vY29tcG9uZW50cy9FbWJlZGRpbmcvd29ya2Vycy9sb2FkZXIud29ya2VyJzsKaW1wb3J0IFRyZWVXb3JrZXIgZnJvbSAnLi4vLi4vLi4vY29tcG9uZW50cy9FbWJlZGRpbmcvd29ya2Vycy90cmVlLndvcmtlcic7CmltcG9ydCAqIGFzIFBvaW50RHJhd2VyIGZyb20gJy4uLy4uLy4uL2NvbXBvbmVudHMvRW1iZWRkaW5nL0VtYmVkZGluZ1BvaW50V2ViR0wnOwppbXBvcnQgeyBIT1ZFUl9SQURJVVMgfSBmcm9tICcuLi8uLi8uLi91dGlscy91dGlscyc7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAiRGlzdHJpYnV0aW9uVmlldyIsCiAgY29tcG9uZW50czoge30sCiAgZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGNvbXBvbmVudDogbnVsbCwKICAgICAgLy8gSFRNTEVsZW1lbnTvvJogZDMuc2VsZWN0KCcuZGlzdHJpYnV0aW9uLW1haW4nKQoKICAgICAgc3ZnOiBudWxsLAogICAgICAvLyBkMy5TZWxlY3Rpb248SFRNTEVsZW1lbnQsIHVua25vd24sIG51bGwsIHVuZGVmaW5lZD4sIHVuc2VkIGZvciBkcmF3aW5nIGNvbnRvdXIKICAgICAgc3ZnRnVsbFNpemU6IHsKICAgICAgICB3aWR0aDogMCwKICAgICAgICBoZWlnaHQ6IDAKICAgICAgfSwKICAgICAgLy8gU2l6ZQogICAgICBzdmdTaXplOiB7CiAgICAgICAgd2lkdGg6IDAsCiAgICAgICAgaGVpZ2h0OiAwCiAgICAgIH0sCiAgICAgIC8vIHNxdWFyZSBkcmF3IAogICAgICBzdmdQYWRkaW5nOiB7CiAgICAgICAgdG9wOiAwLAogICAgICAgIGJvdHRvbTogMCwKICAgICAgICBsZWZ0OiAwLAogICAgICAgIHJpZ2h0OiAwCiAgICAgIH0sCiAgICAgIC8vIFBhZGRpbmcKCiAgICAgIHRvcFN2ZzogbnVsbCwKICAgICAgLy8gZDMuU2VsZWN0aW9uPEhUTUxFbGVtZW50LCB1bmtub3duLCBudWxsLCB1bmRlZmluZWQ+LCB1bnNlZCBmb3IgZHJhd2luZyBoaWdodGxpZ2h0cwogICAgICB0b3BpY0NhbnZhc2VzOiBbXSwKICAgICAgLy8gdXNlZCBmb3IgZHJhd2luZyBlbWJlZGRpbmcgcG9pbnRzIGFuZCBvdGhlcnMKCiAgICAgIC8vIHBvaW50cwogICAgICBwb2ludENhbnZhczogbnVsbCwKICAgICAgcG9pbnRSZWdsOiBudWxsLAogICAgICBmcm9udFBvc2l0aW9uQnVmZmVyOiBudWxsLAogICAgICBmcm9udFRleHR1cmVDb29yZGluYXRlQnVmZmVyOiBudWxsLAogICAgICBmcm9udEJ1ZmZlclBvaW50U2l6ZTogMCwKICAgICAgLy8gc2VhcmNoCiAgICAgIHNlYXJjaFBvaW50Q2FudmFzOiBudWxsLAogICAgICBzZWFyY2hQb2ludFJlZ2w6IG51bGwsCiAgICAgIHNlYXJjaFBvaW50UG9zaXRpb25CdWZmZXI6IG51bGwsCiAgICAgIHNlYXJjaFBvaW50VGV4dHVyZUNvb3JkaW5hdGVCdWZmZXI6IG51bGwsCiAgICAgIHNlYXJjaFBvaW50UmVzdWx0czogbnVsbCwKICAgICAgLy8gVG9vbHRpcHMKICAgICAgdG9vbHRpcFRvcDogbnVsbCwKICAgICAgdG9vbHRpcEJvdHRvbTogbnVsbCwKICAgICAgaG92ZXJQb2ludDogbnVsbCwKICAgICAgeFNjYWxlOiBudWxsLAogICAgICB5U2NhbGU6IG51bGwsCiAgICAgIC8vIHpvb21pbmcKICAgICAgem9vbTogbnVsbCwKICAgICAgLy8gZDMuWm9vbUJlaGF2aW9yPEhUTUxFbGVtZW50LCB1bmtub3duPgogICAgICBpbml0Wm9vbVRyYW5zZm9ybTogbnVsbCwKICAgICAgY3VyWm9vbVRyYW5zZm9ybTogbnVsbCwKICAgICAgY3VyWm9vbUxldmVsOiAxLAogICAgICAvLyBpbnRlcmFjdGlvbgogICAgICBsYXN0TW91c2VDbGllbnRQb3NpdGlvbjogbnVsbCwKICAgICAgaGlkZUhpZ2hsaWdodHM6IGZhbHNlLAogICAgICAvLyB1c2VyIHNldHRpbmdzCiAgICAgIHNob3dDb250b3VyczogW10sCiAgICAgIHNob3dHcmlkOiB0cnVlLAogICAgICBzaG93UG9pbnRzOiBbZmFsc2VdLAogICAgICBzaG93TGFiZWw6IGZhbHNlLAogICAgICAvLyBkYXRhCiAgICAgIGRhdGFVUkxzOiBudWxsLAogICAgICBwcm9tcHRQb2ludHM6IFtdLAogICAgICBncmlkRGF0YTogbnVsbCwKICAgICAgdGlsZURhdGE6IG51bGwsCiAgICAgIGNvbnRvdXJzOiBudWxsLAogICAgICBncm91cENvbnRvdXI6IG51bGwsCiAgICAgIGNvbnRvdXJzSW5pdGlhbGl6ZWQ6IGZhbHNlLAogICAgICBsb2FkZWRQb2ludENvdW50OiAxLAogICAgICAvLyBUaW1lCiAgICAgIHRpbWVUZXh0dXJlTWFwOiBudWxsLAogICAgICAvLyBHcm91cAogICAgICBncm91cE5hbWVzOiBbXSwKICAgICAgLy8gc2VhcmNoCiAgICAgIGNvbXBsZXRlZFNlYXJjaFF1ZXJ5SUQ6IG51bGwsCiAgICAgIC8vIHNjYXR0ZXIgcGxvdAogICAgICB3ZWJHTE1hdHJpY2VzOiBudWxsLAogICAgICBjdXJQb2ludFdpZHRoOiAxLAogICAgICAvLyBkaXNwbGF5IGxhYmVscwogICAgICB0b3BpY0xldmVsVHJlZXM6IG5ldyBNYXAoKSwKICAgICAgbGFzdEdyaWRUcmVlTGV2ZWxzOiBbXSwKICAgICAgLy8gV2ViIHdvcmtlcnMKICAgICAgbG9hZGVyV29ya2VyOiBudWxsLAogICAgICB0cmVlV29ya2VyOiBudWxsLAogICAgICAvLyBzdG9yZQogICAgICBmb290ZXJTdG9yZVZhbHVlOiB7CiAgICAgICAgeFNjYWxlOiBudWxsLAogICAgICAgIGVtYmVkZGluZ05hbWU6IG51bGwsCiAgICAgICAgbnVtUG9pbnRzOiBudWxsCiAgICAgIH0sCiAgICAgIC8vIG90aGVyIHRvcAogICAgICBERUJVRzogY29uZmlnLmRlYnVnLAogICAgICBoYW5kbGVkRm9vdGVyTWVzc2FnZUlEOiAwCiAgICB9OwogIH0sCiAgbW91bnRlZCgpIHsKICAgIHRoaXMuaW5pdCgpOwogIH0sCiAgbWV0aG9kczogewogICAgaW5pdCgpIHsKICAgICAgY29uc3QgZGFnID0gdGhpcy4kcmVmcy5kaXN0cmlidXRpb25NYWluOwogICAgICB0aGlzLnN2Z0Z1bGxTaXplLmhlaWdodCA9IGRhZy5jbGllbnRIZWlnaHQ7CiAgICAgIHRoaXMuc3ZnRnVsbFNpemUud2lkdGggPSBkYWcuY2xpZW50V2lkdGg7CiAgICAgIGNvbnNvbGUubG9nKCJ0aGUgc3ZnRnVsbHNpemUiLCB0aGlzLnN2Z0Z1bGxTaXplKTsKICAgICAgdGhpcy5jb21wb25lbnQgPSBkMy5zZWxlY3QoJy5kaXN0cmlidXRpb24tbWFpbicpOwogICAgICB0aGlzLnNob3dHcmlkID0gdHJ1ZTsKICAgICAgdGhpcy5pbml0V29ya2VyKCk7CiAgICAgIHRoaXMuaW5pdFRvcFN2ZygpOwogICAgICAvLyBJbml0aWFsaXplIHRoZSBjYW52YXNlcwogICAgICB0aGlzLmluaXRDYW52YXMoKTsKICAgICAgLy8gCiAgICAgIHRoaXMuaW5pdFNWR0dyb3VwcygpOwogICAgICB0aGlzLmluaXREYXRhKCkudGhlbigoKSA9PiB7CiAgICAgICAgaW5pdFdlYkdMTWF0cmljZXModGhpcyk7IC8vIOehruS/nSB0aGlzIOaMh+WQkSBWdWUg5a6e5L6LCgogICAgICAgIGluaXRXZWJHTEJ1ZmZlcnModGhpcyk7CiAgICAgICAgZGlzcGxheUdyb3VwQ2hhbmdlZCh0aGlzLCAiSW1hZ2UiKTsKICAgICAgICBkcmF3U2NhdHRlclBsb3QodGhpcyk7CiAgICAgICAgZHJhd0dyb3VwQ29udG91cih0aGlzKTsKICAgICAgICB0aGlzLnRvcGljQ2FudmFzZXMuZm9yRWFjaChjID0+IGMuY2xhc3NlZCgnaGlkZGVuJywgIXRoaXMuc2hvd0dyaWQpKTsKICAgICAgICB0aGlzLnNob3dQb2ludHMgPSBbdHJ1ZV07CiAgICAgICAgcmVkcmF3VG9waWNHcmlkKHRoaXMsIG51bGwpOwogICAgICB9KTsKCiAgICAgIC8vIFJlZ2lzdGVyIHpvb20KICAgICAgdGhpcy56b29tID0gZDMuem9vbSgpLmV4dGVudChbWzAsIDBdLCBbdGhpcy5zdmdTaXplLndpZHRoLCB0aGlzLnN2Z1NpemUuaGVpZ2h0XV0pLnNjYWxlRXh0ZW50KFtjb25maWcubGF5b3V0Lnpvb21TY2FsZVswXSwgY29uZmlnLmxheW91dC56b29tU2NhbGVbMV1dKS5pbnRlcnBvbGF0ZShkMy5pbnRlcnBvbGF0ZSkub24oJ3pvb20nLCBnID0+IHsKICAgICAgICAoYXN5bmMgKCkgPT4gewogICAgICAgICAgYXdhaXQgdGhpcy56b29tZWQoZyk7CiAgICAgICAgfSkoKTsKICAgICAgfSkub24oJ2VuZCcsICgpID0+IHRoaXMuem9vbUVuZGVkKCkpOwogICAgICB0aGlzLnRvcFN2Zy5jYWxsKHRoaXMuem9vbSkub24oJ2RibGNsaWNrLnpvb20nLCBudWxsKTsKICAgICAgdGhpcy50b29sdGlwVG9wID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI3BvcHBlci10b29sdGlwLXRvcCcpOwogICAgICB0aGlzLnRvb2x0aXBCb3R0b20gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjcG9wcGVyLXRvb2x0aXAtYm90dG9tJyk7CiAgICAgIGNvbnN0IHNxdWFyZUNhbnZhc1dpZHRoID0gTWF0aC5taW4odGhpcy5zdmdGdWxsU2l6ZS53aWR0aCAtIHRoaXMuc3ZnUGFkZGluZy5sZWZ0IC0gdGhpcy5zdmdQYWRkaW5nLnJpZ2h0LCB0aGlzLnN2Z0Z1bGxTaXplLmhlaWdodCAtIHRoaXMuc3ZnUGFkZGluZy50b3AgLSB0aGlzLnN2Z1BhZGRpbmcuYm90dG9tKTsKICAgICAgdGhpcy5zdmdTaXplID0gewogICAgICAgIHdpZHRoOiBzcXVhcmVDYW52YXNXaWR0aCwKICAgICAgICBoZWlnaHQ6IHNxdWFyZUNhbnZhc1dpZHRoCiAgICAgIH07CiAgICAgIHRoaXMuY3VyWm9vbVRyYW5zZm9ybSA9IGQzLnpvb21JZGVudGl0eTsKICAgIH0sCiAgICBhc3luYyBpbml0RGF0YSgpIHsKICAgICAgY29uc3QgZ3JpZERhdGEgPSBhd2FpdCBkMy5qc29uKHRoaXMuJHN0b3JlLnN0YXRlLmRhdGFVUkxzLmdyaWQpOwogICAgICBpZiAoZ3JpZERhdGEgPT09IHVuZGVmaW5lZCkgewogICAgICAgIGNvbnNvbGUubG9nKCdGYWlsIHRvIGxvYWQgZ3JpZCBkYXRhJyk7CiAgICAgIH0KICAgICAgdGhpcy5ncmlkRGF0YSA9IGdyaWREYXRhOwoKICAgICAgLy8gSW5pdGlhbGl6ZSB0aGUgZGF0YSBzY2FsZXMKICAgICAgY29uc3QgeFJhbmdlID0gdGhpcy5ncmlkRGF0YS54UmFuZ2U7CiAgICAgIGNvbnN0IHlSYW5nZSA9IHRoaXMuZ3JpZERhdGEueVJhbmdlOwogICAgICBsZXQgeExlbmd0aCA9IHhSYW5nZVsxXSAtIHhSYW5nZVswXTsKICAgICAgbGV0IHlMZW5ndGggPSB5UmFuZ2VbMV0gLSB5UmFuZ2VbMF07CiAgICAgIGlmICghdGhpcy5ncmlkRGF0YS5wYWRkZWQpIHsKICAgICAgICAvLyBBZGQgcGFkZGluZyBmb3IgdGhlIGRhdGEKICAgICAgICBpZiAoeExlbmd0aCA8IHlMZW5ndGgpIHsKICAgICAgICAgIHlSYW5nZVswXSAtPSB5TGVuZ3RoIC8gNTA7CiAgICAgICAgICB5UmFuZ2VbMV0gKz0geUxlbmd0aCAvIDUwOwogICAgICAgICAgeUxlbmd0aCA9IHlSYW5nZVsxXSAtIHlSYW5nZVswXTsKICAgICAgICAgIHhSYW5nZVswXSAtPSAoeUxlbmd0aCAtIHhMZW5ndGgpIC8gMjsKICAgICAgICAgIHhSYW5nZVsxXSArPSAoeUxlbmd0aCAtIHhMZW5ndGgpIC8gMjsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgLy8gQWRkIHBhZGRpbmcgZm9yIHRoZSBkYXRhCiAgICAgICAgICB4UmFuZ2VbMF0gLT0geExlbmd0aCAvIDUwOwogICAgICAgICAgeFJhbmdlWzFdICs9IHhMZW5ndGggLyA1MDsKICAgICAgICAgIHhMZW5ndGggPSB4UmFuZ2VbMV0gLSB4UmFuZ2VbMF07CiAgICAgICAgICB5UmFuZ2VbMF0gLT0gKHhMZW5ndGggLSB5TGVuZ3RoKSAvIDI7CiAgICAgICAgICB5UmFuZ2VbMV0gKz0gKHhMZW5ndGggLSB5TGVuZ3RoKSAvIDI7CiAgICAgICAgfQogICAgICB9CiAgICAgIHRoaXMueFNjYWxlID0gZDMuc2NhbGVMaW5lYXIoKS5kb21haW4oeFJhbmdlKS5yYW5nZShbMCwgdGhpcy5zdmdTaXplLndpZHRoXSk7CiAgICAgIHRoaXMueVNjYWxlID0gZDMuc2NhbGVMaW5lYXIoKS5kb21haW4oeVJhbmdlKS5yYW5nZShbdGhpcy5zdmdTaXplLmhlaWdodCwgMF0pOwogICAgICBjb25zdCB0cmVlTWVzc2FnZSA9IHsKICAgICAgICBjb21tYW5kOiAnaW5pdFF1YWR0cmVlJywKICAgICAgICBwYXlsb2FkOiB7CiAgICAgICAgICB4UmFuZ2U6IHhSYW5nZSwKICAgICAgICAgIHlSYW5nZTogeVJhbmdlLAogICAgICAgICAgZ3JvdXBJRHM6IC0xLAogICAgICAgICAgdGltZXM6IFsnJ10KICAgICAgICB9CiAgICAgIH07CiAgICAgIHRoaXMudHJlZVdvcmtlci5wb3N0TWVzc2FnZSh0cmVlTWVzc2FnZSk7CiAgICAgIGZvciAoY29uc3QgbGV2ZWwgb2YgT2JqZWN0LmtleXModGhpcy5ncmlkRGF0YS50b3BpYy5kYXRhKSkgewogICAgICAgIGNvbnN0IHRyZWUgPSBkMy5xdWFkdHJlZSgpLngoZnVuY3Rpb24gKGQpIHsKICAgICAgICAgIHJldHVybiBkWzBdOwogICAgICAgIH0pLnkoZnVuY3Rpb24gKGQpIHsKICAgICAgICAgIHJldHVybiBkWzFdOwogICAgICAgIH0pLmFkZEFsbCh0aGlzLmdyaWREYXRhLnRvcGljLmRhdGFbbGV2ZWxdKTsKICAgICAgICB0aGlzLnRvcGljTGV2ZWxUcmVlcy5zZXQocGFyc2VJbnQobGV2ZWwsIDEwKSwgdHJlZSk7CiAgICAgIH0KCiAgICAgIC8vIENyZWF0ZSBncm91cCByZWxhdGVkIHN0cnVjdHVyZXMgaWYgdGhlIGRhdGEgaGFzIGdyb3VwcwogICAgICBpZiAodGhpcy5ncmlkRGF0YS5ncm91cEdyaWRzICYmIHRoaXMuZ3JpZERhdGEuZ3JvdXBOYW1lcykgewogICAgICAgIHRoaXMuZ3JvdXBOYW1lcyA9IHRoaXMuZ3JpZERhdGEuZ3JvdXBOYW1lczsKICAgICAgICBjb25zdCB1bWFwR3JvdXAgPSB0aGlzLnN2Zy5zZWxlY3QoJ2cudW1hcC1ncm91cCcpOwoKICAgICAgICAvLyBBZGp1c3QgdGhlIGZpcnN0IGNvbnRvdXIncyBuYW1lCiAgICAgICAgdGhpcy5zaG93Q29udG91cnMgPSBbXTsKICAgICAgICB0aGlzLnNob3dQb2ludHMgPSBbXTsKICAgICAgICB0aGlzLmdyb3VwQ29udG91cnMgPSBbXTsKICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuZ3JvdXBOYW1lcy5sZW5ndGg7IGkrKykgewogICAgICAgICAgLy8gQWRkIGdyb3VwcyB0byB0aGUgY29udHJvbCBzdGF0ZXMKICAgICAgICAgIC8vIChEZWZhdWx0IGlzIHRvIHNob3cgdGhlIGZpcnN0IGdyb3VwIG9ubHkpCiAgICAgICAgICB0aGlzLnNob3dDb250b3Vycy5wdXNoKGkgPT09IDApOwogICAgICAgICAgdGhpcy5zaG93UG9pbnRzLnB1c2goaSA9PT0gMCk7CgogICAgICAgICAgLy8gQWRkIGNvbnRvdXIgZWxlbWVudHMgZm9yIG90aGVyIGdyb3VwcwogICAgICAgICAgY29uc3QgbmFtZSA9IHRoaXMuZ3JvdXBOYW1lc1tpXTsKICAgICAgICAgIHVtYXBHcm91cC5hcHBlbmQoJ2cnKS5hdHRyKCdjbGFzcycsIGBjb250b3VyLWdyb3VwLWdlbmVyaWMgY29udG91ci1ncm91cC0ke25hbWV9YCkuY2xhc3NlZCgnaGlkZGVuJywgaSAhPT0gMCk7CgogICAgICAgICAgLy8gRHJ3IHRoZSBncm91cCBjb250b3VyCiAgICAgICAgICBjb25zdCBjdXJDb250b3VyID0gZHJhd0dyb3VwQ29udG91cihuYW1lKTsKICAgICAgICAgIGlmIChjdXJDb250b3VyICE9PSBudWxsKSB7CiAgICAgICAgICAgIHRoaXMuZ3JvdXBDb250b3Vycy5wdXNoKGN1ckNvbnRvdXIpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfQogICAgfSwKICAgIGluaXRDYW52YXMoKSB7CiAgICAgIHZhciBfdGhpcyRwb2ludENhbnZhczsKICAgICAgY29uc3QgZGlzY29tcG9uZW50ID0gdGhpcy4kcmVmcy5kaXN0cmlidXRpb25NYWluOwogICAgICB0aGlzLnBvaW50Q2FudmFzID0gZDMuc2VsZWN0KGRpc2NvbXBvbmVudCkuYXBwZW5kKCdjYW52YXMnKS5hdHRyKCdjbGFzcycsICdlbWJlZGRpbmctY2FudmFzJykuYXR0cignd2lkdGgnLCB0aGlzLnN2Z0Z1bGxTaXplLndpZHRoKS5hdHRyKCdoZWlnaHQnLCB0aGlzLnN2Z0Z1bGxTaXplLmhlaWdodCk7CiAgICAgIHRoaXMucG9pbnRSZWdsID0gY3JlYXRlUmVnbCgoX3RoaXMkcG9pbnRDYW52YXMgPSB0aGlzLnBvaW50Q2FudmFzKSA9PT0gbnVsbCB8fCBfdGhpcyRwb2ludENhbnZhcyA9PT0gdm9pZCAwID8gdm9pZCAwIDogX3RoaXMkcG9pbnRDYW52YXMubm9kZSgpKTsKCiAgICAgIC8vIHRoaXMuc2VhcmNoUG9pbnRDYW52YXMgPSBkMy5zZWxlY3QoZGlzY29tcG9uZW50KQogICAgICAvLyAgICAgLmFwcGVuZCgnY2FudmFzJykKICAgICAgLy8gICAgIC5hdHRyKCdjbGFzcycsICdzZWFyY2gtcG9pbnQtY2FudmFzJykKICAgICAgLy8gICAgIC5hdHRyKCd3aWR0aCcsIHRoaXMuc3ZnRnVsbFNpemUud2lkdGgpCiAgICAgIC8vICAgICAuYXR0cignaGVpZ2h0JywgdGhpcy5zdmdGdWxsU2l6ZS5oZWlnaHQpOwoKICAgICAgLy8gdGhpcy5zZWFyY2hQb2ludFJlZ2wgPSBjcmVhdGVSZWdsKHRoaXMuc2VhcmNoUG9pbnRDYW52YXM/Lm5vZGUoKSk7CgogICAgICB0aGlzLnRvcGljQ2FudmFzZXMgPSBbXTsKICAgICAgZm9yIChjb25zdCBwb3Mgb2YgWyd0b3AnLCAnYm90dG9tJ10pIHsKICAgICAgICB0aGlzLnRvcGljQ2FudmFzZXMucHVzaChkMy5zZWxlY3QoZGlzY29tcG9uZW50KS5hcHBlbmQoJ2NhbnZhcycpLmF0dHIoJ2NsYXNzJywgYHRvcGljLWdyaWQtY2FudmFzICR7cG9zfWApLmF0dHIoJ3dpZHRoJywgYCR7dGhpcy5zdmdGdWxsU2l6ZS53aWR0aH1weGApLmF0dHIoJ2hlaWdodCcsIGAke3RoaXMuc3ZnRnVsbFNpemUuaGVpZ2h0fXB4YCkuY2xhc3NlZCgnaGlkZGVuJywgIXRoaXMuc2hvd0dyaWQpKTsKICAgICAgfQogICAgfSwKICAgIGluaXRTVkdHcm91cHMoKSB7CiAgICAgIHRoaXMuc3ZnID0gdGhpcy5jb21wb25lbnQuYXBwZW5kKCdzdmcnKS5hdHRyKCdjbGFzcycsICJlbWJlZGRpbmctc3ZnIikuYXR0cignd2lkdGgnLCB0aGlzLnN2Z0Z1bGxTaXplLndpZHRoKS5hdHRyKCdoZWlnaHQnLCB0aGlzLnN2Z0Z1bGxTaXplLmhlaWdodCk7CiAgICAgIGNvbnN0IHVtYXBHcm91cCA9IHRoaXMuc3ZnLmFwcGVuZCgnZycpLmF0dHIoJ2NsYXNzJywgJ3VtYXAtZ3JvdXAnKS5hdHRyKCd0cmFuc2Zvcm0nLCBgdHJhbnNsYXRlKCR7dGhpcy5zdmdQYWRkaW5nLmxlZnR9LCAke3RoaXMuc3ZnUGFkZGluZy50b3B9KWApOwogICAgICB1bWFwR3JvdXAuYXBwZW5kKCdnJykuYXR0cignY2xhc3MnLCAnY29udG91ci1ncm91cCcpLmNsYXNzZWQoJ2hpZGRlbicsICF0aGlzLnNob3dDb250b3Vycyk7CiAgICB9LAogICAgaW5pdFRvcFN2ZygpIHsKICAgICAgLy8g5Yib5bu65LiA5LiqIFNWRyDlhYPntKDlubborr7nva7lhbblsZ7mgKcKICAgICAgdGhpcy50b3BTdmcgPSB0aGlzLmNvbXBvbmVudC5hcHBlbmQoJ3N2ZycpLmF0dHIoJ2NsYXNzJywgInRvcC1zdmciKS5hdHRyKCd3aWR0aCcsIGAke3RoaXMuc3ZnRnVsbFNpemUud2lkdGh9cHhgKS5hdHRyKCdoZWlnaHQnLCBgJHt0aGlzLnN2Z0Z1bGxTaXplLmhlaWdodH1weGApIC8vIOiuvue9rumrmOW6pgogICAgICAub24oJ3BvaW50ZXJtb3ZlJywgZSA9PiB0aGlzLm1vdXNlbW92ZUhhbmRsZXIoZSkpLm9uKCdtb3VzZWxlYXZlJywgKCkgPT4gewogICAgICAgIGhpZ2hsaWdodFBvaW50KHRoaXMsIHsKICAgICAgICAgIHBvaW50OiB1bmRlZmluZWQsCiAgICAgICAgICBhbmltYXRlZDogZmFsc2UKICAgICAgICB9KTsKICAgICAgICBtb3VzZW92ZXJMYWJlbCh0aGlzLCBudWxsLCBudWxsKTsKICAgICAgfSkuYXR0cigndHJhbnNmb3JtJywgYHRyYW5zbGF0ZSgke3RoaXMuc3ZnUGFkZGluZy5sZWZ0fSwgJHt0aGlzLnN2Z1BhZGRpbmcudG9wfSlgKTsKICAgICAgY29uc29sZS5sb2coInRoZSB0b3BTdmciLCB0aGlzLnN2Z1BhZGRpbmcpOwogICAgICBjb25zdCB0b3BHcm91cCA9IHRoaXMudG9wU3ZnLmFwcGVuZCgnZycpLmF0dHIoJ2NsYXNzJywgJ3RvcC1ncm91cCcpOwogICAgICB0b3BHcm91cC5hcHBlbmQoJ3JlY3QnKS5hdHRyKCdjbGFzcycsICdtb3VzZS10cmFjay1yZWN0JykuYXR0cignd2lkdGgnLCB0aGlzLnN2Z0Z1bGxTaXplLndpZHRoKS5hdHRyKCdoZWlnaHQnLCB0aGlzLnN2Z0Z1bGxTaXplLmhlaWdodCk7CiAgICAgIGNvbnN0IHRvcENvbnRlbnQgPSB0b3BHcm91cC5hcHBlbmQoJ2cnKS5hdHRyKCdjbGFzcycsICd0b3AtY29udGVudCcpOwogICAgICB0b3BDb250ZW50LmFwcGVuZCgnZycpLmF0dHIoJ2NsYXNzJywgJ3RvcGljcy1ib3R0b20nKTsKICAgICAgdG9wQ29udGVudC5hcHBlbmQoJ2cnKS5hdHRyKCdjbGFzcycsICd0b3BpY3MnKS5jbGFzc2VkKCdoaWRkZW4nLCAhdGhpcy5zaG93TGFiZWwpOwogICAgICB0b3BDb250ZW50LmFwcGVuZCgnZycpLmF0dHIoJ2NsYXNzJywgJ3RvcGljcy10b3AnKTsKICAgICAgdG9wQ29udGVudC5hcHBlbmQoJ2cnKS5hdHRyKCdjbGFzcycsICdoaWdobGlnaHRzJyk7CiAgICB9LAogICAgem9vbWVkKGUpIHsKICAgICAgY29uc3QgdHJhbnNmb3JtID0gZS50cmFuc2Zvcm07CiAgICAgIGNvbnN0IHNjYWxlQ2hhbmdlZCA9IHRoaXMuY3VyWm9vbVRyYW5zZm9ybS5rICE9PSB0cmFuc2Zvcm0uazsKICAgICAgdGhpcy5jdXJab29tVHJhbnNmb3JtID0gdHJhbnNmb3JtOwoKICAgICAgLy8gPT09IFRhc2sgKDEpID09PQogICAgICAvLyBUcmFuc2Zvcm0gdGhlIFNWRyBlbGVtZW50cwogICAgICB0aGlzLnN2Zy5zZWxlY3QoJy51bWFwLWdyb3VwJykuYXR0cigndHJhbnNmb3JtJywgdHJhbnNmb3JtLnRvU3RyaW5nKCkpOwoKICAgICAgLy8gVHJhbnNmb3JtIHRoZSB0b3AgU1ZHIGVsZW1lbnRzCiAgICAgIHRoaXMudG9wU3ZnLnNlbGVjdCgnLnRvcC1ncm91cCcpLmF0dHIoJ3RyYW5zZm9ybScsIHRyYW5zZm9ybS50b1N0cmluZygpKTsKCiAgICAgIC8vIFRyYW5zZm9ybSB0aGUgdmlzaWJsZSBjYW52YXMgZWxlbWVudHMKICAgICAgaWYgKGFueVRydWUodGhpcy5zaG93UG9pbnRzKSkgewogICAgICAgIGlmICh0aGlzLmZyb250UG9zaXRpb25CdWZmZXIgJiYgdGhpcy5mcm9udFRleHR1cmVDb29yZGluYXRlQnVmZmVyKSB7CiAgICAgICAgICBkcmF3U2NhdHRlclBsb3QodGhpcyk7CiAgICAgICAgfQogICAgICB9CiAgICAgIGlmICh0aGlzLnNob3dHcmlkKSB7CiAgICAgICAgcmVkcmF3VG9waWNHcmlkKHRoaXMsIG51bGwpOwogICAgICB9CiAgICB9LAogICAgLy8gRXZlbnQgaGFuZGxlciBmb3Igem9vbSBlbmRlZAogICAgem9vbUVuZGVkKCkgewogICAgICBjb25zb2xlLmxvZygic3ZnIHpvb20gZW5kICEhISIpOwogICAgfSwKICAgIGluaXRXb3JrZXIoKSB7CiAgICAgIC8vIEluaXRpYWxpemUgdGhlIHdlYiB3b3JrZXIgdG8gbG9hZCBkYXRhIGFuZCBkZWFsIHdpdGggdGhlIHF1YWR0cmVlCiAgICAgIHRoaXMubG9hZGVyV29ya2VyID0gbmV3IExvYWRlcldvcmtlcigpOwogICAgICB0aGlzLmxvYWRlcldvcmtlci5vbm1lc3NhZ2UgPSBlID0+IHsKICAgICAgICB0aGlzLmxvYWRlcldvcmtlck1lc3NhZ2VIYW5kbGVyKGUpOwogICAgICB9OwogICAgICB0aGlzLnRyZWVXb3JrZXIgPSBuZXcgVHJlZVdvcmtlcigpOwogICAgICB0aGlzLnRyZWVXb3JrZXIub25tZXNzYWdlID0gZSA9PiB7CiAgICAgICAgdGhpcy50cmVlV29ya2VyTWVzc2FnZUhhbmRsZXIoZSk7CiAgICAgIH07CiAgICB9LAogICAgbG9hZGVyV29ya2VyTWVzc2FnZUhhbmRsZXIoZSkgewogICAgICBzd2l0Y2ggKGUuZGF0YS5jb21tYW5kKSB7CiAgICAgICAgY2FzZSAndHJhbnNmZXJMb2FkRGF0YSc6CiAgICAgICAgICB7CiAgICAgICAgICAgIC8vIEFkZCB0aGVzZSBwb2ludHMgdG8gdGhlIHF1YWR0cmVlIEFTQVAKICAgICAgICAgICAgY29uc3QgdHJlZU1lc3NhZ2UgPSB7CiAgICAgICAgICAgICAgY29tbWFuZDogJ3VwZGF0ZVF1YWR0cmVlJywKICAgICAgICAgICAgICBwYXlsb2FkOiB7CiAgICAgICAgICAgICAgICBwb2ludHM6IGUuZGF0YS5wYXlsb2FkLnBvaW50cwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfTsKICAgICAgICAgICAgdGhpcy50cmVlV29ya2VyLnBvc3RNZXNzYWdlKHRyZWVNZXNzYWdlKTsKICAgICAgICAgICAgaWYgKGUuZGF0YS5wYXlsb2FkLmlzRmlyc3RCYXRjaCkgewogICAgICAgICAgICAgIC8vIEFkZCB0aGUgZmlyc3QgYmF0Y2ggcG9pbnRzCiAgICAgICAgICAgICAgdGhpcy5wcm9tcHRQb2ludHMgPSBlLmRhdGEucGF5bG9hZC5wb2ludHM7CiAgICAgICAgICAgICAgaW5pdFdlYkdMQnVmZmVycyh0aGlzKTsKICAgICAgICAgICAgICBpZiAoYW55VHJ1ZSh0aGlzLnNob3dQb2ludHMpKSB7CiAgICAgICAgICAgICAgICBkcmF3U2NhdHRlclBsb3QodGhpcyk7CiAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAvLyBBZGQgdGhlIHBvaW50cyB0byB0aGUgc2VhcmNoIGluZGV4CiAgICAgICAgICAgICAgY29uc3Qgc2VhcmNoTWVzc2FnZSA9IHsKICAgICAgICAgICAgICAgIGNvbW1hbmQ6ICdhZGRQb2ludHMnLAogICAgICAgICAgICAgICAgcGF5bG9hZDogewogICAgICAgICAgICAgICAgICBwb2ludHM6IGUuZGF0YS5wYXlsb2FkLnBvaW50cwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgLy8gdGhpcy5zZWFyY2hXb3JrZXIucG9zdE1lc3NhZ2Uoc2VhcmNoTWVzc2FnZSk7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgLy8gQmF0Y2hlcyBhZnRlciB0aGUgZmlyc3QgYmF0Y2gKICAgICAgICAgICAgICAvLyBBZGQgdGhlIHBvaW50cyB0byB0aGUgcHJvbXB0IHBvaW50IGxpc3QKICAgICAgICAgICAgICBjb25zdCBuZXdQb2ludHMgPSBlLmRhdGEucGF5bG9hZC5wb2ludHM7CiAgICAgICAgICAgICAgZm9yIChjb25zdCBwb2ludCBvZiBuZXdQb2ludHMpIHsKICAgICAgICAgICAgICAgIHRoaXMucHJvbXB0UG9pbnRzLnB1c2gocG9pbnQpOwogICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgLy8gQWRkIHRoZSBwb2ludHMgdG8gdGhlIHNlYXJjaCBpbmRleAogICAgICAgICAgICAgIC8vIGNvbnN0IHNlYXJjaE1lc3NhZ2UgPSB7CiAgICAgICAgICAgICAgLy8gICAgIGNvbW1hbmQ6ICdhZGRQb2ludHMnLAogICAgICAgICAgICAgIC8vICAgICBwYXlsb2FkOiB7CiAgICAgICAgICAgICAgLy8gICAgICAgICBwb2ludHM6IG5ld1BvaW50cwogICAgICAgICAgICAgIC8vICAgICB9CiAgICAgICAgICAgICAgLy8gfTsKICAgICAgICAgICAgICAvLyB0aGlzLnNlYXJjaFdvcmtlci5wb3N0TWVzc2FnZShzZWFyY2hNZXNzYWdlKTsKCiAgICAgICAgICAgICAgLy8gQWRkIHRoZSBuZXcgcG9pbnRzIHRvIHRoZSBXZWJHTCBidWZmZXJzCiAgICAgICAgICAgICAgdXBkYXRlV2ViR0xCdWZmZXJzKHRoaXMsIG5ld1BvaW50cyk7CiAgICAgICAgICAgICAgaWYgKGFueVRydWUodGhpcy5zaG93UG9pbnRzKSkgewogICAgICAgICAgICAgICAgZHJhd1NjYXR0ZXJQbG90KHRoaXMpOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgICBpZiAoZS5kYXRhLnBheWxvYWQuaXNMYXN0QmF0Y2gpIHsKICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdGaW5pc2hlZCBsb2FkaW5nIGFsbCBkYXRhLicpOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQoKICAgICAgICAgICAgLy8gVXBkYXRlIHRoZSBkYXRhIHBvaW50IGNvdW50CiAgICAgICAgICAgIHRoaXMubG9hZGVkUG9pbnRDb3VudCA9IGUuZGF0YS5wYXlsb2FkLmxvYWRlZFBvaW50Q291bnQ7CgogICAgICAgICAgICAvLyBVcGRhdGUgdGhlIGZvb3RlcgogICAgICAgICAgICB0aGlzLmZvb3RlclN0b3JlVmFsdWUubnVtUG9pbnRzID0gdGhpcy5wcm9tcHRQb2ludHMubGVuZ3RoOwogICAgICAgICAgICAvLyB0aGlzLmZvb3RlclN0b3JlLnNldCh0aGlzLmZvb3RlclN0b3JlVmFsdWUpOwogICAgICAgICAgICBicmVhazsKICAgICAgICAgIH0KICAgICAgICBkZWZhdWx0OgogICAgICAgICAgewogICAgICAgICAgICBjb25zb2xlLmVycm9yKCdVbmtub3duIG1lc3NhZ2UnLCBlLmRhdGEuY29tbWFuZCk7CiAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgfQogICAgICB9CiAgICB9LAogICAgdHJlZVdvcmtlck1lc3NhZ2VIYW5kbGVyKGUpIHsKICAgICAgc3dpdGNoIChlLmRhdGEuY29tbWFuZCkgewogICAgICAgIGNhc2UgJ2ZpbmlzaEluaXRRdWFkdHJlZSc6CiAgICAgICAgICB7CiAgICAgICAgICAgIC8vIFRlbGwgdGhlIGxvYWRlciB3b3JrZXIgdG8gc3RhcnQgbG9hZGluZyBkYXRhCiAgICAgICAgICAgIC8vIChuZWVkIHRvIHdhaXQgdG8gc2V0IHVwIHRoZSBxdWFkdHJlZSB0byBhdm9pZCByYWNpbmcpCiAgICAgICAgICAgIGNvbnN0IG1lc3NhZ2UgPSB7CiAgICAgICAgICAgICAgY29tbWFuZDogJ3N0YXJ0TG9hZERhdGEnLAogICAgICAgICAgICAgIHBheWxvYWQ6IHsKICAgICAgICAgICAgICAgIHVybDogdGhpcy4kc3RvcmUuc3RhdGUuZGF0YVVSTHMucG9pbnQKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH07CiAgICAgICAgICAgIHRoaXMubG9hZGVyV29ya2VyLnBvc3RNZXNzYWdlKG1lc3NhZ2UpOwogICAgICAgICAgICBicmVhazsKICAgICAgICAgIH0KICAgICAgICBjYXNlICdmaW5pc2hRdWFkdHJlZVNlYXJjaCc6CiAgICAgICAgICB7CiAgICAgICAgICAgIGlmICh0aGlzLmxhc3RNb3VzZUNsaWVudFBvc2l0aW9uID09PSBudWxsKSB7CiAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdsYXN0TW91c2VDbGllbnRQb3NpdGlvbiBpcyBudWxsJyk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgLy8gQ2hlY2sgaWYgdGhlIGNsb3Nlc3QgcG9pbnQgaXMgcmVsYXRpdmVseSBjbG9zZSB0byB0aGUgbW91c2UKICAgICAgICAgICAgY29uc3QgY2xvc2VzdFBvaW50ID0gc3RydWN0dXJlZENsb25lKGUuZGF0YS5wYXlsb2FkLnBvaW50KTsKICAgICAgICAgICAgY29uc3Qgc2NyZWVuUG9pbnRYID0gdGhpcy5jdXJab29tVHJhbnNmb3JtLmFwcGx5WCh0aGlzLnhTY2FsZShjbG9zZXN0UG9pbnQueCkpOwogICAgICAgICAgICBjb25zdCBzY3JlZW5Qb2ludFkgPSB0aGlzLmN1clpvb21UcmFuc2Zvcm0uYXBwbHlZKHRoaXMueVNjYWxlKGNsb3Nlc3RQb2ludC55KSk7CiAgICAgICAgICAgIGNvbnN0IGRpc3RhbmNlID0gTWF0aC5tYXgoTWF0aC5hYnMoc2NyZWVuUG9pbnRYIC0gdGhpcy5sYXN0TW91c2VDbGllbnRQb3NpdGlvbi54KSwgTWF0aC5hYnMoc2NyZWVuUG9pbnRZIC0gdGhpcy5sYXN0TW91c2VDbGllbnRQb3NpdGlvbi55KSk7CiAgICAgICAgICAgIGNvbnN0IGhpZ2hsaWdodFJhZGl1cyA9IE1hdGgubWF4KDEwIC8gdGhpcy5jdXJab29tVHJhbnNmb3JtLmssIGNvbmZpZy5sYXlvdXQuc2NhdHRlckRvdFJhZGl1cyAqIE1hdGguZXhwKE1hdGgubG9nKHRoaXMuY3VyWm9vbVRyYW5zZm9ybS5rKSAqIDAuNTUpIC8gdGhpcy5jdXJab29tVHJhbnNmb3JtLmspOwoKICAgICAgICAgICAgLy8gSGlnaGxpZ2h0IHRoZSBwb2ludCBpZiBpdCBpcyBjbG9zZSBlbm91Z2ggdG8gdGhlIG1vdXNlCiAgICAgICAgICAgIGNvbnN0IGN1ckhvdmVyUmFkaXVzID0gTWF0aC5tYXgoSE9WRVJfUkFESVVTLCBoaWdobGlnaHRSYWRpdXMgKiB0aGlzLmN1clpvb21UcmFuc2Zvcm0uayk7CiAgICAgICAgICAgIGlmIChkaXN0YW5jZSA8PSBjdXJIb3ZlclJhZGl1cykgewogICAgICAgICAgICAgIGhpZ2hsaWdodFBvaW50KHRoaXMsIHsKICAgICAgICAgICAgICAgIHBvaW50OiBjbG9zZXN0UG9pbnQsCiAgICAgICAgICAgICAgICBhbmltYXRlZDogZmFsc2UKICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICBoaWdobGlnaHRQb2ludCh0aGlzLCB7CiAgICAgICAgICAgICAgICBwb2ludDogdW5kZWZpbmVkLAogICAgICAgICAgICAgICAgYW5pbWF0ZWQ6IGZhbHNlCiAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICB9CiAgICAgICAgZGVmYXVsdDoKICAgICAgICAgIHsKICAgICAgICAgICAgY29uc29sZS5lcnJvcignVW5rbm93biBtZXNzYWdlJywgZS5kYXRhLmNvbW1hbmQpOwogICAgICAgICAgICBicmVhazsKICAgICAgICAgIH0KICAgICAgfQogICAgfSwKICAgIG1vdXNlb3ZlclBvaW50KHgsIHkpIHsKICAgICAgLy8gSW52ZXJ0IHRvIHRoZSBzdGFnZSBzY2FsZSA9PiBpbnZlcnQgdG8gdGhlIGRhdGEgc2NhbGUKICAgICAgY29uc3QgZGF0YVggPSB0aGlzLnhTY2FsZS5pbnZlcnQodGhpcy5jdXJab29tVHJhbnNmb3JtLmludmVydFgoeCkpOwogICAgICBjb25zdCBkYXRhWSA9IHRoaXMueVNjYWxlLmludmVydCh0aGlzLmN1clpvb21UcmFuc2Zvcm0uaW52ZXJ0WSh5KSk7CgogICAgICAvLyBMZXQgdGhlIHdvcmtlciB0byBzZWFyY2ggdGhlIGNsb3Nlc3QgcG9pbnQgaW4gYSByYWRpdXMKICAgICAgbGV0IGdyb3VwSUQgPSAtMTsKICAgICAgaWYgKHRoaXMuZ3JvdXBOYW1lcykgewogICAgICAgIGlmIChhbGxUcnVlKHRoaXMuc2hvd1BvaW50cykpIHsKICAgICAgICAgIGdyb3VwSUQgPSAtMTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgLy8gVE9ETzogTmVlZCBhIGJldHRlciB3YXkgdG8gc2VhcmNoIHNsaWNlcyBvZiBncm91cHMgZm9yIG11bHRpIGdyb3VwcwogICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLnNob3dQb2ludHMubGVuZ3RoOyBpKyspIHsKICAgICAgICAgICAgaWYgKHRoaXMuc2hvd1BvaW50c1tpXSkgewogICAgICAgICAgICAgIGdyb3VwSUQgPSBpOwogICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9CiAgICAgIGNvbnN0IG1lc3NhZ2UgPSB7CiAgICAgICAgY29tbWFuZDogJ3N0YXJ0UXVhZHRyZWVTZWFyY2gnLAogICAgICAgIHBheWxvYWQ6IHsKICAgICAgICAgIHg6IGRhdGFYLAogICAgICAgICAgeTogZGF0YVksCiAgICAgICAgICB0aW1lOiB0aGlzLnRpbWVJbnNwZWN0TW9kZSAmJiB0aGlzLmN1clRpbWUgPyB0aGlzLmN1clRpbWUgOiAnJywKICAgICAgICAgIGdyb3VwSUQ6IGdyb3VwSUQKICAgICAgICB9CiAgICAgIH07CiAgICAgIHRoaXMudHJlZVdvcmtlci5wb3N0TWVzc2FnZShtZXNzYWdlKTsKICAgIH0sCiAgICBtb3VzZW1vdmVIYW5kbGVyKGUpIHsKICAgICAgLy8gU2hvdyB0b29sdGlwIHdoZW4gbW91c2Ugb3ZlciBhIGRhdGEgcG9pbnQgb24gY2FudmFzCiAgICAgIC8vIFdlIG5lZWQgdG8gdXNlIGNvbG9yIHBpY2tpbmcgdG8gZmlndXJlIG91dCB3aGljaCBwb2ludCBpcyBob3ZlcmVkIG92ZXIKICAgICAgY29uc3QgeCA9IGUub2Zmc2V0WDsKICAgICAgY29uc3QgeSA9IGUub2Zmc2V0WTsKICAgICAgdGhpcy5sYXN0TW91c2VDbGllbnRQb3NpdGlvbiA9IHsKICAgICAgICB4OiB4LAogICAgICAgIHk6IHkKICAgICAgfTsKCiAgICAgIC8vIFNob3cgcG9pbnQgaGlnaGxpZ2h0CiAgICAgIGlmIChhbnlUcnVlKHRoaXMuc2hvd1BvaW50cykgJiYgIXRoaXMuaGlkZUhpZ2hsaWdodHMpIHsKICAgICAgICB0aGlzLm1vdXNlb3ZlclBvaW50KHgsIHkpOwogICAgICB9CgogICAgICAvLyBTaG93IGxhYmVscwogICAgICBpZiAoIXRoaXMuaGlkZUhpZ2hsaWdodHMpIHsKICAgICAgICBtb3VzZW92ZXJMYWJlbCh0aGlzLCB4LCB5KTsKICAgICAgfQogICAgfSwKICAgIGdldEN1clpvb21Cb3goKSB7CiAgICAgIGNvbnN0IGJveCA9IHsKICAgICAgICB4OiB0aGlzLmN1clpvb21UcmFuc2Zvcm0uaW52ZXJ0WCgwKSwKICAgICAgICB5OiB0aGlzLmN1clpvb21UcmFuc2Zvcm0uaW52ZXJ0WSgwKSwKICAgICAgICB3aWR0aDogTWF0aC5hYnModGhpcy5jdXJab29tVHJhbnNmb3JtLmludmVydFgodGhpcy5zdmdGdWxsU2l6ZS53aWR0aCkgLSB0aGlzLmN1clpvb21UcmFuc2Zvcm0uaW52ZXJ0WCgwKSksCiAgICAgICAgaGVpZ2h0OiBNYXRoLmFicyh0aGlzLmN1clpvb21UcmFuc2Zvcm0uaW52ZXJ0WSh0aGlzLnN2Z0Z1bGxTaXplLmhlaWdodCkgLSB0aGlzLmN1clpvb21UcmFuc2Zvcm0uaW52ZXJ0WSgwKSkKICAgICAgfTsKICAgICAgcmV0dXJuIGJveDsKICAgIH0KICB9LAogIGNvbXB1dGVkOiB7CiAgICAuLi5tYXBTdGF0ZSh7CiAgICAgIGljb25TaG93OiAiaWNvblNob3ciCiAgICB9KQogIH0sCiAgd2F0Y2g6IHsKICAgIGljb25TaG93OiB7CiAgICAgIGhhbmRsZXIobmV3VmFsKSB7CiAgICAgICAgdGhpcy5zaG93R3JpZCA9IG5ld1ZhbC5ncmlkOwogICAgICAgIHRoaXMudG9waWNDYW52YXNlcy5mb3JFYWNoKGMgPT4gewogICAgICAgICAgYy5jbGFzc2VkKCdoaWRkZW4nLCAhdGhpcy5zaG93R3JpZCk7CiAgICAgICAgfSk7CiAgICAgIH0sCiAgICAgIGRlZXA6IHRydWUKICAgIH0KICB9Cn07"},{"version":3,"names":["mapState","config","createRegl","d3","initWebGLMatrices","initWebGLBuffers","drawScatterPlot","drawGroupContour","updateWebGLBuffers","anyTrue","allTrue","highlightPoint","displayGroupChanged","redrawTopicGrid","mouseoverLabel","LoaderWorker","TreeWorker","PointDrawer","HOVER_RADIUS","name","components","data","component","svg","svgFullSize","width","height","svgSize","svgPadding","top","bottom","left","right","topSvg","topicCanvases","pointCanvas","pointRegl","frontPositionBuffer","frontTextureCoordinateBuffer","frontBufferPointSize","searchPointCanvas","searchPointRegl","searchPointPositionBuffer","searchPointTextureCoordinateBuffer","searchPointResults","tooltipTop","tooltipBottom","hoverPoint","xScale","yScale","zoom","initZoomTransform","curZoomTransform","curZoomLevel","lastMouseClientPosition","hideHighlights","showContours","showGrid","showPoints","showLabel","dataURLs","promptPoints","gridData","tileData","contours","groupContour","contoursInitialized","loadedPointCount","timeTextureMap","groupNames","completedSearchQueryID","webGLMatrices","curPointWidth","topicLevelTrees","Map","lastGridTreeLevels","loaderWorker","treeWorker","footerStoreValue","embeddingName","numPoints","DEBUG","debug","handledFooterMessageID","mounted","init","methods","dag","$refs","distributionMain","clientHeight","clientWidth","console","log","select","initWorker","initTopSvg","initCanvas","initSVGGroups","initData","then","forEach","c","classed","extent","scaleExtent","layout","zoomScale","interpolate","on","g","zoomed","zoomEnded","call","document","querySelector","squareCanvasWidth","Math","min","zoomIdentity","json","$store","state","grid","undefined","xRange","yRange","xLength","yLength","padded","scaleLinear","domain","range","treeMessage","command","payload","groupIDs","times","postMessage","level","Object","keys","topic","tree","quadtree","x","d","y","addAll","set","parseInt","groupGrids","umapGroup","groupContours","i","length","push","append","attr","curContour","_this$pointCanvas","discomponent","node","pos","e","mousemoveHandler","point","animated","topGroup","topContent","transform","scaleChanged","k","toString","onmessage","loaderWorkerMessageHandler","treeWorkerMessageHandler","points","isFirstBatch","searchMessage","newPoints","isLastBatch","error","message","url","Error","closestPoint","structuredClone","screenPointX","applyX","screenPointY","applyY","distance","max","abs","highlightRadius","scatterDotRadius","exp","curHoverRadius","mouseoverPoint","dataX","invert","invertX","dataY","invertY","groupID","time","timeInspectMode","curTime","offsetX","offsetY","getCurZoomBox","box","computed","iconShow","watch","handler","newVal","deep"],"sources":["src/views/MainView/MiddleMainView/DistributionView.vue"],"sourcesContent":["<template>\n    <div class=\"mapview-class\">\n        <div id=\"popper-tooltip-top\" class=\"popper-tooltip hidden\" role=\"tooltip\">\n            <span class=\"popper-content\"></span>\n            <div class=\"popper-arrow\"></div>\n        </div>\n\n        <div id=\"popper-tooltip-bottom\" class=\"popper-tooltip hidden\" role=\"tooltip\">\n            <span class=\"popper-content\"></span>\n            <div class=\"popper-arrow\"></div>\n        </div>\n\n        <div v-if=\"this.$store.state.isDone['DisT']\" class=\"distribution-main\" ref=\"distributionMain\">\n        </div>\n\n    </div>\n\n</template>\n\n\n<script>\nimport { mapState } from \"vuex\";\nimport { config } from '@/config/config';\nimport createRegl from 'regl';\nimport d3 from '../../../utils/d3-import';\nimport { initWebGLMatrices, initWebGLBuffers, drawScatterPlot, drawGroupContour, updateWebGLBuffers, anyTrue, allTrue, highlightPoint, displayGroupChanged } from '../../../components/Embedding/Embedding';\nimport { redrawTopicGrid, mouseoverLabel } from '../../../components/Embedding/EmbeddingLabel';\nimport LoaderWorker from '../../../components/Embedding/workers/loader.worker';\nimport TreeWorker from '../../../components/Embedding/workers/tree.worker';\nimport * as PointDrawer from '../../../components/Embedding/EmbeddingPointWebGL'\n\nimport { HOVER_RADIUS } from '../../../utils/utils';\n\nexport default {\n    name: \"DistributionView\",\n    components: {\n\n    },\n    data() {\n        return {\n            component: null,    // HTMLElement： d3.select('.distribution-main')\n\n            svg: null,    // d3.Selection<HTMLElement, unknown, null, undefined>, unsed for drawing contour\n            svgFullSize: { width: 0, height: 0 },   // Size\n            svgSize: { width: 0, height: 0 }, // square draw \n            svgPadding: { top: 0, bottom: 0, left: 0, right: 0 }, // Padding\n\n            topSvg: null,   // d3.Selection<HTMLElement, unknown, null, undefined>, unsed for drawing hightlights\n            topicCanvases: [],  // used for drawing embedding points and others\n\n            // points\n            pointCanvas: null,\n            pointRegl: null,\n            frontPositionBuffer: null,\n            frontTextureCoordinateBuffer: null,\n            frontBufferPointSize: 0,\n\n            // search\n            searchPointCanvas: null,\n            searchPointRegl: null,\n            searchPointPositionBuffer: null,\n            searchPointTextureCoordinateBuffer: null,\n            searchPointResults: null,\n\n            // Tooltips\n            tooltipTop: null,\n            tooltipBottom: null,\n            hoverPoint: null,\n\n            xScale: null,\n            yScale: null,\n\n            // zooming\n            zoom: null, // d3.ZoomBehavior<HTMLElement, unknown>\n            initZoomTransform: null,\n            curZoomTransform: null,\n            curZoomLevel: 1,\n\n            // interaction\n            lastMouseClientPosition: null,\n            hideHighlights: false,\n\n            // user settings\n            showContours: [],\n            showGrid: true,\n            showPoints: [false],\n            showLabel: false,\n\n            // data\n            dataURLs: null,\n            promptPoints: [],\n            gridData: null,\n            tileData: null,\n            contours: null,\n            groupContour: null,\n            contoursInitialized: false,\n            loadedPointCount: 1,\n\n            // Time\n            timeTextureMap: null,\n\n            // Group\n            groupNames: [],\n\n            // search\n            completedSearchQueryID: null,\n\n            // scatter plot\n            webGLMatrices: null,\n            curPointWidth: 1,\n\n            // display labels\n            topicLevelTrees: new Map(),\n            lastGridTreeLevels: [],\n\n\n\n            // Web workers\n            loaderWorker: null,\n            treeWorker: null,\n\n            // store\n            footerStoreValue: { xScale: null, embeddingName: null, numPoints: null },\n\n\n            // other top\n            DEBUG: config.debug,\n\n            handledFooterMessageID: 0,\n\n\n        };\n    },\n    mounted() {\n\n        this.init();\n\n    },\n    methods: {\n        init() {\n\n            const dag = this.$refs.distributionMain;\n            this.svgFullSize.height = dag.clientHeight;\n            this.svgFullSize.width = dag.clientWidth;\n\n            console.log(\"the svgFullsize\", this.svgFullSize)\n\n            this.component = d3.select('.distribution-main');\n            this.showGrid = true;\n\n\n            this.initWorker();\n\n            this.initTopSvg();\n            // Initialize the canvases\n            this.initCanvas();\n            // \n            this.initSVGGroups();\n\n            this.initData().then(() => {\n\n                initWebGLMatrices(this); // 确保 this 指向 Vue 实例\n\n                initWebGLBuffers(this);\n                displayGroupChanged(this, \"Image\")\n                drawScatterPlot(this);\n\n                drawGroupContour(this);\n\n                this.topicCanvases.forEach(c => c.classed('hidden', !this.showGrid));\n                this.showPoints = [true];\n                redrawTopicGrid(this, null);\n            });\n\n            // Register zoom\n            this.zoom = d3\n                .zoom()\n                .extent([\n                    [0, 0],\n                    [this.svgSize.width, this.svgSize.height]\n                ])\n                .scaleExtent([config.layout.zoomScale[0], config.layout.zoomScale[1]])\n                .interpolate(d3.interpolate)\n                .on('zoom', (g) => {\n                    (async () => {\n                        await this.zoomed(g);\n                    })();\n                })\n                .on('end', () => this.zoomEnded());\n\n            this.topSvg.call(this.zoom).on('dblclick.zoom', null);\n\n            this.tooltipTop = document.querySelector('#popper-tooltip-top');\n            this.tooltipBottom = document.querySelector('#popper-tooltip-bottom');\n\n            const squareCanvasWidth = Math.min(\n                this.svgFullSize.width - this.svgPadding.left - this.svgPadding.right,\n                this.svgFullSize.height - this.svgPadding.top - this.svgPadding.bottom\n            );\n\n            this.svgSize = {\n                width: squareCanvasWidth,\n                height: squareCanvasWidth\n            };\n\n\n            this.curZoomTransform = d3.zoomIdentity;\n\n        },\n        async initData() {\n\n            const gridData = await d3.json(this.$store.state.dataURLs.grid);\n            if (gridData === undefined) {\n                console.log('Fail to load grid data');\n            }\n\n            this.gridData = gridData;\n\n            // Initialize the data scales\n            const xRange = this.gridData.xRange;\n            const yRange = this.gridData.yRange;\n\n            let xLength = xRange[1] - xRange[0];\n            let yLength = yRange[1] - yRange[0];\n\n            if (!this.gridData.padded) {\n                // Add padding for the data\n                if (xLength < yLength) {\n                    yRange[0] -= yLength / 50;\n                    yRange[1] += yLength / 50;\n                    yLength = yRange[1] - yRange[0];\n\n                    xRange[0] -= (yLength - xLength) / 2;\n                    xRange[1] += (yLength - xLength) / 2;\n                } else {\n                    // Add padding for the data\n                    xRange[0] -= xLength / 50;\n                    xRange[1] += xLength / 50;\n                    xLength = xRange[1] - xRange[0];\n\n                    yRange[0] -= (xLength - yLength) / 2;\n                    yRange[1] += (xLength - yLength) / 2;\n                }\n            }\n            this.xScale = d3\n                .scaleLinear()\n                .domain(xRange)\n                .range([0, this.svgSize.width]);\n\n            this.yScale = d3\n                .scaleLinear()\n                .domain(yRange)\n                .range([this.svgSize.height, 0]);\n\n            const treeMessage = {\n                command: 'initQuadtree',\n                payload: {\n                    xRange: xRange,\n                    yRange: yRange,\n                    groupIDs: -1,\n                    times: ['']\n                }\n            };\n\n            this.treeWorker.postMessage(treeMessage);\n\n            for (const level of Object.keys(this.gridData.topic.data)) {\n                const tree = d3\n                    .quadtree()\n                    .x(function (d) { return d[0]; })\n                    .y(function (d) { return d[1]; })\n                    .addAll(this.gridData.topic.data[level]);\n                this.topicLevelTrees.set(parseInt(level, 10), tree);\n            }\n\n\n\n            // Create group related structures if the data has groups\n            if (this.gridData.groupGrids && this.gridData.groupNames) {\n                this.groupNames = this.gridData.groupNames;\n                const umapGroup = this.svg.select('g.umap-group');\n\n                // Adjust the first contour's name\n                this.showContours = [];\n                this.showPoints = [];\n                this.groupContours = [];\n\n                for (let i = 0; i < this.groupNames.length; i++) {\n                    // Add groups to the control states\n                    // (Default is to show the first group only)\n                    this.showContours.push(i === 0);\n                    this.showPoints.push(i === 0);\n\n                    // Add contour elements for other groups\n                    const name = this.groupNames[i];\n                    umapGroup\n                        .append('g')\n                        .attr('class', `contour-group-generic contour-group-${name}`)\n                        .classed('hidden', i !== 0);\n\n                    // Drw the group contour\n                    const curContour = drawGroupContour(name);\n                    if (curContour !== null) {\n                        this.groupContours.push(curContour);\n                    }\n                }\n            }\n\n        },\n        initCanvas() {\n\n            const discomponent = this.$refs.distributionMain;\n            this.pointCanvas = d3.select(discomponent)\n                .append('canvas')\n                .attr('class', 'embedding-canvas')\n                .attr('width', this.svgFullSize.width)\n                .attr('height', this.svgFullSize.height);\n\n            this.pointRegl = createRegl(this.pointCanvas?.node());\n\n            // this.searchPointCanvas = d3.select(discomponent)\n            //     .append('canvas')\n            //     .attr('class', 'search-point-canvas')\n            //     .attr('width', this.svgFullSize.width)\n            //     .attr('height', this.svgFullSize.height);\n\n            // this.searchPointRegl = createRegl(this.searchPointCanvas?.node());\n\n            this.topicCanvases = [];\n            for (const pos of ['top', 'bottom']) {\n                this.topicCanvases.push(\n                    d3\n                        .select(discomponent)\n                        .append('canvas')\n                        .attr('class', `topic-grid-canvas ${pos}`)\n                        .attr('width', `${this.svgFullSize.width}px`)\n                        .attr('height', `${this.svgFullSize.height}px`)\n                        .classed('hidden', !this.showGrid)\n                );\n            }\n\n        },\n        initSVGGroups() {\n\n            this.svg = this.component.append('svg')\n                .attr('class', \"embedding-svg\")\n                .attr('width', this.svgFullSize.width)\n                .attr('height', this.svgFullSize.height);\n\n\n            const umapGroup = this.svg\n                .append('g')\n                .attr('class', 'umap-group')\n                .attr(\n                    'transform',\n                    `translate(${this.svgPadding.left}, ${this.svgPadding.top})`\n                );\n\n            umapGroup\n                .append('g')\n                .attr('class', 'contour-group')\n                .classed('hidden', !this.showContours);\n\n        },\n        initTopSvg() {\n\n            // 创建一个 SVG 元素并设置其属性\n            this.topSvg = this.component.append('svg')\n                .attr('class', \"top-svg\")\n                .attr('width', `${this.svgFullSize.width}px`)\n                .attr('height', `${this.svgFullSize.height}px`) // 设置高度\n                .on('pointermove', e => this.mousemoveHandler(e))\n                .on('mouseleave', () => {\n                    highlightPoint(this, { point: undefined, animated: false });\n                    mouseoverLabel(this, null, null);\n                })\n                .attr(\n                    'transform',\n                    `translate(${this.svgPadding.left}, ${this.svgPadding.top})`\n                );\n\n            console.log(\"the topSvg\", this.svgPadding)\n\n            const topGroup = this.topSvg.append('g').attr('class', 'top-group');\n\n            topGroup\n                .append('rect')\n                .attr('class', 'mouse-track-rect')\n                .attr('width', this.svgFullSize.width)\n                .attr('height', this.svgFullSize.height);\n\n            const topContent = topGroup.append('g').attr('class', 'top-content');\n\n            topContent.append('g').attr('class', 'topics-bottom');\n            topContent\n                .append('g')\n                .attr('class', 'topics')\n                .classed('hidden', !this.showLabel);\n            topContent.append('g').attr('class', 'topics-top');\n            topContent.append('g').attr('class', 'highlights');\n\n\n\n        },\n        zoomed(e) {\n\n            const transform = e.transform;\n            const scaleChanged = this.curZoomTransform.k !== transform.k;\n            this.curZoomTransform = transform;\n\n            // === Task (1) ===\n            // Transform the SVG elements\n            this.svg.select('.umap-group').attr('transform', transform.toString());\n\n            // Transform the top SVG elements\n            this.topSvg\n                .select('.top-group')\n                .attr('transform', transform.toString());\n\n            // Transform the visible canvas elements\n            if (anyTrue(this.showPoints)) {\n                if (this.frontPositionBuffer && this.frontTextureCoordinateBuffer) {\n                    drawScatterPlot(this);\n                }\n            }\n\n            if (this.showGrid) {\n                redrawTopicGrid(this, null);\n            }\n\n\n\n        },\n        // Event handler for zoom ended\n        zoomEnded() {\n            console.log(\"svg zoom end !!!\")\n        },\n        initWorker() {\n            // Initialize the web worker to load data and deal with the quadtree\n            this.loaderWorker = new LoaderWorker();\n            this.loaderWorker.onmessage = (e) => {\n                this.loaderWorkerMessageHandler(e);\n            };\n\n            this.treeWorker = new TreeWorker();\n            this.treeWorker.onmessage = (e) => {\n                this.treeWorkerMessageHandler(e);\n            };\n        },\n        loaderWorkerMessageHandler(e) {\n            switch (e.data.command) {\n                case 'transferLoadData': {\n                    // Add these points to the quadtree ASAP\n                    const treeMessage = {\n                        command: 'updateQuadtree',\n                        payload: {\n                            points: e.data.payload.points\n                        }\n                    };\n                    this.treeWorker.postMessage(treeMessage);\n\n                    if (e.data.payload.isFirstBatch) {\n                        // Add the first batch points\n                        this.promptPoints = e.data.payload.points;\n\n                        initWebGLBuffers(this);\n                        if (anyTrue(this.showPoints)) {\n                            drawScatterPlot(this);\n                        }\n\n                        // Add the points to the search index\n                        const searchMessage = {\n                            command: 'addPoints',\n                            payload: {\n                                points: e.data.payload.points\n                            }\n                        };\n                        // this.searchWorker.postMessage(searchMessage);\n                    } else {\n                        // Batches after the first batch\n                        // Add the points to the prompt point list\n                        const newPoints = e.data.payload.points;\n                        for (const point of newPoints) {\n                            this.promptPoints.push(point);\n                        }\n\n                        // Add the points to the search index\n                        // const searchMessage = {\n                        //     command: 'addPoints',\n                        //     payload: {\n                        //         points: newPoints\n                        //     }\n                        // };\n                        // this.searchWorker.postMessage(searchMessage);\n\n                        // Add the new points to the WebGL buffers\n                        updateWebGLBuffers(this, newPoints);\n                        if (anyTrue(this.showPoints)) {\n                            drawScatterPlot(this);\n                        }\n\n                        if (e.data.payload.isLastBatch) {\n                            console.log('Finished loading all data.');\n                        }\n                    }\n\n                    // Update the data point count\n                    this.loadedPointCount = e.data.payload.loadedPointCount;\n\n                    // Update the footer\n                    this.footerStoreValue.numPoints = this.promptPoints.length;\n                    // this.footerStore.set(this.footerStoreValue);\n                    break;\n                }\n\n                default: {\n                    console.error('Unknown message', e.data.command);\n                    break;\n                }\n            }\n        },\n        treeWorkerMessageHandler(e) {\n            switch (e.data.command) {\n                case 'finishInitQuadtree': {\n                    // Tell the loader worker to start loading data\n                    // (need to wait to set up the quadtree to avoid racing)\n                    const message = {\n                        command: 'startLoadData',\n                        payload: { url: this.$store.state.dataURLs.point }\n                    };\n                    this.loaderWorker.postMessage(message);\n                    break;\n                }\n\n                case 'finishQuadtreeSearch': {\n                    if (this.lastMouseClientPosition === null) {\n                        throw new Error('lastMouseClientPosition is null');\n                    }\n                    // Check if the closest point is relatively close to the mouse\n                    const closestPoint = structuredClone(\n                        e.data.payload.point\n                    );\n                    const screenPointX = this.curZoomTransform.applyX(\n                        this.xScale(closestPoint.x)\n                    );\n                    const screenPointY = this.curZoomTransform.applyY(\n                        this.yScale(closestPoint.y)\n                    );\n\n                    const distance = Math.max(\n                        Math.abs(screenPointX - this.lastMouseClientPosition.x),\n                        Math.abs(screenPointY - this.lastMouseClientPosition.y)\n                    );\n\n                    const highlightRadius = Math.max(\n                        10 / this.curZoomTransform.k,\n                        (config.layout.scatterDotRadius *\n                            Math.exp(Math.log(this.curZoomTransform.k) * 0.55)) /\n                        this.curZoomTransform.k\n                    );\n\n                    // Highlight the point if it is close enough to the mouse\n                    const curHoverRadius = Math.max(\n                        HOVER_RADIUS,\n                        highlightRadius * this.curZoomTransform.k\n                    );\n\n                    if (distance <= curHoverRadius) {\n                        highlightPoint(this, { point: closestPoint, animated: false });\n                    } else {\n                        highlightPoint(this, { point: undefined, animated: false });\n                    }\n                    break;\n                }\n\n                default: {\n                    console.error('Unknown message', e.data.command);\n                    break;\n                }\n            }\n        },\n\n        mouseoverPoint(x, y) {\n            // Invert to the stage scale => invert to the data scale\n            const dataX = this.xScale.invert(this.curZoomTransform.invertX(x));\n            const dataY = this.yScale.invert(this.curZoomTransform.invertY(y));\n\n            // Let the worker to search the closest point in a radius\n            let groupID = -1;\n\n            if (this.groupNames) {\n                if (allTrue(this.showPoints)) {\n                    groupID = -1;\n                } else {\n                    // TODO: Need a better way to search slices of groups for multi groups\n                    for (let i = 0; i < this.showPoints.length; i++) {\n                        if (this.showPoints[i]) {\n                            groupID = i;\n                            break;\n                        }\n                    }\n                }\n            }\n\n            const message = {\n                command: 'startQuadtreeSearch',\n                payload: {\n                    x: dataX,\n                    y: dataY,\n                    time: this.timeInspectMode && this.curTime ? this.curTime : '',\n                    groupID: groupID\n                }\n            };\n            this.treeWorker.postMessage(message);\n        },\n\n        mousemoveHandler(e) {\n            // Show tooltip when mouse over a data point on canvas\n            // We need to use color picking to figure out which point is hovered over\n            const x = e.offsetX;\n            const y = e.offsetY;\n            this.lastMouseClientPosition = { x: x, y: y };\n\n            // Show point highlight\n            if (anyTrue(this.showPoints) && !this.hideHighlights) {\n                this.mouseoverPoint(x, y);\n            }\n\n            // Show labels\n            if (!this.hideHighlights) {\n                mouseoverLabel(this, x, y);\n            }\n        },\n\n        getCurZoomBox() {\n            const box = {\n                x: this.curZoomTransform.invertX(0),\n                y: this.curZoomTransform.invertY(0),\n                width: Math.abs(\n                    this.curZoomTransform.invertX(this.svgFullSize.width) -\n                    this.curZoomTransform.invertX(0)\n                ),\n                height: Math.abs(\n                    this.curZoomTransform.invertY(this.svgFullSize.height) -\n                    this.curZoomTransform.invertY(0)\n                )\n            };\n            return box;\n        }\n    },\n    computed: {\n        ...mapState({\n            iconShow: \"iconShow\",\n        }),\n    },\n    watch: {\n        iconShow: {\n            handler(newVal) {\n                this.showGrid = newVal.grid;\n                this.topicCanvases.forEach(c => {\n                    c.classed('hidden', !this.showGrid);\n                });\n\n\n            },\n            deep: true,\n        }\n    }\n};\n\n\n</script>\n\n<style lang=\"scss\">\n@use './DistributionView.scss';\n</style>"],"mappings":";;;;;;AAqBA,SAAAA,QAAA;AACA,SAAAC,MAAA;AACA,OAAAC,UAAA;AACA,OAAAC,EAAA;AACA,SAAAC,iBAAA,EAAAC,gBAAA,EAAAC,eAAA,EAAAC,gBAAA,EAAAC,kBAAA,EAAAC,OAAA,EAAAC,OAAA,EAAAC,cAAA,EAAAC,mBAAA;AACA,SAAAC,eAAA,EAAAC,cAAA;AACA,OAAAC,YAAA;AACA,OAAAC,UAAA;AACA,YAAAC,WAAA;AAEA,SAAAC,YAAA;AAEA;EACAC,IAAA;EACAC,UAAA,GAEA;EACAC,KAAA;IACA;MACAC,SAAA;MAAA;;MAEAC,GAAA;MAAA;MACAC,WAAA;QAAAC,KAAA;QAAAC,MAAA;MAAA;MAAA;MACAC,OAAA;QAAAF,KAAA;QAAAC,MAAA;MAAA;MAAA;MACAE,UAAA;QAAAC,GAAA;QAAAC,MAAA;QAAAC,IAAA;QAAAC,KAAA;MAAA;MAAA;;MAEAC,MAAA;MAAA;MACAC,aAAA;MAAA;;MAEA;MACAC,WAAA;MACAC,SAAA;MACAC,mBAAA;MACAC,4BAAA;MACAC,oBAAA;MAEA;MACAC,iBAAA;MACAC,eAAA;MACAC,yBAAA;MACAC,kCAAA;MACAC,kBAAA;MAEA;MACAC,UAAA;MACAC,aAAA;MACAC,UAAA;MAEAC,MAAA;MACAC,MAAA;MAEA;MACAC,IAAA;MAAA;MACAC,iBAAA;MACAC,gBAAA;MACAC,YAAA;MAEA;MACAC,uBAAA;MACAC,cAAA;MAEA;MACAC,YAAA;MACAC,QAAA;MACAC,UAAA;MACAC,SAAA;MAEA;MACAC,QAAA;MACAC,YAAA;MACAC,QAAA;MACAC,QAAA;MACAC,QAAA;MACAC,YAAA;MACAC,mBAAA;MACAC,gBAAA;MAEA;MACAC,cAAA;MAEA;MACAC,UAAA;MAEA;MACAC,sBAAA;MAEA;MACAC,aAAA;MACAC,aAAA;MAEA;MACAC,eAAA,MAAAC,GAAA;MACAC,kBAAA;MAIA;MACAC,YAAA;MACAC,UAAA;MAEA;MACAC,gBAAA;QAAA9B,MAAA;QAAA+B,aAAA;QAAAC,SAAA;MAAA;MAGA;MACAC,KAAA,EAAAhF,MAAA,CAAAiF,KAAA;MAEAC,sBAAA;IAGA;EACA;EACAC,QAAA;IAEA,KAAAC,IAAA;EAEA;EACAC,OAAA;IACAD,KAAA;MAEA,MAAAE,GAAA,QAAAC,KAAA,CAAAC,gBAAA;MACA,KAAAjE,WAAA,CAAAE,MAAA,GAAA6D,GAAA,CAAAG,YAAA;MACA,KAAAlE,WAAA,CAAAC,KAAA,GAAA8D,GAAA,CAAAI,WAAA;MAEAC,OAAA,CAAAC,GAAA,yBAAArE,WAAA;MAEA,KAAAF,SAAA,GAAAnB,EAAA,CAAA2F,MAAA;MACA,KAAArC,QAAA;MAGA,KAAAsC,UAAA;MAEA,KAAAC,UAAA;MACA;MACA,KAAAC,UAAA;MACA;MACA,KAAAC,aAAA;MAEA,KAAAC,QAAA,GAAAC,IAAA;QAEAhG,iBAAA;;QAEAC,gBAAA;QACAO,mBAAA;QACAN,eAAA;QAEAC,gBAAA;QAEA,KAAA2B,aAAA,CAAAmE,OAAA,CAAAC,CAAA,IAAAA,CAAA,CAAAC,OAAA,iBAAA9C,QAAA;QACA,KAAAC,UAAA;QACA7C,eAAA;MACA;;MAEA;MACA,KAAAqC,IAAA,GAAA/C,EAAA,CACA+C,IAAA,GACAsD,MAAA,EACA,QACA,MAAA7E,OAAA,CAAAF,KAAA,OAAAE,OAAA,CAAAD,MAAA,EACA,EACA+E,WAAA,EAAAxG,MAAA,CAAAyG,MAAA,CAAAC,SAAA,KAAA1G,MAAA,CAAAyG,MAAA,CAAAC,SAAA,MACAC,WAAA,CAAAzG,EAAA,CAAAyG,WAAA,EACAC,EAAA,SAAAC,CAAA;QACA;UACA,WAAAC,MAAA,CAAAD,CAAA;QACA;MACA,GACAD,EAAA,mBAAAG,SAAA;MAEA,KAAA/E,MAAA,CAAAgF,IAAA,MAAA/D,IAAA,EAAA2D,EAAA;MAEA,KAAAhE,UAAA,GAAAqE,QAAA,CAAAC,aAAA;MACA,KAAArE,aAAA,GAAAoE,QAAA,CAAAC,aAAA;MAEA,MAAAC,iBAAA,GAAAC,IAAA,CAAAC,GAAA,CACA,KAAA9F,WAAA,CAAAC,KAAA,QAAAG,UAAA,CAAAG,IAAA,QAAAH,UAAA,CAAAI,KAAA,EACA,KAAAR,WAAA,CAAAE,MAAA,QAAAE,UAAA,CAAAC,GAAA,QAAAD,UAAA,CAAAE,MACA;MAEA,KAAAH,OAAA;QACAF,KAAA,EAAA2F,iBAAA;QACA1F,MAAA,EAAA0F;MACA;MAGA,KAAAhE,gBAAA,GAAAjD,EAAA,CAAAoH,YAAA;IAEA;IACA,MAAApB,SAAA;MAEA,MAAArC,QAAA,SAAA3D,EAAA,CAAAqH,IAAA,MAAAC,MAAA,CAAAC,KAAA,CAAA9D,QAAA,CAAA+D,IAAA;MACA,IAAA7D,QAAA,KAAA8D,SAAA;QACAhC,OAAA,CAAAC,GAAA;MACA;MAEA,KAAA/B,QAAA,GAAAA,QAAA;;MAEA;MACA,MAAA+D,MAAA,QAAA/D,QAAA,CAAA+D,MAAA;MACA,MAAAC,MAAA,QAAAhE,QAAA,CAAAgE,MAAA;MAEA,IAAAC,OAAA,GAAAF,MAAA,MAAAA,MAAA;MACA,IAAAG,OAAA,GAAAF,MAAA,MAAAA,MAAA;MAEA,UAAAhE,QAAA,CAAAmE,MAAA;QACA;QACA,IAAAF,OAAA,GAAAC,OAAA;UACAF,MAAA,OAAAE,OAAA;UACAF,MAAA,OAAAE,OAAA;UACAA,OAAA,GAAAF,MAAA,MAAAA,MAAA;UAEAD,MAAA,QAAAG,OAAA,GAAAD,OAAA;UACAF,MAAA,QAAAG,OAAA,GAAAD,OAAA;QACA;UACA;UACAF,MAAA,OAAAE,OAAA;UACAF,MAAA,OAAAE,OAAA;UACAA,OAAA,GAAAF,MAAA,MAAAA,MAAA;UAEAC,MAAA,QAAAC,OAAA,GAAAC,OAAA;UACAF,MAAA,QAAAC,OAAA,GAAAC,OAAA;QACA;MACA;MACA,KAAAhF,MAAA,GAAA7C,EAAA,CACA+H,WAAA,GACAC,MAAA,CAAAN,MAAA,EACAO,KAAA,UAAAzG,OAAA,CAAAF,KAAA;MAEA,KAAAwB,MAAA,GAAA9C,EAAA,CACA+H,WAAA,GACAC,MAAA,CAAAL,MAAA,EACAM,KAAA,OAAAzG,OAAA,CAAAD,MAAA;MAEA,MAAA2G,WAAA;QACAC,OAAA;QACAC,OAAA;UACAV,MAAA,EAAAA,MAAA;UACAC,MAAA,EAAAA,MAAA;UACAU,QAAA;UACAC,KAAA;QACA;MACA;MAEA,KAAA5D,UAAA,CAAA6D,WAAA,CAAAL,WAAA;MAEA,WAAAM,KAAA,IAAAC,MAAA,CAAAC,IAAA,MAAA/E,QAAA,CAAAgF,KAAA,CAAAzH,IAAA;QACA,MAAA0H,IAAA,GAAA5I,EAAA,CACA6I,QAAA,GACAC,CAAA,WAAAC,CAAA;UAAA,OAAAA,CAAA;QAAA,GACAC,CAAA,WAAAD,CAAA;UAAA,OAAAA,CAAA;QAAA,GACAE,MAAA,MAAAtF,QAAA,CAAAgF,KAAA,CAAAzH,IAAA,CAAAsH,KAAA;QACA,KAAAlE,eAAA,CAAA4E,GAAA,CAAAC,QAAA,CAAAX,KAAA,OAAAI,IAAA;MACA;;MAIA;MACA,SAAAjF,QAAA,CAAAyF,UAAA,SAAAzF,QAAA,CAAAO,UAAA;QACA,KAAAA,UAAA,QAAAP,QAAA,CAAAO,UAAA;QACA,MAAAmF,SAAA,QAAAjI,GAAA,CAAAuE,MAAA;;QAEA;QACA,KAAAtC,YAAA;QACA,KAAAE,UAAA;QACA,KAAA+F,aAAA;QAEA,SAAAC,CAAA,MAAAA,CAAA,QAAArF,UAAA,CAAAsF,MAAA,EAAAD,CAAA;UACA;UACA;UACA,KAAAlG,YAAA,CAAAoG,IAAA,CAAAF,CAAA;UACA,KAAAhG,UAAA,CAAAkG,IAAA,CAAAF,CAAA;;UAEA;UACA,MAAAvI,IAAA,QAAAkD,UAAA,CAAAqF,CAAA;UACAF,SAAA,CACAK,MAAA,MACAC,IAAA,iDAAA3I,IAAA,IACAoF,OAAA,WAAAmD,CAAA;;UAEA;UACA,MAAAK,UAAA,GAAAxJ,gBAAA,CAAAY,IAAA;UACA,IAAA4I,UAAA;YACA,KAAAN,aAAA,CAAAG,IAAA,CAAAG,UAAA;UACA;QACA;MACA;IAEA;IACA9D,WAAA;MAAA,IAAA+D,iBAAA;MAEA,MAAAC,YAAA,QAAAzE,KAAA,CAAAC,gBAAA;MACA,KAAAtD,WAAA,GAAAhC,EAAA,CAAA2F,MAAA,CAAAmE,YAAA,EACAJ,MAAA,WACAC,IAAA,8BACAA,IAAA,eAAAtI,WAAA,CAAAC,KAAA,EACAqI,IAAA,gBAAAtI,WAAA,CAAAE,MAAA;MAEA,KAAAU,SAAA,GAAAlC,UAAA,EAAA8J,iBAAA,QAAA7H,WAAA,cAAA6H,iBAAA,uBAAAA,iBAAA,CAAAE,IAAA;;MAEA;MACA;MACA;MACA;MACA;;MAEA;;MAEA,KAAAhI,aAAA;MACA,WAAAiI,GAAA;QACA,KAAAjI,aAAA,CAAA0H,IAAA,CACAzJ,EAAA,CACA2F,MAAA,CAAAmE,YAAA,EACAJ,MAAA,WACAC,IAAA,+BAAAK,GAAA,IACAL,IAAA,kBAAAtI,WAAA,CAAAC,KAAA,MACAqI,IAAA,mBAAAtI,WAAA,CAAAE,MAAA,MACA6E,OAAA,iBAAA9C,QAAA,CACA;MACA;IAEA;IACAyC,cAAA;MAEA,KAAA3E,GAAA,QAAAD,SAAA,CAAAuI,MAAA,QACAC,IAAA,2BACAA,IAAA,eAAAtI,WAAA,CAAAC,KAAA,EACAqI,IAAA,gBAAAtI,WAAA,CAAAE,MAAA;MAGA,MAAA8H,SAAA,QAAAjI,GAAA,CACAsI,MAAA,MACAC,IAAA,wBACAA,IAAA,CACA,aACA,kBAAAlI,UAAA,CAAAG,IAAA,UAAAH,UAAA,CAAAC,GAAA,GACA;MAEA2H,SAAA,CACAK,MAAA,MACAC,IAAA,2BACAvD,OAAA,iBAAA/C,YAAA;IAEA;IACAwC,WAAA;MAEA;MACA,KAAA/D,MAAA,QAAAX,SAAA,CAAAuI,MAAA,QACAC,IAAA,qBACAA,IAAA,kBAAAtI,WAAA,CAAAC,KAAA,MACAqI,IAAA,mBAAAtI,WAAA,CAAAE,MAAA;MAAA,CACAmF,EAAA,gBAAAuD,CAAA,SAAAC,gBAAA,CAAAD,CAAA,GACAvD,EAAA;QACAlG,cAAA;UAAA2J,KAAA,EAAA1C,SAAA;UAAA2C,QAAA;QAAA;QACAzJ,cAAA;MACA,GACAgJ,IAAA,CACA,aACA,kBAAAlI,UAAA,CAAAG,IAAA,UAAAH,UAAA,CAAAC,GAAA,GACA;MAEA+D,OAAA,CAAAC,GAAA,oBAAAjE,UAAA;MAEA,MAAA4I,QAAA,QAAAvI,MAAA,CAAA4H,MAAA,MAAAC,IAAA;MAEAU,QAAA,CACAX,MAAA,SACAC,IAAA,8BACAA,IAAA,eAAAtI,WAAA,CAAAC,KAAA,EACAqI,IAAA,gBAAAtI,WAAA,CAAAE,MAAA;MAEA,MAAA+I,UAAA,GAAAD,QAAA,CAAAX,MAAA,MAAAC,IAAA;MAEAW,UAAA,CAAAZ,MAAA,MAAAC,IAAA;MACAW,UAAA,CACAZ,MAAA,MACAC,IAAA,oBACAvD,OAAA,iBAAA5C,SAAA;MACA8G,UAAA,CAAAZ,MAAA,MAAAC,IAAA;MACAW,UAAA,CAAAZ,MAAA,MAAAC,IAAA;IAIA;IACA/C,OAAAqD,CAAA;MAEA,MAAAM,SAAA,GAAAN,CAAA,CAAAM,SAAA;MACA,MAAAC,YAAA,QAAAvH,gBAAA,CAAAwH,CAAA,KAAAF,SAAA,CAAAE,CAAA;MACA,KAAAxH,gBAAA,GAAAsH,SAAA;;MAEA;MACA;MACA,KAAAnJ,GAAA,CAAAuE,MAAA,gBAAAgE,IAAA,cAAAY,SAAA,CAAAG,QAAA;;MAEA;MACA,KAAA5I,MAAA,CACA6D,MAAA,eACAgE,IAAA,cAAAY,SAAA,CAAAG,QAAA;;MAEA;MACA,IAAApK,OAAA,MAAAiD,UAAA;QACA,SAAArB,mBAAA,SAAAC,4BAAA;UACAhC,eAAA;QACA;MACA;MAEA,SAAAmD,QAAA;QACA5C,eAAA;MACA;IAIA;IACA;IACAmG,UAAA;MACApB,OAAA,CAAAC,GAAA;IACA;IACAE,WAAA;MACA;MACA,KAAAnB,YAAA,OAAA7D,YAAA;MACA,KAAA6D,YAAA,CAAAkG,SAAA,GAAAV,CAAA;QACA,KAAAW,0BAAA,CAAAX,CAAA;MACA;MAEA,KAAAvF,UAAA,OAAA7D,UAAA;MACA,KAAA6D,UAAA,CAAAiG,SAAA,GAAAV,CAAA;QACA,KAAAY,wBAAA,CAAAZ,CAAA;MACA;IACA;IACAW,2BAAAX,CAAA;MACA,QAAAA,CAAA,CAAA/I,IAAA,CAAAiH,OAAA;QACA;UAAA;YACA;YACA,MAAAD,WAAA;cACAC,OAAA;cACAC,OAAA;gBACA0C,MAAA,EAAAb,CAAA,CAAA/I,IAAA,CAAAkH,OAAA,CAAA0C;cACA;YACA;YACA,KAAApG,UAAA,CAAA6D,WAAA,CAAAL,WAAA;YAEA,IAAA+B,CAAA,CAAA/I,IAAA,CAAAkH,OAAA,CAAA2C,YAAA;cACA;cACA,KAAArH,YAAA,GAAAuG,CAAA,CAAA/I,IAAA,CAAAkH,OAAA,CAAA0C,MAAA;cAEA5K,gBAAA;cACA,IAAAI,OAAA,MAAAiD,UAAA;gBACApD,eAAA;cACA;;cAEA;cACA,MAAA6K,aAAA;gBACA7C,OAAA;gBACAC,OAAA;kBACA0C,MAAA,EAAAb,CAAA,CAAA/I,IAAA,CAAAkH,OAAA,CAAA0C;gBACA;cACA;cACA;YACA;cACA;cACA;cACA,MAAAG,SAAA,GAAAhB,CAAA,CAAA/I,IAAA,CAAAkH,OAAA,CAAA0C,MAAA;cACA,WAAAX,KAAA,IAAAc,SAAA;gBACA,KAAAvH,YAAA,CAAA+F,IAAA,CAAAU,KAAA;cACA;;cAEA;cACA;cACA;cACA;cACA;cACA;cACA;cACA;;cAEA;cACA9J,kBAAA,OAAA4K,SAAA;cACA,IAAA3K,OAAA,MAAAiD,UAAA;gBACApD,eAAA;cACA;cAEA,IAAA8J,CAAA,CAAA/I,IAAA,CAAAkH,OAAA,CAAA8C,WAAA;gBACAzF,OAAA,CAAAC,GAAA;cACA;YACA;;YAEA;YACA,KAAA1B,gBAAA,GAAAiG,CAAA,CAAA/I,IAAA,CAAAkH,OAAA,CAAApE,gBAAA;;YAEA;YACA,KAAAW,gBAAA,CAAAE,SAAA,QAAAnB,YAAA,CAAA8F,MAAA;YACA;YACA;UACA;QAEA;UAAA;YACA/D,OAAA,CAAA0F,KAAA,oBAAAlB,CAAA,CAAA/I,IAAA,CAAAiH,OAAA;YACA;UACA;MACA;IACA;IACA0C,yBAAAZ,CAAA;MACA,QAAAA,CAAA,CAAA/I,IAAA,CAAAiH,OAAA;QACA;UAAA;YACA;YACA;YACA,MAAAiD,OAAA;cACAjD,OAAA;cACAC,OAAA;gBAAAiD,GAAA,OAAA/D,MAAA,CAAAC,KAAA,CAAA9D,QAAA,CAAA0G;cAAA;YACA;YACA,KAAA1F,YAAA,CAAA8D,WAAA,CAAA6C,OAAA;YACA;UACA;QAEA;UAAA;YACA,SAAAjI,uBAAA;cACA,UAAAmI,KAAA;YACA;YACA;YACA,MAAAC,YAAA,GAAAC,eAAA,CACAvB,CAAA,CAAA/I,IAAA,CAAAkH,OAAA,CAAA+B,KACA;YACA,MAAAsB,YAAA,QAAAxI,gBAAA,CAAAyI,MAAA,CACA,KAAA7I,MAAA,CAAA0I,YAAA,CAAAzC,CAAA,CACA;YACA,MAAA6C,YAAA,QAAA1I,gBAAA,CAAA2I,MAAA,CACA,KAAA9I,MAAA,CAAAyI,YAAA,CAAAvC,CAAA,CACA;YAEA,MAAA6C,QAAA,GAAA3E,IAAA,CAAA4E,GAAA,CACA5E,IAAA,CAAA6E,GAAA,CAAAN,YAAA,QAAAtI,uBAAA,CAAA2F,CAAA,GACA5B,IAAA,CAAA6E,GAAA,CAAAJ,YAAA,QAAAxI,uBAAA,CAAA6F,CAAA,CACA;YAEA,MAAAgD,eAAA,GAAA9E,IAAA,CAAA4E,GAAA,CACA,UAAA7I,gBAAA,CAAAwH,CAAA,EACA3K,MAAA,CAAAyG,MAAA,CAAA0F,gBAAA,GACA/E,IAAA,CAAAgF,GAAA,CAAAhF,IAAA,CAAAxB,GAAA,MAAAzC,gBAAA,CAAAwH,CAAA,YACA,KAAAxH,gBAAA,CAAAwH,CACA;;YAEA;YACA,MAAA0B,cAAA,GAAAjF,IAAA,CAAA4E,GAAA,CACA/K,YAAA,EACAiL,eAAA,QAAA/I,gBAAA,CAAAwH,CACA;YAEA,IAAAoB,QAAA,IAAAM,cAAA;cACA3L,cAAA;gBAAA2J,KAAA,EAAAoB,YAAA;gBAAAnB,QAAA;cAAA;YACA;cACA5J,cAAA;gBAAA2J,KAAA,EAAA1C,SAAA;gBAAA2C,QAAA;cAAA;YACA;YACA;UACA;QAEA;UAAA;YACA3E,OAAA,CAAA0F,KAAA,oBAAAlB,CAAA,CAAA/I,IAAA,CAAAiH,OAAA;YACA;UACA;MACA;IACA;IAEAiE,eAAAtD,CAAA,EAAAE,CAAA;MACA;MACA,MAAAqD,KAAA,QAAAxJ,MAAA,CAAAyJ,MAAA,MAAArJ,gBAAA,CAAAsJ,OAAA,CAAAzD,CAAA;MACA,MAAA0D,KAAA,QAAA1J,MAAA,CAAAwJ,MAAA,MAAArJ,gBAAA,CAAAwJ,OAAA,CAAAzD,CAAA;;MAEA;MACA,IAAA0D,OAAA;MAEA,SAAAxI,UAAA;QACA,IAAA3D,OAAA,MAAAgD,UAAA;UACAmJ,OAAA;QACA;UACA;UACA,SAAAnD,CAAA,MAAAA,CAAA,QAAAhG,UAAA,CAAAiG,MAAA,EAAAD,CAAA;YACA,SAAAhG,UAAA,CAAAgG,CAAA;cACAmD,OAAA,GAAAnD,CAAA;cACA;YACA;UACA;QACA;MACA;MAEA,MAAA6B,OAAA;QACAjD,OAAA;QACAC,OAAA;UACAU,CAAA,EAAAuD,KAAA;UACArD,CAAA,EAAAwD,KAAA;UACAG,IAAA,OAAAC,eAAA,SAAAC,OAAA,QAAAA,OAAA;UACAH,OAAA,EAAAA;QACA;MACA;MACA,KAAAhI,UAAA,CAAA6D,WAAA,CAAA6C,OAAA;IACA;IAEAlB,iBAAAD,CAAA;MACA;MACA;MACA,MAAAnB,CAAA,GAAAmB,CAAA,CAAA6C,OAAA;MACA,MAAA9D,CAAA,GAAAiB,CAAA,CAAA8C,OAAA;MACA,KAAA5J,uBAAA;QAAA2F,CAAA,EAAAA,CAAA;QAAAE,CAAA,EAAAA;MAAA;;MAEA;MACA,IAAA1I,OAAA,MAAAiD,UAAA,WAAAH,cAAA;QACA,KAAAgJ,cAAA,CAAAtD,CAAA,EAAAE,CAAA;MACA;;MAEA;MACA,UAAA5F,cAAA;QACAzC,cAAA,OAAAmI,CAAA,EAAAE,CAAA;MACA;IACA;IAEAgE,cAAA;MACA,MAAAC,GAAA;QACAnE,CAAA,OAAA7F,gBAAA,CAAAsJ,OAAA;QACAvD,CAAA,OAAA/F,gBAAA,CAAAwJ,OAAA;QACAnL,KAAA,EAAA4F,IAAA,CAAA6E,GAAA,CACA,KAAA9I,gBAAA,CAAAsJ,OAAA,MAAAlL,WAAA,CAAAC,KAAA,IACA,KAAA2B,gBAAA,CAAAsJ,OAAA,GACA;QACAhL,MAAA,EAAA2F,IAAA,CAAA6E,GAAA,CACA,KAAA9I,gBAAA,CAAAwJ,OAAA,MAAApL,WAAA,CAAAE,MAAA,IACA,KAAA0B,gBAAA,CAAAwJ,OAAA,GACA;MACA;MACA,OAAAQ,GAAA;IACA;EACA;EACAC,QAAA;IACA,GAAArN,QAAA;MACAsN,QAAA;IACA;EACA;EACAC,KAAA;IACAD,QAAA;MACAE,QAAAC,MAAA;QACA,KAAAhK,QAAA,GAAAgK,MAAA,CAAA9F,IAAA;QACA,KAAAzF,aAAA,CAAAmE,OAAA,CAAAC,CAAA;UACAA,CAAA,CAAAC,OAAA,iBAAA9C,QAAA;QACA;MAGA;MACAiK,IAAA;IACA;EACA;AACA","ignoreList":[]}]}