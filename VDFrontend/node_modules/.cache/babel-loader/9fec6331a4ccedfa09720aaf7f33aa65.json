{"remainingRequest":"/home/yansha/VDProject/VDFrontend/node_modules/babel-loader/lib/index.js!/home/yansha/VDProject/VDFrontend/node_modules/babel-loader/lib/index.js??ref--17!/home/yansha/VDProject/VDFrontend/src/components/Embedding/Embedding.js","dependencies":[{"path":"/home/yansha/VDProject/VDFrontend/src/components/Embedding/Embedding.js","mtime":1744442733392},{"path":"/home/yansha/VDProject/VDFrontend/babel.config.js","mtime":1744442733384},{"path":"/home/yansha/VDProject/VDFrontend/babel.config.js","mtime":1744442733384},{"path":"/home/yansha/VDProject/VDFrontend/node_modules/cache-loader/dist/cjs.js","mtime":1735202380381},{"path":"/home/yansha/VDProject/VDFrontend/node_modules/babel-loader/lib/index.js","mtime":1735202380921},{"path":"/home/yansha/VDProject/VDFrontend/node_modules/babel-loader/lib/index.js","mtime":1735202380921}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZXJyb3IuY2F1c2UuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5yZWR1Y2UuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lc25leHQuaXRlcmF0b3IuY29uc3RydWN0b3IuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lc25leHQuaXRlcmF0b3IucmVkdWNlLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZXJyb3IuY2F1c2UuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5yZWR1Y2UuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lc25leHQuaXRlcmF0b3IuY29uc3RydWN0b3IuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lc25leHQuaXRlcmF0b3IucmVkdWNlLmpzIjsKaW1wb3J0IGQzIGZyb20gJy4uLy4uL3V0aWxzL2QzLWltcG9ydCc7CmltcG9ydCB7IGNvbmZpZyB9IGZyb20gJy4uLy4uL2NvbmZpZy9jb25maWcnOwppbXBvcnQgKiBhcyBMYWJlbGVyIGZyb20gJy4vRW1iZWRkaW5nTGFiZWwnOwppbXBvcnQgKiBhcyBQb2ludERyYXdlciBmcm9tICcuL0VtYmVkZGluZ1BvaW50V2ViR0wnOwpleHBvcnQgZnVuY3Rpb24gZGlzcGxheUdyb3VwQ2hhbmdlZCh0aGF0LCBncm91cCkgewogIGlmIChncm91cCAhPT0gdW5kZWZpbmVkKSB7CiAgICAvLyB1c2VyIGhhdmUgc3BlY2lmaWVkIGdyb3VwcwoKICAgIGlmICh0aGF0Lmdyb3VwTmFtZXMubGVuZ3RoID4gMCkgewogICAgICB2YXIgZ3JvdXBJbmRleCA9IHRoYXQuZ3JvdXBOYW1lcy5pbmRleE9mKGdyb3VwKTsKICAgICAgdGhhdC5zaG93Q29udG91cnNbZ3JvdXBJbmRleF0gPSB0cnVlOwogICAgICB0aGF0LnN2Zy5zZWxlY3QoImcuY29udG91ci1ncm91cC0iLmNvbmNhdChncm91cCkpLmNsYXNzZWQoJ2hpZGRlbicsICF0aGF0LnNob3dDb250b3Vyc1tncm91cEluZGV4XSk7CgogICAgICAvLyBpZiAodGhhdC5zaG93TGFiZWwpIHsKICAgICAgLy8gICAgIHRoYXQubGF5b3V0VG9waWNMYWJlbHModGhhdC51c2VyTWF4TGFiZWxOdW0sIHRydWUpOwogICAgICAvLyB9CiAgICB9IGVsc2UgewogICAgICB0aGF0LnNob3dDb250b3VycyA9IG5ldyBBcnJheSh0aGF0LnNob3dDb250b3Vycy5sZW5ndGgpLmZpbGwodHJ1ZSk7CiAgICAgIHZhciBjb250b3VyR3JvdXAgPSB0aGF0LnN2Zy5zZWxlY3QoJ2cuY29udG91ci1ncm91cCcpLnN0eWxlKCdvcGFjaXR5JywgbnVsbCkuY2xhc3NlZCgnaGlkZGVuJywgIXRoYXQuc2hvd0NvbnRvdXJzWzBdKTsKICAgIH0KICB9CiAgaWYgKGdyb3VwICE9PSB1bmRlZmluZWQgJiYgdGhhdC5ncm91cE5hbWVzLmxlbmd0aCA+IDApIHsKICAgIGlmICh0aGF0Lmdyb3VwTmFtZXMubGVuZ3RoIDwgMSkgewogICAgICB0aHJvdyBFcnJvcignZ3JvdXBOYW1lcyBpcyBudWxsJyk7CiAgICB9CiAgICAvLyBPbmx5IHNob3cgb25lIGdyb3VwJ3MgcG9pbnQKICAgIHZhciBfZ3JvdXBJbmRleCA9IHRoYXQuZ3JvdXBOYW1lcy5pbmRleE9mKGdyb3VwKTsKICAgIHRoYXQuc2hvd1BvaW50c1tfZ3JvdXBJbmRleF0gPSB0cnVlOwogIH0gZWxzZSB7CiAgICB0aGF0LnNob3dQb2ludHMgPSBuZXcgQXJyYXkodGhhdC5zaG93UG9pbnRzLmxlbmd0aCkuZmlsbCh0cnVlKTsKICB9CiAgdGhhdC5wb2ludENhbnZhcy5jbGFzc2VkKCdoaWRkZW4nLCAhYW55VHJ1ZSh0aGF0LnNob3dQb2ludHMpKS5jbGFzc2VkKCdmYWRlZCcsIGFueVRydWUodGhhdC5zaG93UG9pbnRzKSAmJiB0aGF0LnNob3dMYWJlbCk7CiAgUG9pbnREcmF3ZXIuZHJhd1NjYXR0ZXJQbG90KHRoYXQpOwogIGlmICh0aGF0LnNob3dHcmlkKSBMYWJlbGVyLnJlZHJhd1RvcGljR3JpZCh0aGF0LCBudWxsKTsKfQpleHBvcnQgdmFyIGFueVRydWUgPSBmdW5jdGlvbiBhbnlUcnVlKGl0ZW1zKSB7CiAgcmV0dXJuIGl0ZW1zLnJlZHVjZShmdW5jdGlvbiAoYSwgYikgewogICAgcmV0dXJuIGEgfHwgYjsKICB9KTsKfTsKZXhwb3J0IHZhciBhbGxUcnVlID0gZnVuY3Rpb24gYWxsVHJ1ZShpdGVtcykgewogIHJldHVybiBpdGVtcy5yZWR1Y2UoZnVuY3Rpb24gKGEsIGIpIHsKICAgIHJldHVybiBhICYmIGI7CiAgfSk7Cn07"},{"version":3,"names":["d3","config","Labeler","PointDrawer","displayGroupChanged","that","group","undefined","groupNames","length","groupIndex","indexOf","showContours","svg","select","concat","classed","Array","fill","contourGroup","style","Error","_groupIndex","showPoints","pointCanvas","anyTrue","showLabel","drawScatterPlot","showGrid","redrawTopicGrid","items","reduce","a","b","allTrue"],"sources":["/home/yansha/VDProject/VDFrontend/src/components/Embedding/Embedding.js"],"sourcesContent":["import d3 from '../../utils/d3-import';\nimport { config } from '../../config/config';\nimport * as Labeler from './EmbeddingLabel';\nimport * as PointDrawer from './EmbeddingPointWebGL';\n\n\nexport function displayGroupChanged(that, group) {\n\n    if (group !== undefined) {\n        // user have specified groups\n\n\n        if (that.groupNames.length > 0) {\n            const groupIndex = that.groupNames.indexOf(group);\n\n\n            that.showContours[groupIndex] = true;\n\n            that.svg\n                .select(`g.contour-group-${group}`)\n                .classed('hidden', !that.showContours[groupIndex]);\n\n            // if (that.showLabel) {\n            //     that.layoutTopicLabels(that.userMaxLabelNum, true);\n            // }\n        } else {\n            that.showContours = new Array(that.showContours.length).fill(true);\n            const contourGroup = that.svg\n                .select('g.contour-group')\n                .style('opacity', null)\n                .classed('hidden', !that.showContours[0]);\n\n        }\n    }\n\n    if (group !== undefined && that.groupNames.length > 0) {\n        if (that.groupNames.length < 1) {\n            throw Error('groupNames is null');\n        }\n        // Only show one group's point\n        const groupIndex = that.groupNames.indexOf(group);\n        that.showPoints[groupIndex] = true;\n    } else {\n        that.showPoints = new Array(that.showPoints.length).fill(\n            true\n        );\n    }\n\n    that.pointCanvas\n        .classed('hidden', !anyTrue(that.showPoints))\n        .classed('faded', anyTrue(that.showPoints) && that.showLabel);\n\n    PointDrawer.drawScatterPlot(that);\n\n    if (that.showGrid) Labeler.redrawTopicGrid(that, null);\n\n\n}\n\nexport const anyTrue = (items) => items.reduce((a, b) => a || b);\nexport const allTrue = (items) => items.reduce((a, b) => a && b);\n"],"mappings":";;;;;;;;AAAA,OAAOA,EAAE,MAAM,uBAAuB;AACtC,SAASC,MAAM,QAAQ,qBAAqB;AAC5C,OAAO,KAAKC,OAAO,MAAM,kBAAkB;AAC3C,OAAO,KAAKC,WAAW,MAAM,uBAAuB;AAGpD,OAAO,SAASC,mBAAmBA,CAACC,IAAI,EAAEC,KAAK,EAAE;EAE7C,IAAIA,KAAK,KAAKC,SAAS,EAAE;IACrB;;IAGA,IAAIF,IAAI,CAACG,UAAU,CAACC,MAAM,GAAG,CAAC,EAAE;MAC5B,IAAMC,UAAU,GAAGL,IAAI,CAACG,UAAU,CAACG,OAAO,CAACL,KAAK,CAAC;MAGjDD,IAAI,CAACO,YAAY,CAACF,UAAU,CAAC,GAAG,IAAI;MAEpCL,IAAI,CAACQ,GAAG,CACHC,MAAM,oBAAAC,MAAA,CAAoBT,KAAK,CAAE,CAAC,CAClCU,OAAO,CAAC,QAAQ,EAAE,CAACX,IAAI,CAACO,YAAY,CAACF,UAAU,CAAC,CAAC;;MAEtD;MACA;MACA;IACJ,CAAC,MAAM;MACHL,IAAI,CAACO,YAAY,GAAG,IAAIK,KAAK,CAACZ,IAAI,CAACO,YAAY,CAACH,MAAM,CAAC,CAACS,IAAI,CAAC,IAAI,CAAC;MAClE,IAAMC,YAAY,GAAGd,IAAI,CAACQ,GAAG,CACxBC,MAAM,CAAC,iBAAiB,CAAC,CACzBM,KAAK,CAAC,SAAS,EAAE,IAAI,CAAC,CACtBJ,OAAO,CAAC,QAAQ,EAAE,CAACX,IAAI,CAACO,YAAY,CAAC,CAAC,CAAC,CAAC;IAEjD;EACJ;EAEA,IAAIN,KAAK,KAAKC,SAAS,IAAIF,IAAI,CAACG,UAAU,CAACC,MAAM,GAAG,CAAC,EAAE;IACnD,IAAIJ,IAAI,CAACG,UAAU,CAACC,MAAM,GAAG,CAAC,EAAE;MAC5B,MAAMY,KAAK,CAAC,oBAAoB,CAAC;IACrC;IACA;IACA,IAAMC,WAAU,GAAGjB,IAAI,CAACG,UAAU,CAACG,OAAO,CAACL,KAAK,CAAC;IACjDD,IAAI,CAACkB,UAAU,CAACD,WAAU,CAAC,GAAG,IAAI;EACtC,CAAC,MAAM;IACHjB,IAAI,CAACkB,UAAU,GAAG,IAAIN,KAAK,CAACZ,IAAI,CAACkB,UAAU,CAACd,MAAM,CAAC,CAACS,IAAI,CACpD,IACJ,CAAC;EACL;EAEAb,IAAI,CAACmB,WAAW,CACXR,OAAO,CAAC,QAAQ,EAAE,CAACS,OAAO,CAACpB,IAAI,CAACkB,UAAU,CAAC,CAAC,CAC5CP,OAAO,CAAC,OAAO,EAAES,OAAO,CAACpB,IAAI,CAACkB,UAAU,CAAC,IAAIlB,IAAI,CAACqB,SAAS,CAAC;EAEjEvB,WAAW,CAACwB,eAAe,CAACtB,IAAI,CAAC;EAEjC,IAAIA,IAAI,CAACuB,QAAQ,EAAE1B,OAAO,CAAC2B,eAAe,CAACxB,IAAI,EAAE,IAAI,CAAC;AAG1D;AAEA,OAAO,IAAMoB,OAAO,GAAG,SAAVA,OAAOA,CAAIK,KAAK;EAAA,OAAKA,KAAK,CAACC,MAAM,CAAC,UAACC,CAAC,EAAEC,CAAC;IAAA,OAAKD,CAAC,IAAIC,CAAC;EAAA,EAAC;AAAA;AAChE,OAAO,IAAMC,OAAO,GAAG,SAAVA,OAAOA,CAAIJ,KAAK;EAAA,OAAKA,KAAK,CAACC,MAAM,CAAC,UAACC,CAAC,EAAEC,CAAC;IAAA,OAAKD,CAAC,IAAIC,CAAC;EAAA,EAAC;AAAA","ignoreList":[]}]}