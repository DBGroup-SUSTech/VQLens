{"remainingRequest":"/home/yansha/VDProject/VDFrontend/node_modules/babel-loader/lib/index.js!/home/yansha/VDProject/VDFrontend/src/components/Embedding/EmbeddingLabel.js","dependencies":[{"path":"/home/yansha/VDProject/VDFrontend/src/components/Embedding/EmbeddingLabel.js","mtime":1735744044330},{"path":"/home/yansha/VDProject/VDFrontend/babel.config.js","mtime":1730469387355},{"path":"/home/yansha/VDProject/VDFrontend/node_modules/cache-loader/dist/cjs.js","mtime":1735202380381},{"path":"/home/yansha/VDProject/VDFrontend/node_modules/babel-loader/lib/index.js","mtime":1735202380921}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkucHVzaC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LnJlZHVjZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzbmV4dC5pdGVyYXRvci5jb25zdHJ1Y3Rvci5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzbmV4dC5pdGVyYXRvci5maWx0ZXIuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lc25leHQuaXRlcmF0b3IuZmluZC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzbmV4dC5pdGVyYXRvci5tYXAuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lc25leHQuaXRlcmF0b3IucmVkdWNlLmpzIjsKaW1wb3J0IHsgdGltZWl0LCByZWN0c0ludGVyc2VjdCB9IGZyb20gJy4uLy4uL3V0aWxzL3V0aWxzJzsKaW1wb3J0IGQzIGZyb20gJy4uLy4uL3V0aWxzL2QzLWltcG9ydCc7CmltcG9ydCB7IGNvbmZpZyB9IGZyb20gJy4uLy4uL2NvbmZpZy9jb25maWcnOwppbXBvcnQgeyBjb21wdXRlUG9zaXRpb24sIGZsaXAsIHNoaWZ0LCBvZmZzZXQsIGFycm93IH0gZnJvbSAnQGZsb2F0aW5nLXVpL2RvbSc7CmNvbnN0IElERUFMX1RJTEVfV0lEVEggPSAzNTsKY29uc3QgTEFCRUxfU1BMSVQgPSAnLSc7CmxldCBsYWJlbE1vdXNlZW50ZXJUaW1lciA9IG51bGw7CmxldCBsYWJlbE1vdXNlbGVhdmVUaW1lciA9IG51bGw7CmV4cG9ydCBjb25zdCB1cGRhdGVQb3BwZXJUb29sdGlwID0gKHRvb2x0aXAsIGFuY2hvciwgdGV4dCwgcGxhY2VtZW50KSA9PiB7CiAgLy8g5aaC5p6c5paH5pys5aSq6ZW/5YiZ5oiq5patCiAgaWYgKHRleHQubGVuZ3RoID4gMzAwKSB7CiAgICB0ZXh0ID0gdGV4dC5zbGljZSgwLCAzMDApOwogICAgdGV4dCA9IHRleHQuc2xpY2UoMCwgdGV4dC5sYXN0SW5kZXhPZignICcpKTsKICAgIHRleHQgPSB0ZXh0LmNvbmNhdCgnLi4uJyk7CiAgfQogIGNvbnN0IGFycm93RWxlbWVudCA9IHRvb2x0aXAucXVlcnlTZWxlY3RvcignLnBvcHBlci1hcnJvdycpOwogIGNvbnN0IGNvbnRlbnRFbGVtZW50ID0gdG9vbHRpcC5xdWVyeVNlbGVjdG9yKCcucG9wcGVyLWNvbnRlbnQnKTsKICBjb250ZW50RWxlbWVudC5pbm5lckhUTUwgPSB0ZXh0OwogIGNvbXB1dGVQb3NpdGlvbihhbmNob3IsIHRvb2x0aXAsIHsKICAgIHBsYWNlbWVudDogcGxhY2VtZW50LAogICAgbWlkZGxld2FyZTogW29mZnNldCg2KSwgZmxpcCgpLCBzaGlmdCgpLCBhcnJvdyh7CiAgICAgIGVsZW1lbnQ6IGFycm93RWxlbWVudAogICAgfSldCiAgfSkudGhlbigoewogICAgeCwKICAgIHksCiAgICBwbGFjZW1lbnQsCiAgICBtaWRkbGV3YXJlRGF0YQogIH0pID0+IHsKICAgIHRvb2x0aXAuc3R5bGUubGVmdCA9IGAke3h9cHhgOwogICAgdG9vbHRpcC5zdHlsZS50b3AgPSBgJHt5fXB4YDsKICAgIGNvbnN0IHsKICAgICAgeDogYXJyb3dYLAogICAgICB5OiBhcnJvd1kKICAgIH0gPSBtaWRkbGV3YXJlRGF0YS5hcnJvdzsKICAgIGxldCBzdGF0aWNTaWRlID0gJ2JvdHRvbSc7CiAgICBpZiAocGxhY2VtZW50LmluY2x1ZGVzKCd0b3AnKSkgc3RhdGljU2lkZSA9ICdib3R0b20nOwogICAgaWYgKHBsYWNlbWVudC5pbmNsdWRlcygncmlnaHQnKSkgc3RhdGljU2lkZSA9ICdsZWZ0JzsKICAgIGlmIChwbGFjZW1lbnQuaW5jbHVkZXMoJ2JvdHRvbScpKSBzdGF0aWNTaWRlID0gJ3RvcCc7CiAgICBpZiAocGxhY2VtZW50LmluY2x1ZGVzKCdsZWZ0JykpIHN0YXRpY1NpZGUgPSAncmlnaHQnOwogICAgYXJyb3dFbGVtZW50LnN0eWxlLmxlZnQgPSBhcnJvd1ggPyBgJHthcnJvd1h9cHhgIDogJyc7CiAgICBhcnJvd0VsZW1lbnQuc3R5bGUudG9wID0gYXJyb3dZID8gYCR7YXJyb3dZfXB4YCA6ICcnOwogICAgYXJyb3dFbGVtZW50LnN0eWxlLnJpZ2h0ID0gJyc7CiAgICBhcnJvd0VsZW1lbnQuc3R5bGUuYm90dG9tID0gJyc7CiAgICBhcnJvd0VsZW1lbnQuc3R5bGVbc3RhdGljU2lkZV0gPSAnLTRweCc7CiAgfSk7Cn07CmZ1bmN0aW9uIHJvdW5kUmVjdChjdHgsIHgsIHksIHdpZHRoLCBoZWlnaHQsIHIpIHsKICBjb25zdCByYWRpdXMgPSB7CiAgICB0bDogMCwKICAgIHRyOiAwLAogICAgYnI6IDAsCiAgICBibDogMAogIH07CiAgaWYgKHR5cGVvZiByID09PSAnbnVtYmVyJykgewogICAgcmFkaXVzLnRsID0gcjsKICAgIHJhZGl1cy50ciA9IHI7CiAgICByYWRpdXMuYnIgPSByOwogICAgcmFkaXVzLmJsID0gcjsKICB9IGVsc2UgewogICAgcmFkaXVzLnRsID0gclswXTsKICAgIHJhZGl1cy50ciA9IHJbMV07CiAgICByYWRpdXMuYnIgPSByWzJdOwogICAgcmFkaXVzLmJsID0gclszXTsKICB9CiAgY3R4LmJlZ2luUGF0aCgpOwogIGN0eC5tb3ZlVG8oeCArIHJhZGl1cy50bCwgeSk7CiAgY3R4LmxpbmVUbyh4ICsgd2lkdGggLSByYWRpdXMudHIsIHkpOwogIGN0eC5xdWFkcmF0aWNDdXJ2ZVRvKHggKyB3aWR0aCwgeSwgeCArIHdpZHRoLCB5ICsgcmFkaXVzLnRyKTsKICBjdHgubGluZVRvKHggKyB3aWR0aCwgeSArIGhlaWdodCAtIHJhZGl1cy5icik7CiAgY3R4LnF1YWRyYXRpY0N1cnZlVG8oeCArIHdpZHRoLCB5ICsgaGVpZ2h0LCB4ICsgd2lkdGggLSByYWRpdXMuYnIsIHkgKyBoZWlnaHQpOwogIGN0eC5saW5lVG8oeCArIHJhZGl1cy5ibCwgeSArIGhlaWdodCk7CiAgY3R4LnF1YWRyYXRpY0N1cnZlVG8oeCwgeSArIGhlaWdodCwgeCwgeSArIGhlaWdodCAtIHJhZGl1cy5ibCk7CiAgY3R4LmxpbmVUbyh4LCB5ICsgcmFkaXVzLnRsKTsKICBjdHgucXVhZHJhdGljQ3VydmVUbyh4LCB5LCB4ICsgcmFkaXVzLnRsLCB5KTsKICBjdHguY2xvc2VQYXRoKCk7Cn0KZXhwb3J0IGZ1bmN0aW9uIHJlZHJhd1RvcGljR3JpZCh0aGF0LCBzdHJva2VDb2xvciA9IG51bGwpIHsKICBjb25zdCB0b3BpY0N0eHMgPSB0aGF0LnRvcGljQ2FudmFzZXMubWFwKGMgPT4gYy5ub2RlKCkuZ2V0Q29udGV4dCgnMmQnKSk7CiAgZm9yIChjb25zdCB0b3BpY0N0eCBvZiB0b3BpY0N0eHMpIHsKICAgIHRvcGljQ3R4LnNldFRyYW5zZm9ybSgxLCAwLCAwLCAxLCAwLCAwKTsKICAgIHRvcGljQ3R4LmNsZWFyUmVjdCgwLCAwLCB0aGF0LnN2Z0Z1bGxTaXplLndpZHRoLCB0aGF0LnN2Z0Z1bGxTaXplLmhlaWdodCk7CiAgICB0b3BpY0N0eC50cmFuc2xhdGUodGhhdC5jdXJab29tVHJhbnNmb3JtLngsIHRoYXQuY3VyWm9vbVRyYW5zZm9ybS55KTsKICAgIHRvcGljQ3R4LnNjYWxlKHRoYXQuY3VyWm9vbVRyYW5zZm9ybS5rLCB0aGF0LmN1clpvb21UcmFuc2Zvcm0uayk7CiAgfQogIGRyYXdUb3BpY0dyaWQodGhhdCwgc3Ryb2tlQ29sb3IpOwp9CmV4cG9ydCBmdW5jdGlvbiBkcmF3VG9waWNHcmlkKHRoYXQsIHN0cm9rZUNvbG9yID0gbnVsbCkgewogIGlmICghdGhhdC5zaG93R3JpZCkgcmV0dXJuOwoKICAvLyBDaG9vc2UgdGhlIHRvcGljIHRyZWUgbGV2ZWwgYmFzZWQgb24gdGhlIGN1cnJlbnQgem9vbSBsZXZlbAogIGNvbnN0IGlkZWFsVHJlZUxldmVsID0gZ2V0SWRlYWxUb3BpY1RyZWVMZXZlbCh0aGF0KTsKICBpZiAoaWRlYWxUcmVlTGV2ZWwgPT09IG51bGwpIHJldHVybjsKCiAgLy8gQ3Jvc3NmYWRlIHR3byBjYW52YXMgZWxlbWVudHMgaWYgdHJlZSBsZXZlbCBjaGFuZ2VzCiAgaWYgKHRoYXQubGFzdEdyaWRUcmVlTGV2ZWxzLmxlbmd0aCA+IDApIHsKICAgIGNvbnN0IGxhc3RMZXZlbCA9IHRoYXQubGFzdEdyaWRUcmVlTGV2ZWxzW3RoYXQubGFzdEdyaWRUcmVlTGV2ZWxzLmxlbmd0aCAtIDFdOwoKICAgIC8vIFRyZWUgbGV2ZWwgY2hhbmdlcwogICAgaWYgKGlkZWFsVHJlZUxldmVsICE9PSBsYXN0TGV2ZWwpIHsKICAgICAgLy8gRmFkZSB0aGUgbGFzdCBjYW52YXMKICAgICAgdGhhdC50b3BpY0NhbnZhc2VzW2xhc3RMZXZlbCAlIDJdLmNsYXNzZWQoJ2ZhZGVkJywgdHJ1ZSkub24oJ3RyYW5zaXRpb25lbmQnLCAoKSA9PiB7CiAgICAgICAgaWYgKHRoYXQubGFzdEdyaWRUcmVlTGV2ZWxzWzBdID09PSBsYXN0TGV2ZWwpIHsKICAgICAgICAgIC8vIE5vIG5lZWQgdG8gZHJhdyB0aGlzIGZhZGVkIGNhbnZhcwogICAgICAgICAgdGhhdC5sYXN0R3JpZFRyZWVMZXZlbHMuc2hpZnQoKTsKICAgICAgICB9CiAgICAgIH0pOwoKICAgICAgLy8gU2hvdyB0aGUgY3VycmVudCBjYW52YXMKICAgICAgdGhhdC50b3BpY0NhbnZhc2VzW2lkZWFsVHJlZUxldmVsICUgMl0uY2xhc3NlZCgnZmFkZWQnLCBmYWxzZSk7CgogICAgICAvLyBUcmFjayB0aGlzIG5ldyBsZXZlbAogICAgICB0aGF0Lmxhc3RHcmlkVHJlZUxldmVscy5wdXNoKGlkZWFsVHJlZUxldmVsKTsKCiAgICAgIC8vIFRoZSBzdGFjayBvbmx5IHRyYWNrcyB0d28gbGV2ZWxzCiAgICAgIGlmICh0aGF0Lmxhc3RHcmlkVHJlZUxldmVscy5sZW5ndGggPiAyKSB7CiAgICAgICAgdGhhdC5sYXN0R3JpZFRyZWVMZXZlbHMuc2hpZnQoKTsKICAgICAgfQogICAgfQogIH0KICBpZiAodGhhdC5sYXN0R3JpZFRyZWVMZXZlbHMubGVuZ3RoID09PSAwKSB7CiAgICB0aGF0Lmxhc3RHcmlkVHJlZUxldmVscy5wdXNoKGlkZWFsVHJlZUxldmVsKTsKICB9CiAgZm9yIChjb25zdCB0cmVlTGV2ZWwgb2YgdGhhdC5sYXN0R3JpZFRyZWVMZXZlbHMpIHsKICAgIGNvbnN0IGNhbnZhcyA9IHRoYXQudG9waWNDYW52YXNlc1t0cmVlTGV2ZWwgJSAyXS5ub2RlKCk7CiAgICBjb25zdCBjdHggPSBjYW52YXMuZ2V0Q29udGV4dCgnMmQnKTsKICAgIGlmIChjdHggPT09IG51bGwpIHJldHVybjsKICAgIGNvbnN0IHRvcGljVHJlZSA9IHRoYXQudG9waWNMZXZlbFRyZWVzLmdldCh0cmVlTGV2ZWwpOwogICAgY29uc3QgdHJlZUV4dGVudCA9IHRvcGljVHJlZS5leHRlbnQoKTsKICAgIGNvbnN0IHRpbGVXaWR0aCA9ICh0cmVlRXh0ZW50WzFdWzBdIC0gdHJlZUV4dGVudFswXVswXSkgLyBNYXRoLnBvdygyLCB0cmVlTGV2ZWwpOwogICAgY29uc3QgdGlsZVNjcmVlbldpZHRoID0gTWF0aC5hYnModGhhdC54U2NhbGUodGlsZVdpZHRoKSAtIHRoYXQueFNjYWxlKDApKTsKCiAgICAvLyBPbmx5IGRyYXcgdGhlIHRpbGVzIHRoYXQgYXJlIHZpc2libGUKICAgIGNvbnN0IHpvb21Cb3ggPSB0aGF0LmdldEN1clpvb21Cb3goKTsKICAgIGNvbnN0IHRpbGVzID0gdG9waWNUcmVlLmRhdGEoKS5tYXAoZCA9PiB7CiAgICAgIGNvbnN0IHRpbGVSZWN0ID0gewogICAgICAgIHg6IHRoYXQueFNjYWxlKGRbMF0gLSB0aWxlV2lkdGggLyAyKSwKICAgICAgICAvLyB4OiB0aGF0LnhTY2FsZShkWzBdIC0gdGlsZVdpZHRoIC8gMikgKyAodGhhdC5zdmdGdWxsU2l6ZS53aWR0aCAtIHRoYXQuc3ZnRnVsbFNpemUuaGVpZ2h0KSAvIDIsCiAgICAgICAgeTogdGhhdC55U2NhbGUoZFsxXSArIHRpbGVXaWR0aCAvIDIpLAogICAgICAgIHdpZHRoOiB0aWxlU2NyZWVuV2lkdGgsCiAgICAgICAgaGVpZ2h0OiB0aWxlU2NyZWVuV2lkdGgsCiAgICAgICAgbmFtZTogYCR7ZFswXX0sICR7ZFsxXX1gLAogICAgICAgIGxhYmVsOiBkWzJdCiAgICAgIH07CiAgICAgIHJldHVybiB0aWxlUmVjdDsKICAgIH0pLmZpbHRlcihkID0+IHJlY3RzSW50ZXJzZWN0KGQsIHpvb21Cb3gpKTsKCiAgICAvLyBEcmF3IHRoZSB0aWxlcyBvbiBhIGNhbnZhcwogICAgY3R4LnNhdmUoKTsKCiAgICAvLyBVc2Ugc3BlY2lmaWVkIHN0cm9rZSBjb2xvciBvciBkZWZhdWx0IGJhc2VkIG9uIGNvbnRvdXJzCiAgICBpZiAoc3Ryb2tlQ29sb3IpIHsKICAgICAgY3R4LnN0cm9rZVN0eWxlID0gc3Ryb2tlQ29sb3I7CiAgICB9IGVsc2UgewogICAgICBpZiAoYW55VHJ1ZSh0aGF0LnNob3dDb250b3VycykpIHsKICAgICAgICBjdHguc3Ryb2tlU3R5bGUgPSBjb25maWcuZ3JpZENvbG9yTGlnaHQ7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgY3R4LnN0cm9rZVN0eWxlID0gY29uZmlnLmdyaWRDb2xvckRhcms7CiAgICAgIH0KICAgIH0KICAgIGN0eC5saW5lV2lkdGggPSAxIC8gKDQgKiB0aGF0LmN1clpvb21UcmFuc2Zvcm0uayk7CiAgICBmb3IgKGNvbnN0IHRpbGUgb2YgdGlsZXMpIHsKICAgICAgY3R4Lm1vdmVUbyh0aWxlLngsIHRpbGUueSk7CiAgICAgIHJvdW5kUmVjdChjdHgsIHRpbGUueCwgdGlsZS55LCB0aWxlLndpZHRoLCB0aWxlLmhlaWdodCwgNCAvIHRoYXQuY3VyWm9vbVRyYW5zZm9ybS5rKTsKICAgICAgY3R4LnN0cm9rZSgpOwogICAgfQogICAgY3R4LnJlc3RvcmUoKTsKICB9Cn0KZXhwb3J0IGZ1bmN0aW9uIGdldElkZWFsVG9waWNUcmVlTGV2ZWwodGhhdCkgewogIC8vIOagueaNruW9k+WJjeeahOe8qeaUvue6p+WIq+mAieaLqeacgOS9s+eahHRvcGlj5qCR57qn5Yir6L+b6KGM5bGV56S6CgogIGlmICh0aGF0LnRvcGljTGV2ZWxUcmVlcy5zaXplIDwgMSkgcmV0dXJuIG51bGw7CiAgbGV0IGJlc3RMZXZlbCA9IC0xOwogIGxldCBiZXN0RGlzdGFuY2UgPSBJbmZpbml0eTsKICBmb3IgKGNvbnN0IGxldmVsIG9mIHRoYXQudG9waWNMZXZlbFRyZWVzLmtleXMoKSkgewogICAgY29uc3QgZXh0ZW50ID0gdGhhdC50b3BpY0xldmVsVHJlZXMuZ2V0KGxldmVsKS5leHRlbnQoKTsKICAgIGNvbnN0IHRyZWVWaWV3V2lkdGggPSBleHRlbnRbMV1bMF0gLSBleHRlbnRbMF1bMF07CiAgICBjb25zdCB0aWxlTnVtID0gTWF0aC5wb3coMiwgbGV2ZWwpOwogICAgY29uc3QgdGlsZVNpemUgPSB0cmVlVmlld1dpZHRoIC8gdGlsZU51bTsKICAgIGNvbnN0IHNjYWxlZFRpbGVXaWR0aCA9IE1hdGgubWF4KHRoYXQueFNjYWxlKHRpbGVTaXplKSAtIHRoYXQueFNjYWxlKDApLCB0aGF0LnlTY2FsZSh0aWxlU2l6ZSkgLSB0aGF0LnlTY2FsZSgwKSkgKiB0aGF0LmN1clpvb21UcmFuc2Zvcm0uazsKICAgIGlmIChNYXRoLmFicyhzY2FsZWRUaWxlV2lkdGggLSBJREVBTF9USUxFX1dJRFRIKSA8IGJlc3REaXN0YW5jZSkgewogICAgICBiZXN0TGV2ZWwgPSBsZXZlbDsKICAgICAgYmVzdERpc3RhbmNlID0gTWF0aC5hYnMoc2NhbGVkVGlsZVdpZHRoIC0gSURFQUxfVElMRV9XSURUSCk7CiAgICB9CiAgfQogIHJldHVybiBiZXN0TGV2ZWw7Cn0KZXhwb3J0IGZ1bmN0aW9uIG1vdXNlb3ZlckxhYmVsKHRoYXQsIHgsIHkpIHsKICAvLyBjb25zdCBvZmZ4ID0gKHRoYXQuc3ZnRnVsbFNpemUud2lkdGggLSB0aGF0LnN2Z0Z1bGxTaXplLmhlaWdodCkgLyAyOwogIGNvbnN0IG9mZnggPSAwOwogIGlmICghdGhhdC5zaG93R3JpZCkgcmV0dXJuOwogIGlmICh0aGF0LmhpZGVIaWdobGlnaHRzKSByZXR1cm47CiAgY29uc3QgYm90dG9tR3JvdXAgPSB0aGF0LnRvcFN2Zy5zZWxlY3QoJ2cudG9wLWNvbnRlbnQgZy50b3BpY3MtYm90dG9tJyk7CiAgY29uc3QgbGFiZWxHcm91cCA9IHRoYXQudG9wU3ZnLnNlbGVjdCgnZy50b3AtY29udGVudCBnLnRvcGljcycpOwogIGNvbnN0IHRvcEdyb3VwID0gdGhhdC50b3BTdmcuc2VsZWN0KCdnLnRvcC1jb250ZW50IGcudG9waWNzLXRvcCcpOwogIGNvbnN0IG9sZEJvdHRvbVJlY3QgPSBib3R0b21Hcm91cC5zZWxlY3QoJ3JlY3QuaGlnaGxpZ2h0LXRpbGUnKTsKICBjb25zdCBvbGRUb3BSZWN0ID0gdG9wR3JvdXAuc2VsZWN0KCdyZWN0LmhpZ2hsaWdodC10aWxlJyk7CiAgY29uc3QgaG92ZXJEZWxheSA9IHRoYXQuc2hvd0xhYmVsID8gNzAwIDogMzAwOwogIGNvbnN0IHJlbW92ZUhpZ2hsaWdodCA9ICgpID0+IHsKICAgIGlmIChsYWJlbE1vdXNlbGVhdmVUaW1lciAhPT0gbnVsbCkgewogICAgICBjbGVhclRpbWVvdXQobGFiZWxNb3VzZWxlYXZlVGltZXIpOwogICAgICBsYWJlbE1vdXNlbGVhdmVUaW1lciA9IG51bGw7CiAgICB9CgogICAgLy8gQ2xlYXIgdGhlIGhpZ2hsaWdodCBhbmQgdG9vbHRpcCBpbiBhIHNob3J0IGRlbGF5CiAgICBsYWJlbE1vdXNlbGVhdmVUaW1lciA9IHNldFRpbWVvdXQoKCkgPT4gewogICAgICBsYWJlbEdyb3VwLmNsYXNzZWQoJ2ZhZGVkJywgZmFsc2UpOwogICAgICBvbGRUb3BSZWN0LmludGVycnVwdCgndG9wLWZhZGUnKS5yZW1vdmUoKTsKICAgICAgb2xkQm90dG9tUmVjdC5yZW1vdmUoKTsKICAgICAgdGhhdC50b29sdGlwQm90dG9tLmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpOwogICAgICBsYWJlbE1vdXNlbGVhdmVUaW1lciA9IG51bGw7CiAgICB9LCA1MCk7CiAgfTsKCiAgLy8gUmVtb3ZlIHRoZSB0aWxlIGlmIHggYW5kIHkgYXJlIG51bGwKICBpZiAoeCA9PT0gbnVsbCB8fCB5ID09PSBudWxsKSB7CiAgICByZW1vdmVIaWdobGlnaHQoKTsKICAgIHJldHVybjsKICB9CgogIC8vIEdldCB0aGUgY29vcmRpbmF0ZSBpbiB0aGUgZW1iZWRkaW5nIGNvb3JkaW5hdGUKICBjb25zdCB4MCA9IHRoYXQueFNjYWxlLmludmVydCh0aGF0LmN1clpvb21UcmFuc2Zvcm0uaW52ZXJ0WCh4KSk7CiAgY29uc3QgeTAgPSB0aGF0LnlTY2FsZS5pbnZlcnQodGhhdC5jdXJab29tVHJhbnNmb3JtLmludmVydFkoeSkpOwoKICAvLyBHZXQgdGhlIGNvcnJlc3BvbmRpbmcgdHJlZQogIGNvbnN0IGlkZWFsVHJlZUxldmVsID0gZ2V0SWRlYWxUb3BpY1RyZWVMZXZlbCh0aGF0KTsKICBjb25zdCB0cmVlID0gdGhhdC50b3BpY0xldmVsVHJlZXMuZ2V0KGlkZWFsVHJlZUxldmVsKTsKICBjb25zdCB0cmVlRXh0ZW50ID0gdHJlZS5leHRlbnQoKTsKICBjb25zdCB0aWxlV2lkdGggPSAodHJlZUV4dGVudFsxXVswXSAtIHRyZWVFeHRlbnRbMF1bMF0pIC8gTWF0aC5wb3coMiwgaWRlYWxUcmVlTGV2ZWwpOwogIGNvbnN0IHRpbGVTY3JlZW5XaWR0aCA9IE1hdGguYWJzKHRoYXQueFNjYWxlKHRpbGVXaWR0aCkgLSB0aGF0LnhTY2FsZSgwKSk7CiAgY29uc3QgcmFkaXVzID0gTWF0aC5zcXJ0KDIpICogdGlsZVdpZHRoOwogIGNvbnN0IHRpbGUgPSB0cmVlLmZpbmQoeDAsIHkwLCByYWRpdXMpOwoKICAvLyBObyB0aWxlIG5lYXIgdGhlIG1vdXNlIGxvY2F0aW9uCiAgaWYgKHRpbGUgPT09IHVuZGVmaW5lZCkgewogICAgaWYgKCFvbGRCb3R0b21SZWN0LmVtcHR5KCkpIHsKICAgICAgcmVtb3ZlSGlnaGxpZ2h0KCk7CiAgICB9CiAgICByZXR1cm47CiAgfQogIGlmIChvbGRCb3R0b21SZWN0LmVtcHR5KCkpIHsKICAgIC8vIEFkZCBhIG5ldyBoaWdobGlnaHQgcmVjdCBhdCB0aGUgYm90dG9tIGxheWVyCiAgICBjb25zdCByZWN0ID0gYm90dG9tR3JvdXAuYXBwZW5kKCdyZWN0JykuYXR0cignY2xhc3MnLCAnaGlnaGxpZ2h0LXRpbGUnKS5hdHRyKCd4JywgdGhhdC54U2NhbGUodGlsZVswXSkgLSB0aWxlU2NyZWVuV2lkdGggLyAyKS5hdHRyKCd5JywgdGhhdC55U2NhbGUodGlsZVsxXSkgLSB0aWxlU2NyZWVuV2lkdGggLyAyKS5hdHRyKCd3aWR0aCcsIHRpbGVTY3JlZW5XaWR0aCkuYXR0cignaGVpZ2h0JywgdGlsZVNjcmVlbldpZHRoKS5hdHRyKCdyeCcsIDQgLyB0aGF0LmN1clpvb21UcmFuc2Zvcm0uaykuYXR0cigncnknLCA0IC8gdGhhdC5jdXJab29tVHJhbnNmb3JtLmspLnN0eWxlKCdzdHJva2Utd2lkdGgnLCAyLjYgLyB0aGF0LmN1clpvb21UcmFuc2Zvcm0uaykuc3R5bGUoJ3N0cm9rZScsIGFueVRydWUodGhhdC5zaG93Q29udG91cnMpID8gY29uZmlnLmdyaWRDb2xvckxpZ2h0IDogY29uZmlnLmdyaWRDb2xvckRhcmspOwoKICAgIC8vIFNob3cgdGhlIHRvb2x0aXAKICAgIHVwZGF0ZVBvcHBlclRvb2x0aXAodGhhdC50b29sdGlwQm90dG9tLCByZWN0Lm5vZGUoKSwgdGlsZVsyXSwgJ2JvdHRvbScpOwoKICAgIC8vIEluc2VydCBhIGNsb25lIHRvIHRoZSB0b3AgbGF5ZXIKICAgIGNvbnN0IGNsb25lID0gcmVjdC5jbG9uZSh0cnVlKS5zdHlsZSgnc3Ryb2tlJywgbnVsbCkucmVtb3ZlKCkubm9kZSgpOwogICAgY29uc3QgdG9wUmVjdCA9IGQzLnNlbGVjdCh0b3BHcm91cC5ub2RlKCkuYXBwZW5kQ2hpbGQoY2xvbmUpKTsKICAgIGxhYmVsTW91c2VlbnRlclRpbWVyID0gdGlsZVsyXTsKICAgIHRvcFJlY3Quc3R5bGUoJ29wYWNpdHknLCAwKS50cmFuc2l0aW9uKCd0b3AtZmFkZScpLmR1cmF0aW9uKGhvdmVyRGVsYXkpLmVhc2UoZDMuZWFzZUN1YmljSW5PdXQpLm9uKCdlbmQnLCAoKSA9PiB7CiAgICAgIHRvcFJlY3Quc3R5bGUoJ29wYWNpdHknLCAxKTsKICAgICAgbGFiZWxHcm91cC5jbGFzc2VkKCdmYWRlZCcsIHRydWUpOwogICAgICB0aGF0LnRvb2x0aXBCb3R0b20uY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7CiAgICAgIGxhYmVsTW91c2VlbnRlclRpbWVyID0gbnVsbDsKICAgIH0pOwogIH0gZWxzZSB7CiAgICAvLyBVcGRhdGUgdGhlIG9sZCBoaWdobGlnaHQgcmVjdAogICAgb2xkQm90dG9tUmVjdC5hdHRyKCd4JywgdGhhdC54U2NhbGUodGlsZVswXSkgLSB0aWxlU2NyZWVuV2lkdGggLyAyKS5hdHRyKCd5JywgdGhhdC55U2NhbGUodGlsZVsxXSkgLSB0aWxlU2NyZWVuV2lkdGggLyAyKS5hdHRyKCd3aWR0aCcsIHRpbGVTY3JlZW5XaWR0aCkuYXR0cignaGVpZ2h0JywgdGlsZVNjcmVlbldpZHRoKS5hdHRyKCdyeCcsIDQgLyB0aGF0LmN1clpvb21UcmFuc2Zvcm0uaykuYXR0cigncnknLCA0IC8gdGhhdC5jdXJab29tVHJhbnNmb3JtLmspLnN0eWxlKCdzdHJva2Utd2lkdGgnLCAyLjYgLyB0aGF0LmN1clpvb21UcmFuc2Zvcm0uayk7CiAgICBvbGRUb3BSZWN0LmF0dHIoJ3gnLCB0aGF0LnhTY2FsZSh0aWxlWzBdKSAtIHRpbGVTY3JlZW5XaWR0aCAvIDIpLmF0dHIoJ3knLCB0aGF0LnlTY2FsZSh0aWxlWzFdKSAtIHRpbGVTY3JlZW5XaWR0aCAvIDIpLmF0dHIoJ3dpZHRoJywgdGlsZVNjcmVlbldpZHRoKS5hdHRyKCdoZWlnaHQnLCB0aWxlU2NyZWVuV2lkdGgpLmF0dHIoJ3J4JywgNCAvIHRoYXQuY3VyWm9vbVRyYW5zZm9ybS5rKS5hdHRyKCdyeScsIDQgLyB0aGF0LmN1clpvb21UcmFuc2Zvcm0uaykuc3R5bGUoJ3N0cm9rZS13aWR0aCcsIDIuNiAvIHRoYXQuY3VyWm9vbVRyYW5zZm9ybS5rKTsKCiAgICAvLyBTaG93IHRoZSB0b29sdGlwCiAgICB1cGRhdGVQb3BwZXJUb29sdGlwKHRoYXQudG9vbHRpcEJvdHRvbSwgb2xkQm90dG9tUmVjdC5ub2RlKCksIHRpbGVbMl0sICdib3R0b20nKTsKICAgIGlmIChsYWJlbE1vdXNlZW50ZXJUaW1lciA9PT0gbnVsbCkgewogICAgICB0aGF0LnRvb2x0aXBCb3R0b20uY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7CiAgICB9IGVsc2UgewogICAgICBsYWJlbE1vdXNlZW50ZXJUaW1lciA9IHRpbGVbMl07CiAgICAgIG9sZFRvcFJlY3QuaW50ZXJydXB0KCd0b3AtZmFkZScpLnN0eWxlKCdvcGFjaXR5JywgMCkudHJhbnNpdGlvbigndG9wLWZhZGUnKS5kdXJhdGlvbihob3ZlckRlbGF5KS5lYXNlKGQzLmVhc2VDdWJpY0luT3V0KS5vbignZW5kJywgKCkgPT4gewogICAgICAgIG9sZFRvcFJlY3Quc3R5bGUoJ29wYWNpdHknLCAxKTsKICAgICAgICBsYWJlbEdyb3VwLmNsYXNzZWQoJ2ZhZGVkJywgdHJ1ZSk7CiAgICAgICAgdGhhdC50b29sdGlwQm90dG9tLmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpOwogICAgICAgIGxhYmVsTW91c2VlbnRlclRpbWVyID0gbnVsbDsKICAgICAgfSk7CiAgICB9CiAgfQp9CmNvbnN0IGFueVRydWUgPSBpdGVtcyA9PiBpdGVtcy5yZWR1Y2UoKGEsIGIpID0+IGEgfHwgYiwgZmFsc2UpOwpjb25zdCBhbGxUcnVlID0gaXRlbXMgPT4gaXRlbXMucmVkdWNlKChhLCBiKSA9PiBhICYmIGIsIHRydWUpOw=="},{"version":3,"names":["timeit","rectsIntersect","d3","config","computePosition","flip","shift","offset","arrow","IDEAL_TILE_WIDTH","LABEL_SPLIT","labelMouseenterTimer","labelMouseleaveTimer","updatePopperTooltip","tooltip","anchor","text","placement","length","slice","lastIndexOf","concat","arrowElement","querySelector","contentElement","innerHTML","middleware","element","then","x","y","middlewareData","style","left","top","arrowX","arrowY","staticSide","includes","right","bottom","roundRect","ctx","width","height","r","radius","tl","tr","br","bl","beginPath","moveTo","lineTo","quadraticCurveTo","closePath","redrawTopicGrid","that","strokeColor","topicCtxs","topicCanvases","map","c","node","getContext","topicCtx","setTransform","clearRect","svgFullSize","translate","curZoomTransform","scale","k","drawTopicGrid","showGrid","idealTreeLevel","getIdealTopicTreeLevel","lastGridTreeLevels","lastLevel","classed","on","push","treeLevel","canvas","topicTree","topicLevelTrees","get","treeExtent","extent","tileWidth","Math","pow","tileScreenWidth","abs","xScale","zoomBox","getCurZoomBox","tiles","data","d","tileRect","yScale","name","label","filter","save","strokeStyle","anyTrue","showContours","gridColorLight","gridColorDark","lineWidth","tile","stroke","restore","size","bestLevel","bestDistance","Infinity","level","keys","treeViewWidth","tileNum","tileSize","scaledTileWidth","max","mouseoverLabel","offx","hideHighlights","bottomGroup","topSvg","select","labelGroup","topGroup","oldBottomRect","oldTopRect","hoverDelay","showLabel","removeHighlight","clearTimeout","setTimeout","interrupt","remove","tooltipBottom","classList","add","x0","invert","invertX","y0","invertY","tree","sqrt","find","undefined","empty","rect","append","attr","clone","topRect","appendChild","transition","duration","ease","easeCubicInOut","items","reduce","a","b","allTrue"],"sources":["/home/yansha/VDProject/VDFrontend/src/components/Embedding/EmbeddingLabel.js"],"sourcesContent":["\nimport { timeit, rectsIntersect } from '../../utils/utils';\n\nimport d3 from '../../utils/d3-import';\nimport { config } from '../../config/config';\nimport { computePosition, flip, shift, offset, arrow } from '@floating-ui/dom';\n\nconst IDEAL_TILE_WIDTH = 35;\nconst LABEL_SPLIT = '-';\nlet labelMouseenterTimer = null;\nlet labelMouseleaveTimer = null;\n\n\nexport const updatePopperTooltip = (tooltip, anchor, text, placement) => {\n    // 如果文本太长则截断\n    if (text.length > 300) {\n        text = text.slice(0, 300);\n        text = text.slice(0, text.lastIndexOf(' '));\n        text = text.concat('...');\n    }\n\n    const arrowElement = tooltip.querySelector('.popper-arrow');\n    const contentElement = tooltip.querySelector('.popper-content');\n    contentElement.innerHTML = text;\n\n    computePosition(anchor, tooltip, {\n        placement: placement,\n        middleware: [offset(6), flip(), shift(), arrow({ element: arrowElement })]\n    }).then(({ x, y, placement, middlewareData }) => {\n        tooltip.style.left = `${x}px`;\n        tooltip.style.top = `${y}px`;\n\n        const { x: arrowX, y: arrowY } = middlewareData.arrow;\n        let staticSide = 'bottom';\n        if (placement.includes('top')) staticSide = 'bottom';\n        if (placement.includes('right')) staticSide = 'left';\n        if (placement.includes('bottom')) staticSide = 'top';\n        if (placement.includes('left')) staticSide = 'right';\n\n        arrowElement.style.left = arrowX ? `${arrowX}px` : '';\n        arrowElement.style.top = arrowY ? `${arrowY}px` : '';\n        arrowElement.style.right = '';\n        arrowElement.style.bottom = '';\n        arrowElement.style[staticSide] = '-4px';\n    });\n};\n\nfunction roundRect(ctx, x, y, width, height, r) {\n    const radius = {\n        tl: 0,\n        tr: 0,\n        br: 0,\n        bl: 0\n    };\n\n    if (typeof r === 'number') {\n        radius.tl = r;\n        radius.tr = r;\n        radius.br = r;\n        radius.bl = r;\n    } else {\n        radius.tl = r[0];\n        radius.tr = r[1];\n        radius.br = r[2];\n        radius.bl = r[3];\n    }\n\n    ctx.beginPath();\n    ctx.moveTo(x + radius.tl, y);\n    ctx.lineTo(x + width - radius.tr, y);\n    ctx.quadraticCurveTo(x + width, y, x + width, y + radius.tr);\n    ctx.lineTo(x + width, y + height - radius.br);\n    ctx.quadraticCurveTo(\n        x + width,\n        y + height,\n        x + width - radius.br,\n        y + height\n    );\n    ctx.lineTo(x + radius.bl, y + height);\n    ctx.quadraticCurveTo(x, y + height, x, y + height - radius.bl);\n    ctx.lineTo(x, y + radius.tl);\n    ctx.quadraticCurveTo(x, y, x + radius.tl, y);\n    ctx.closePath();\n}\n\nexport function redrawTopicGrid(that, strokeColor = null) {\n\n    const topicCtxs = that.topicCanvases.map(\n        c => c.node().getContext('2d')\n    );\n\n    for (const topicCtx of topicCtxs) {\n        topicCtx.setTransform(1, 0, 0, 1, 0, 0);\n        topicCtx.clearRect(0, 0, that.svgFullSize.width, that.svgFullSize.height);\n        topicCtx.translate(that.curZoomTransform.x, that.curZoomTransform.y);\n        topicCtx.scale(that.curZoomTransform.k, that.curZoomTransform.k);\n    }\n\n\n    drawTopicGrid(that, strokeColor);\n}\n\n\nexport function drawTopicGrid(that, strokeColor = null) {\n    if (!that.showGrid) return;\n\n    // Choose the topic tree level based on the current zoom level\n    const idealTreeLevel = getIdealTopicTreeLevel(that);\n    if (idealTreeLevel === null) return;\n\n    // Crossfade two canvas elements if tree level changes\n    if (that.lastGridTreeLevels.length > 0) {\n        const lastLevel = that.lastGridTreeLevels[that.lastGridTreeLevels.length - 1];\n\n\n        // Tree level changes\n        if (idealTreeLevel !== lastLevel) {\n            // Fade the last canvas\n            that.topicCanvases[lastLevel % 2]\n                .classed('faded', true)\n                .on('transitionend', () => {\n                    if (that.lastGridTreeLevels[0] === lastLevel) {\n                        // No need to draw this faded canvas\n                        that.lastGridTreeLevels.shift();\n                    }\n                });\n\n            // Show the current canvas\n            that.topicCanvases[idealTreeLevel % 2].classed('faded', false);\n\n            // Track this new level\n            that.lastGridTreeLevels.push(idealTreeLevel);\n\n            // The stack only tracks two levels\n            if (that.lastGridTreeLevels.length > 2) {\n                that.lastGridTreeLevels.shift();\n            }\n        }\n    }\n\n    if (that.lastGridTreeLevels.length === 0) {\n        that.lastGridTreeLevels.push(idealTreeLevel);\n    }\n\n    for (const treeLevel of that.lastGridTreeLevels) {\n        const canvas = that.topicCanvases[treeLevel % 2].node();\n        const ctx = canvas.getContext('2d');\n        if (ctx === null) return;\n\n        const topicTree = that.topicLevelTrees.get(treeLevel);\n        const treeExtent = topicTree.extent();\n        const tileWidth = (treeExtent[1][0] - treeExtent[0][0]) / Math.pow(2, treeLevel);\n        const tileScreenWidth = Math.abs(that.xScale(tileWidth) - that.xScale(0));\n\n        // Only draw the tiles that are visible\n        const zoomBox = that.getCurZoomBox();\n\n        const tiles = topicTree\n            .data()\n            .map(d => {\n                const tileRect = {\n                    x: that.xScale(d[0] - tileWidth / 2),\n                    // x: that.xScale(d[0] - tileWidth / 2) + (that.svgFullSize.width - that.svgFullSize.height) / 2,\n                    y: that.yScale(d[1] + tileWidth / 2),\n                    width: tileScreenWidth,\n                    height: tileScreenWidth,\n                    name: `${d[0]}, ${d[1]}`,\n                    label: d[2]\n                };\n                return tileRect;\n            })\n            .filter(d => rectsIntersect(d, zoomBox));\n\n        // Draw the tiles on a canvas\n        ctx.save();\n\n        // Use specified stroke color or default based on contours\n        if (strokeColor) {\n            ctx.strokeStyle = strokeColor;\n        } else {\n            if (anyTrue(that.showContours)) {\n                ctx.strokeStyle = config.gridColorLight;\n            } else {\n                ctx.strokeStyle = config.gridColorDark;\n            }\n        }\n        ctx.lineWidth = 1 / (4 * that.curZoomTransform.k);\n\n        for (const tile of tiles) {\n            ctx.moveTo(tile.x, tile.y);\n            roundRect(ctx, tile.x, tile.y, tile.width, tile.height, 4 / that.curZoomTransform.k);\n            ctx.stroke();\n        }\n        ctx.restore();\n    }\n}\n\nexport function getIdealTopicTreeLevel(that) {\n\n    // 根据当前的缩放级别选择最佳的topic树级别进行展示\n\n    if (that.topicLevelTrees.size < 1) return null;\n\n    let bestLevel = -1;\n    let bestDistance = Infinity;\n\n    for (const level of that.topicLevelTrees.keys()) {\n        const extent = that.topicLevelTrees.get(level).extent();\n        const treeViewWidth = extent[1][0] - extent[0][0];\n        const tileNum = Math.pow(2, level);\n        const tileSize = treeViewWidth / tileNum;\n        const scaledTileWidth =\n            Math.max(\n                that.xScale(tileSize) - that.xScale(0),\n                that.yScale(tileSize) - that.yScale(0)\n            ) * that.curZoomTransform.k;\n\n        if (Math.abs(scaledTileWidth - IDEAL_TILE_WIDTH) < bestDistance) {\n            bestLevel = level;\n            bestDistance = Math.abs(scaledTileWidth - IDEAL_TILE_WIDTH);\n        }\n    }\n\n    return bestLevel;\n}\n\n\nexport function mouseoverLabel(that, x, y) {\n    // const offx = (that.svgFullSize.width - that.svgFullSize.height) / 2;\n    const offx = 0;\n    if (!that.showGrid) return;\n    if (that.hideHighlights) return;\n\n    const bottomGroup = that.topSvg.select('g.top-content g.topics-bottom');\n    const labelGroup = that.topSvg.select('g.top-content g.topics');\n    const topGroup = that.topSvg.select('g.top-content g.topics-top');\n\n    const oldBottomRect = bottomGroup.select('rect.highlight-tile');\n    const oldTopRect = topGroup.select('rect.highlight-tile');\n\n    const hoverDelay = that.showLabel ? 700 : 300;\n\n    const removeHighlight = () => {\n        if (labelMouseleaveTimer !== null) {\n            clearTimeout(labelMouseleaveTimer);\n            labelMouseleaveTimer = null;\n        }\n\n        // Clear the highlight and tooltip in a short delay\n        labelMouseleaveTimer = setTimeout(() => {\n            labelGroup.classed('faded', false);\n            oldTopRect.interrupt('top-fade').remove();\n            oldBottomRect.remove();\n            that.tooltipBottom.classList.add('hidden');\n            labelMouseleaveTimer = null;\n        }, 50);\n    };\n\n    // Remove the tile if x and y are null\n    if (x === null || y === null) {\n        removeHighlight();\n        return;\n    }\n\n    // Get the coordinate in the embedding coordinate\n    const x0 = that.xScale.invert(that.curZoomTransform.invertX(x));\n    const y0 = that.yScale.invert(that.curZoomTransform.invertY(y));\n\n    // Get the corresponding tree\n    const idealTreeLevel = getIdealTopicTreeLevel(that);\n    const tree = that.topicLevelTrees.get(idealTreeLevel);\n    const treeExtent = tree.extent();\n    const tileWidth = (treeExtent[1][0] - treeExtent[0][0]) / Math.pow(2, idealTreeLevel);\n    const tileScreenWidth = Math.abs(that.xScale(tileWidth) - that.xScale(0));\n\n    const radius = Math.sqrt(2) * tileWidth;\n    const tile = tree.find(x0, y0, radius);\n\n    // No tile near the mouse location\n    if (tile === undefined) {\n        if (!oldBottomRect.empty()) {\n            removeHighlight();\n        }\n        return;\n    }\n\n    if (oldBottomRect.empty()) {\n        // Add a new highlight rect at the bottom layer\n        const rect = bottomGroup\n            .append('rect')\n            .attr('class', 'highlight-tile')\n            .attr('x', that.xScale(tile[0]) - tileScreenWidth / 2)\n            .attr('y', that.yScale(tile[1]) - tileScreenWidth / 2)\n            .attr('width', tileScreenWidth)\n            .attr('height', tileScreenWidth)\n            .attr('rx', 4 / that.curZoomTransform.k)\n            .attr('ry', 4 / that.curZoomTransform.k)\n            .style('stroke-width', 2.6 / that.curZoomTransform.k)\n            .style('stroke', anyTrue(that.showContours) ? config.gridColorLight : config.gridColorDark);\n\n        // Show the tooltip\n        updatePopperTooltip(that.tooltipBottom, rect.node(), tile[2], 'bottom');\n\n        // Insert a clone to the top layer\n        const clone = rect.clone(true).style('stroke', null).remove().node();\n        const topRect = d3.select((topGroup.node()).appendChild(clone));\n\n        labelMouseenterTimer = tile[2];\n        topRect\n            .style('opacity', 0)\n            .transition('top-fade')\n            .duration(hoverDelay)\n            .ease(d3.easeCubicInOut)\n            .on('end', () => {\n                topRect.style('opacity', 1);\n                labelGroup.classed('faded', true);\n                that.tooltipBottom.classList.remove('hidden');\n                labelMouseenterTimer = null;\n            });\n    } else {\n        // Update the old highlight rect\n        oldBottomRect\n            .attr('x', that.xScale(tile[0]) - tileScreenWidth / 2)\n            .attr('y', that.yScale(tile[1]) - tileScreenWidth / 2)\n            .attr('width', tileScreenWidth)\n            .attr('height', tileScreenWidth)\n            .attr('rx', 4 / that.curZoomTransform.k)\n            .attr('ry', 4 / that.curZoomTransform.k)\n            .style('stroke-width', 2.6 / that.curZoomTransform.k);\n\n        oldTopRect\n            .attr('x', that.xScale(tile[0]) - tileScreenWidth / 2)\n            .attr('y', that.yScale(tile[1]) - tileScreenWidth / 2)\n            .attr('width', tileScreenWidth)\n            .attr('height', tileScreenWidth)\n            .attr('rx', 4 / that.curZoomTransform.k)\n            .attr('ry', 4 / that.curZoomTransform.k)\n            .style('stroke-width', 2.6 / that.curZoomTransform.k);\n\n        // Show the tooltip\n        updatePopperTooltip(that.tooltipBottom, oldBottomRect.node(), tile[2], 'bottom');\n\n        if (labelMouseenterTimer === null) {\n            that.tooltipBottom.classList.remove('hidden');\n        } else {\n            labelMouseenterTimer = tile[2];\n            oldTopRect\n                .interrupt('top-fade')\n                .style('opacity', 0)\n                .transition('top-fade')\n                .duration(hoverDelay)\n                .ease(d3.easeCubicInOut)\n                .on('end', () => {\n                    oldTopRect.style('opacity', 1);\n                    labelGroup.classed('faded', true);\n                    that.tooltipBottom.classList.remove('hidden');\n                    labelMouseenterTimer = null;\n                });\n        }\n    }\n}\n\nconst anyTrue = (items) => items.reduce((a, b) => a || b, false);\nconst allTrue = (items) => items.reduce((a, b) => a && b, true);\n"],"mappings":"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","ignoreList":[]}]}