{"remainingRequest":"/home/yansha/VDProject/VDFrontend/node_modules/babel-loader/lib/index.js!/home/yansha/VDProject/VDFrontend/src/views/MainView/MiddleMainView/Embedding.js","dependencies":[{"path":"/home/yansha/VDProject/VDFrontend/src/views/MainView/MiddleMainView/Embedding.js","mtime":1734873152259},{"path":"/home/yansha/VDProject/VDFrontend/babel.config.js","mtime":1730469387355},{"path":"/home/yansha/VDProject/VDFrontend/node_modules/cache-loader/dist/cjs.js","mtime":1735202380381},{"path":"/home/yansha/VDProject/VDFrontend/node_modules/babel-loader/lib/index.js","mtime":1735202380921}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZXJyb3IuY2F1c2UuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5wdXNoLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXNuZXh0Lml0ZXJhdG9yLm1hcC5qcyI7CmltcG9ydCBkMyBmcm9tICcuLi8uLi8uLi91dGlscy9kMy1pbXBvcnQnOwppbXBvcnQgeyBjb25maWcgfSBmcm9tICcuLi8uLi8uLi9jb25maWcvY29uZmlnJzsKaW1wb3J0IGZyYWdtZW50U2hhZGVyIGZyb20gJy4uLy4uLy4uL2NvbXBvbmVudHMvRW1iZWRkaW5nL3NoYWRlcnMvcG9pbnQuZnJhZz9yYXcnOwppbXBvcnQgdmVydGV4U2hhZGVyIGZyb20gJy4uLy4uLy4uL2NvbXBvbmVudHMvRW1iZWRkaW5nL3NoYWRlcnMvcG9pbnQudmVydD9yYXcnOwpleHBvcnQgZnVuY3Rpb24gaW5pdFdlYkdMTWF0cmljZXModGhhdCkgewogIC8vIENvbnZlcnQgdGhlIHggYW5kIHkgc2NhbGVzIHRvIGEgbWF0cml4IChhcHBseWluZyBzY2FsZSBpcyBjaGVhcGVyIGluIEdQVSkKCiAgY29uc3QgeERvbWFpbk1pZCA9ICh0aGF0LnhTY2FsZS5kb21haW4oKVswXSArIHRoYXQueFNjYWxlLmRvbWFpbigpWzFdKSAvIDI7CiAgY29uc3QgeURvbWFpbk1pZCA9ICh0aGF0LnlTY2FsZS5kb21haW4oKVswXSArIHRoYXQueVNjYWxlLmRvbWFpbigpWzFdKSAvIDI7CiAgY29uc3QgeFJhbmdlTWlkID0gKHRoYXQueFNjYWxlLnJhbmdlKClbMF0gKyB0aGF0LnhTY2FsZS5yYW5nZSgpWzFdKSAvIDI7CiAgY29uc3QgeVJhbmdlTWlkID0gKHRoYXQueVNjYWxlLnJhbmdlKClbMF0gKyB0aGF0LnlTY2FsZS5yYW5nZSgpWzFdKSAvIDI7CiAgY29uc3QgeE11bHRpcGxpZXIgPSAodGhhdC54U2NhbGUucmFuZ2UoKVsxXSAtIHRoYXQueFNjYWxlLnJhbmdlKClbMF0pIC8gKHRoYXQueFNjYWxlLmRvbWFpbigpWzFdIC0gdGhhdC54U2NhbGUuZG9tYWluKClbMF0pOwogIGNvbnN0IHlNdWx0aXBsaWVyID0gKHRoYXQueVNjYWxlLnJhbmdlKClbMV0gLSB0aGF0LnlTY2FsZS5yYW5nZSgpWzBdKSAvICh0aGF0LnlTY2FsZS5kb21haW4oKVsxXSAtIHRoYXQueVNjYWxlLmRvbWFpbigpWzBdKTsKCiAgLy8gV2ViR0wgaXMgY29sdW1uLW1ham9yIQogIC8vIFRyYW5zZm9ybSBmcm9tIGRhdGEgc3BhY2UgdG8gc3RhZ2Ugc3BhY2UgKHNhbWUgYXMgYXBwbHlpbmcgdGhhdC54U2NhbGUoKSwKICAvLyBhbmQgdGhhdC55U2NhbGUoKSkKCiAgY29uc3QgZGF0YVNjYWxlTWF0cml4ID0gW1t4TXVsdGlwbGllciwgMCwgLXhNdWx0aXBsaWVyICogeERvbWFpbk1pZCArIHhSYW5nZU1pZF0sIFswLCB5TXVsdGlwbGllciwgLXlNdWx0aXBsaWVyICogeURvbWFpbk1pZCArIHlSYW5nZU1pZF0sIFswLCAwLCAxXV07CgogIC8vIOmAguW9k+iwg+aVtOW5s+enu+mHj++8jOS9v+W+l+e7mOWbvuWMuuWfn+eahOS4reW/g+S4juinhuWbvueahOS4reW/g+Wvuem9kAogIGRhdGFTY2FsZU1hdHJpeFswXVsyXSArPSB0aGF0LnN2Z0Z1bGxTaXplLndpZHRoIC8gMiAtIHhSYW5nZU1pZDsKICBkYXRhU2NhbGVNYXRyaXhbMV1bMl0gKz0gdGhhdC5zdmdGdWxsU2l6ZS5oZWlnaHQgLyAyIC0geVJhbmdlTWlkOwogIGNvbnN0IGRhdGFTY2FsZU1hdHJpeDFEID0gZGF0YVNjYWxlTWF0cml4LmZsYXQoKTsKCiAgLy8gVHJhbnNmb3JtaW5nIHRoZSBzdGFnZSBzcGFjZSB0byB0aGUgbm9ybWFsaXplZCBjb29yZGluYXRlCiAgLy8gTm90ZSB3ZSBuZWVkIHRvIGZsaXAgdGhlIHkgY29vcmRpbmF0ZQogIGNvbnN0IG5vcm1hbGl6ZU1hdHJpeCA9IFtbMiAvIHRoYXQuc3ZnRnVsbFNpemUud2lkdGgsIDAsIC0xXSwgWzAsIC0yIC8gdGhhdC5zdmdGdWxsU2l6ZS5oZWlnaHQsIDFdLCBbMCwgMCwgMV1dOwogIGNvbnN0IG5vcm1hbGl6ZU1hdHJpeDFEID0gbm9ybWFsaXplTWF0cml4LmZsYXQoKTsKICB0aGF0LndlYkdMTWF0cmljZXMgPSB7CiAgICBkYXRhU2NhbGVNYXRyaXg6IGRhdGFTY2FsZU1hdHJpeDFELAogICAgbm9ybWFsaXplTWF0cml4OiBub3JtYWxpemVNYXRyaXgxRAogIH07Cn0KZXhwb3J0IGZ1bmN0aW9uIGluaXRXZWJHTEJ1ZmZlcnModGhhdCkgewogIGlmICh0aGF0LmdyaWREYXRhID09PSBudWxsKSB7CiAgICB0aHJvdyBuZXcgRXJyb3IoJ0dyaWREYXRhIGlzIG51bGwuJyk7CiAgfQoKICAvLyDojrflj5bmr4/kuKrngrnnmoTkvY3nva7lkozpopzoibIKICBjb25zdCBwb3NpdGlvbnMgPSBbXTsKICBjb25zdCB0ZXh0dXJlQ29vcmRzID0gW107CiAgZm9yIChjb25zdCBwb2ludCBvZiB0aGF0LnBvaW50cykgewogICAgcG9zaXRpb25zLnB1c2goW3BvaW50LngsIHBvaW50LnldKTsKICAgIHRleHR1cmVDb29yZHMucHVzaChbMCwgMF0pOwogIH0KICBsZXQgdG90YWxQb2ludFNpemUgPSB0aGF0LmdyaWREYXRhLnRvdGFsUG9pbnRTaXplOwogIHRoYXQuZnJvbnRQb3NpdGlvbkJ1ZmZlciA9IHRoYXQucG9pbnRSZWdsLmJ1ZmZlcih7CiAgICBsZW5ndGg6IHRvdGFsUG9pbnRTaXplICogNCAqIDIsCiAgICB0eXBlOiAnZmxvYXQnLAogICAgdXNhZ2U6ICdkeW5hbWljJwogIH0pOwogIHRoYXQuZnJvbnRQb3NpdGlvbkJ1ZmZlci5zdWJkYXRhKHBvc2l0aW9ucywgMCk7CiAgdGhhdC5mcm9udFRleHR1cmVDb29yZGluYXRlQnVmZmVyID0gdGhhdC5wb2ludFJlZ2wuYnVmZmVyKHsKICAgIGxlbmd0aDogdG90YWxQb2ludFNpemUgKiA0ICogMiwKICAgIHR5cGU6ICdmbG9hdCcsCiAgICB1c2FnZTogJ2R5bmFtaWMnCiAgfSk7CiAgdGhhdC5mcm9udFRleHR1cmVDb29yZGluYXRlQnVmZmVyLnN1YmRhdGEodGV4dHVyZUNvb3JkcywgMCk7CiAgdGhhdC5mcm9udEJ1ZmZlclBvaW50U2l6ZSA9IHRoYXQucG9pbnRzLmxlbmd0aDsKfQoKLyoqCiAqIERyYXcgYSBzY2F0dGVyIHBsb3QgZm9yIHRoZSBVTUFQLgogKi8KZXhwb3J0IGZ1bmN0aW9uIGRyYXdTY2F0dGVyUGxvdCh0aGF0KSB7CiAgaWYgKCF0aGF0LndlYkdMTWF0cmljZXMpIHsKICAgIHRocm93IEVycm9yKCd3ZWJHTE1hdHJpY2VzIG5vdCBpbml0aWFsaXplZCcpOwogIH0KICB0aGF0LnBvaW50UmVnbC5jbGVhcih7CiAgICBjb2xvcjogWzAsIDAsIDAsIDBdLAogICAgZGVwdGg6IDEKICB9KTsKCiAgLy8gQWRqdXN0IHBvaW50IHdpZHRoIGJhc2VkIG9uIHRoZSBudW1iZXIgb2YgcG9pbnRzIHRvIGRyYXcKICBsZXQgcG9pbnRDb3VudCA9IHRoYXQubG9hZGVkUG9pbnRDb3VudDsKCiAgLy8gTG9nYXJpdGhtaWMgcmVncmVzc2lvbiBieSBmaXR0aW5nIHRoZSBmb2xsb3dpbmcgdGhyZWUgcG9pbnRzCiAgLy8gaHR0cHM6Ly9rZWlzYW4uY2FzaW8uY29tL2V4ZWMvc3lzdGVtLzE0MDU5OTMwMjI2NjkxCiAgLy8gWyg2ZTQsIDIpLCAoM2U1LCAxKSwgWzEuOGU2LCAwLjVdXQogIGNvbnN0IGEgPSA2LjcxNjgyMDcxOwogIGNvbnN0IGIgPSAtMC40Mzc5NzQ4NzE7CiAgdGhhdC5jdXJQb2ludFdpZHRoID0gYSArIGIgKiBNYXRoLmxvZyhjb25maWcubGF5b3V0LnNjYXR0ZXJEb3RSYWRpdXMgKiAodGhhdC5zdmdGdWxsU2l6ZS5oZWlnaHQgLyAxMDAwMDAwMCkgKiBwb2ludENvdW50KTsKICB0aGF0LmN1clBvaW50V2lkdGggPSBNYXRoLm1pbig1LCB0aGF0LmN1clBvaW50V2lkdGgpOwogIHRoYXQuY3VyUG9pbnRXaWR0aCA9IE1hdGgubWF4KDAuNCwgdGhhdC5jdXJQb2ludFdpZHRoKTsKICBjb25zdCBhbHBoYSA9IDEgLyAoTWF0aC5sb2cocG9pbnRDb3VudCkgLyBNYXRoLmxvZyg1MDApKTsKCiAgLy8gR2V0IHRoZSBjdXJyZW50IHpvb20KICBjb25zdCB6b29tTWF0cml4ID0gZ2V0Wm9vbU1hdHJpeCh0aGF0LmN1clpvb21UcmFuc2Zvcm0pOwoKICAvLyBDcmVhdGUgYSB0ZXh0dXJlIGFycmF5IChkZWZhdWx0IDN4MSkKICBsZXQgdGV4dHVyZUFycmF5ID0gW2NvbmZpZy5sYXlvdXQuZGVmYXVsdFBvaW50Q29sb3JJbnRbMF0sIGNvbmZpZy5sYXlvdXQuZGVmYXVsdFBvaW50Q29sb3JJbnRbMV0sIGNvbmZpZy5sYXlvdXQuZGVmYXVsdFBvaW50Q29sb3JJbnRbMl0sIDI1NSwgY29uZmlnLmxheW91dC5zZWNvbmRQb2ludENvbG9ySW50WzBdLCBjb25maWcubGF5b3V0LnNlY29uZFBvaW50Q29sb3JJbnRbMV0sIGNvbmZpZy5sYXlvdXQuc2Vjb25kUG9pbnRDb2xvckludFsyXSwgMjU1LCAyNTUsIDI1NSwgMjU1LCAwXTsKICAvLyBbZGVmYXVsdCBjb2xvciwgc2Vjb25kIGNvbG9yLCB0cmFuc3BhcmVudCwgZW1wdHldCiAgY29uc3QgdGV4dHVyZSA9IHRoYXQucG9pbnRSZWdsLnRleHR1cmUoewogICAgd2lkdGg6IDMsCiAgICBoZWlnaHQ6IDEsCiAgICBkYXRhOiB0ZXh0dXJlQXJyYXksCiAgICBmb3JtYXQ6ICdyZ2JhJwogIH0pOwoKICAvLyBJZiB1c2VyIHNwZWNpZmllcyBhbiBhbHBoYSBsZXZlbCwgd2UgdXNlIGl0IHRvIG92ZXJyaWRlIGF1dG8tYWxwaGEKICBsZXQgdXNlckFscGhhID0gLTEuMDsKICBpZiAodGhhdC5ncmlkRGF0YSAmJiB0aGF0LmdyaWREYXRhLm9wYWNpdHkgIT09IHVuZGVmaW5lZCkgewogICAgdXNlckFscGhhID0gTWF0aC5tYXgoMCwgTWF0aC5taW4odGhhdC5ncmlkRGF0YS5vcGFjaXR5LCAxKSk7CiAgfQogIGNvbnN0IGRyYXdQb2ludHMgPSB0aGF0LnBvaW50UmVnbCh7CiAgICBkZXB0aDogewogICAgICBlbmFibGU6IGZhbHNlCiAgICB9LAogICAgc3RlbmNpbDogewogICAgICBlbmFibGU6IGZhbHNlCiAgICB9LAogICAgZnJhZzogZnJhZ21lbnRTaGFkZXIsCiAgICB2ZXJ0OiB2ZXJ0ZXhTaGFkZXIsCiAgICBhdHRyaWJ1dGVzOiB7CiAgICAgIHBvc2l0aW9uOiB7CiAgICAgICAgYnVmZmVyOiB0aGF0LmZyb250UG9zaXRpb25CdWZmZXIsCiAgICAgICAgc3RyaWRlOiAyICogNCwKICAgICAgICBvZmZzZXQ6IDAKICAgICAgfSwKICAgICAgdGV4dHVyZUNvb3JkOiB7CiAgICAgICAgYnVmZmVyOiB0aGF0LmZyb250VGV4dHVyZUNvb3JkaW5hdGVCdWZmZXIsCiAgICAgICAgc3RyaWRlOiAyICogNCwKICAgICAgICBvZmZzZXQ6IDAKICAgICAgfQogICAgfSwKICAgIHVuaWZvcm1zOiB7CiAgICAgIC8vIFBsYWNlaG9sZGVyIGZvciBmdW5jdGlvbiBwYXJhbWV0ZXJzCiAgICAgIHBvaW50V2lkdGg6IDEuMiwKICAgICAgZGF0YVNjYWxlTWF0cml4OiB0aGF0LndlYkdMTWF0cmljZXMuZGF0YVNjYWxlTWF0cml4LAogICAgICB6b29tTWF0cml4OiB6b29tTWF0cml4LAogICAgICBub3JtYWxpemVNYXRyaXg6IHRoYXQud2ViR0xNYXRyaWNlcy5ub3JtYWxpemVNYXRyaXgsCiAgICAgIGFscGhhOiBhbHBoYSwKICAgICAgdXNlckFscGhhOiB1c2VyQWxwaGEsCiAgICAgIHRleHR1cmU6IHRleHR1cmUKICAgIH0sCiAgICBibGVuZDogewogICAgICBlbmFibGU6IHRydWUsCiAgICAgIGZ1bmM6IHsKICAgICAgICBzcmNSR0I6ICdvbmUnLAogICAgICAgIHNyY0FscGhhOiAnb25lJywKICAgICAgICBkc3RSR0I6ICdvbmUgbWludXMgc3JjIGFscGhhJywKICAgICAgICBkc3RBbHBoYTogJ29uZSBtaW51cyBzcmMgYWxwaGEnCiAgICAgIH0KICAgIH0sCiAgICBjb3VudDogdGhhdC5mcm9udEJ1ZmZlclBvaW50U2l6ZSwKICAgIHByaW1pdGl2ZTogJ3BvaW50cycKICB9KTsKICBkcmF3UG9pbnRzKCk7Cn0KZXhwb3J0IGZ1bmN0aW9uIGRyYXdHcm91cENvbnRvdXIodGhhdCkgewogIGlmICh0aGF0LmdyaWREYXRhID09IG51bGwpIHsKICAgIGNvbnNvbGUuZXJyb3IoJ0dyaWQgZGF0YSBub3QgaW5pdGlhbGl6ZWQnKTsKICAgIHJldHVybiBudWxsOwogIH0KICBjb25zdCBjb250b3VyR3JvdXAgPSB0aGF0LnN2Zy5zZWxlY3QoYC5jb250b3VyLWdyb3VwYCk7CiAgY29uc3QgZ3JpZERhdGExRCA9IFtdOwogIGNvbnN0IGdyaWQgPSB0aGF0LmdyaWREYXRhLmdyaWQ7CiAgZm9yIChjb25zdCByb3cgb2YgZ3JpZCkgewogICAgZm9yIChjb25zdCBpdGVtIG9mIHJvdykgewogICAgICBncmlkRGF0YTFELnB1c2goaXRlbSk7CiAgICB9CiAgfQoKICAvLyBMaW5lYXIgaW50ZXJwb2xhdGUgdGhlIGxldmVscyB0byBkZXRlcm1pbmUgdGhlIHRocmVzaG9sZHMKICBjb25zdCBsZXZlbHMgPSBjb25maWcubGF5b3V0LmNvbnRvdXJMZXZlbHM7CiAgY29uc3QgdGhyZXNob2xkcyA9IFtdOwogIGNvbnN0IG1pblZhbHVlID0gTWF0aC5taW4oLi4uZ3JpZERhdGExRCk7CiAgY29uc3QgbWF4VmFsdWUgPSBNYXRoLm1heCguLi5ncmlkRGF0YTFEKTsKICBjb25zdCBzdGVwID0gKG1heFZhbHVlIC0gbWluVmFsdWUpIC8gbGV2ZWxzOwogIGZvciAobGV0IGkgPSAwOyBpIDwgbGV2ZWxzOyBpKyspIHsKICAgIHRocmVzaG9sZHMucHVzaChtaW5WYWx1ZSArIHN0ZXAgKiBpKTsKICB9CiAgbGV0IGNvbnRvdXJzID0gZDMuY29udG91cnMoKS50aHJlc2hvbGRzKHRocmVzaG9sZHMpLnNpemUoW2dyaWQubGVuZ3RoLCBncmlkWzBdLmxlbmd0aF0pKGdyaWREYXRhMUQpOwoKICAvLyBDb252ZXJ0IHRoZSBzY2FsZSBvZiB0aGUgZ2VuZXJhdGVkIHBhdGhzCiAgY29uc3QgY29udG91clhTY2FsZSA9IGQzLnNjYWxlTGluZWFyKCkuZG9tYWluKFswLCBncmlkLmxlbmd0aF0pLnJhbmdlKHRoYXQuZ3JpZERhdGEueFJhbmdlKTsKICBjb25zdCBjb250b3VyWVNjYWxlID0gZDMuc2NhbGVMaW5lYXIoKS5kb21haW4oWzAsIGdyaWRbMF0ubGVuZ3RoXSkucmFuZ2UodGhhdC5ncmlkRGF0YS55UmFuZ2UpOwogIGNvbnRvdXJzID0gY29udG91cnMubWFwKGl0ZW0gPT4gewogICAgaXRlbS5jb29yZGluYXRlcyA9IGl0ZW0uY29vcmRpbmF0ZXMubWFwKGNvb3JkaW5hdGVzID0+IHsKICAgICAgcmV0dXJuIGNvb3JkaW5hdGVzLm1hcChwb3NpdGlvbnMgPT4gewogICAgICAgIHJldHVybiBwb3NpdGlvbnMubWFwKHBvaW50ID0+IHsKICAgICAgICAgIHJldHVybiBbdGhhdC54U2NhbGUoY29udG91clhTY2FsZShwb2ludFswXSkpICsgKHRoYXQuc3ZnRnVsbFNpemUud2lkdGggLSB0aGF0LnN2Z0Z1bGxTaXplLmhlaWdodCkgLyAyLCB0aGF0LnlTY2FsZShjb250b3VyWVNjYWxlKHBvaW50WzFdKSldOwogICAgICAgIH0pOwogICAgICB9KTsKICAgIH0pOwogICAgcmV0dXJuIGl0ZW07CiAgfSk7CgogIC8vIENyZWF0ZSBhIG5ldyBjb2xvciBpbnRlcnBvbGF0b3IKICAvLyAoc3RhcnRpbmcgZnJvbSB3aGl0ZSBoZXJlKQogIGNvbnN0IGNvbG9yU2NhbGVJbnRlcnBvbGF0b3IgPSBkMy5pbnRlcnBvbGF0ZUxhYignI2ZmZmZmZicsIGNvbmZpZy5sYXlvdXRbJ2dyb3VwQ29sb3JzJ11bMF0pOwogIGNvbnN0IGNvbG9yU2NhbGUgPSBkMy5zY2FsZVNlcXVlbnRpYWwoZDMuZXh0ZW50KHRocmVzaG9sZHMpLCBkID0+IGNvbG9yU2NhbGVJbnRlcnBvbGF0b3IoZCAvIDEpKTsKCiAgLy8gRHJhdyB0aGUgY29udG91cnMKICBjb250b3VyR3JvdXAuc2VsZWN0QWxsKCdwYXRoJykuZGF0YShjb250b3Vycy5zbGljZSgxKSkuam9pbigncGF0aCcpLmF0dHIoJ2ZpbGwnLCBkID0+IGNvbG9yU2NhbGUoZC52YWx1ZSkpLmF0dHIoJ2QnLCBkMy5nZW9QYXRoKCkpOwogIHJldHVybiBjb250b3VyczsKfQo7CgovKioKICogQ29udmVydCB0aGUgY3VycmVudCB6b29tIHRyYW5zZm9ybSBpbnRvIGEgbWF0cml4CiAqIEBwYXJhbSB6b29tVHJhbnNmb3JtIEQzIHpvb20gdHJhbnNmb3JtCiAqIEByZXR1cm5zIDFEIG1hdHJpeAogKi8KY29uc3QgZ2V0Wm9vbU1hdHJpeCA9IHpvb21UcmFuc2Zvcm0gPT4gewogIC8vIFRyYW5zZm9ybWluZyB0aGUgc3RhZ2Ugc3BhY2UgYmFzZWQgb24gdGhlIGN1cnJlbnQgem9vbSB0cmFuc2Zvcm0KICBjb25zdCB6b29tTWF0cml4ID0gW1t6b29tVHJhbnNmb3JtLmssIDAsIHpvb21UcmFuc2Zvcm0ueF0sIFswLCB6b29tVHJhbnNmb3JtLmssIHpvb21UcmFuc2Zvcm0ueV0sIFswLCAwLCAxXV07CiAgY29uc3Qgem9vbU1hdHJpeDFEID0gem9vbU1hdHJpeC5mbGF0KCk7CiAgcmV0dXJuIHpvb21NYXRyaXgxRDsKfTs="},{"version":3,"names":["d3","config","fragmentShader","vertexShader","initWebGLMatrices","that","xDomainMid","xScale","domain","yDomainMid","yScale","xRangeMid","range","yRangeMid","xMultiplier","yMultiplier","dataScaleMatrix","svgFullSize","width","height","dataScaleMatrix1D","flat","normalizeMatrix","normalizeMatrix1D","webGLMatrices","initWebGLBuffers","gridData","Error","positions","textureCoords","point","points","push","x","y","totalPointSize","frontPositionBuffer","pointRegl","buffer","length","type","usage","subdata","frontTextureCoordinateBuffer","frontBufferPointSize","drawScatterPlot","clear","color","depth","pointCount","loadedPointCount","a","b","curPointWidth","Math","log","layout","scatterDotRadius","min","max","alpha","zoomMatrix","getZoomMatrix","curZoomTransform","textureArray","defaultPointColorInt","secondPointColorInt","texture","data","format","userAlpha","opacity","undefined","drawPoints","enable","stencil","frag","vert","attributes","position","stride","offset","textureCoord","uniforms","pointWidth","blend","func","srcRGB","srcAlpha","dstRGB","dstAlpha","count","primitive","drawGroupContour","console","error","contourGroup","svg","select","gridData1D","grid","row","item","levels","contourLevels","thresholds","minValue","maxValue","step","i","contours","size","contourXScale","scaleLinear","xRange","contourYScale","yRange","map","coordinates","colorScaleInterpolator","interpolateLab","colorScale","scaleSequential","extent","d","selectAll","slice","join","attr","value","geoPath","zoomTransform","k","zoomMatrix1D"],"sources":["/home/yansha/VDProject/VDFrontend/src/views/MainView/MiddleMainView/Embedding.js"],"sourcesContent":["\n\n\nimport d3 from '../../../utils/d3-import';\nimport { config } from '../../../config/config';\nimport fragmentShader from '../../../components/Embedding/shaders/point.frag?raw';\nimport vertexShader from '../../../components/Embedding/shaders/point.vert?raw';\n\nexport function initWebGLMatrices(that) {\n    // Convert the x and y scales to a matrix (applying scale is cheaper in GPU)\n\n    const xDomainMid = (that.xScale.domain()[0] + that.xScale.domain()[1]) / 2;\n    const yDomainMid = (that.yScale.domain()[0] + that.yScale.domain()[1]) / 2;\n\n    const xRangeMid = (that.xScale.range()[0] + that.xScale.range()[1]) / 2;\n    const yRangeMid = (that.yScale.range()[0] + that.yScale.range()[1]) / 2;\n\n    const xMultiplier =\n        (that.xScale.range()[1] - that.xScale.range()[0]) /\n        (that.xScale.domain()[1] - that.xScale.domain()[0]);\n\n    const yMultiplier =\n        (that.yScale.range()[1] - that.yScale.range()[0]) /\n        (that.yScale.domain()[1] - that.yScale.domain()[0]);\n\n    // WebGL is column-major!\n    // Transform from data space to stage space (same as applying that.xScale(),\n    // and that.yScale())\n\n    const dataScaleMatrix = [\n        [xMultiplier, 0, -xMultiplier * xDomainMid + xRangeMid],\n        [0, yMultiplier, -yMultiplier * yDomainMid + yRangeMid],\n        [0, 0, 1]\n    ];\n\n    // 适当调整平移量，使得绘图区域的中心与视图的中心对齐\n    dataScaleMatrix[0][2] += (that.svgFullSize.width / 2 - xRangeMid);\n    dataScaleMatrix[1][2] += (that.svgFullSize.height / 2 - yRangeMid);\n    const dataScaleMatrix1D = dataScaleMatrix.flat();\n\n    // Transforming the stage space to the normalized coordinate\n    // Note we need to flip the y coordinate\n    const normalizeMatrix = [\n        [2 / that.svgFullSize.width, 0, -1],\n        [0, -2 / that.svgFullSize.height, 1],\n        [0, 0, 1]\n    ];\n\n    const normalizeMatrix1D = normalizeMatrix.flat();\n\n    that.webGLMatrices = {\n        dataScaleMatrix: dataScaleMatrix1D,\n        normalizeMatrix: normalizeMatrix1D\n    };\n\n}\n\nexport function initWebGLBuffers(that) {\n    if (that.gridData === null) {\n        throw new Error('GridData is null.');\n    }\n\n    // 获取每个点的位置和颜色\n    const positions = [];\n    const textureCoords = [];\n\n    for (const point of that.points) {\n        positions.push([point.x, point.y]);\n        textureCoords.push([0, 0]);\n    }\n\n    let totalPointSize = that.gridData.totalPointSize;\n\n    that.frontPositionBuffer = that.pointRegl.buffer({\n        length: totalPointSize * 4 * 2,\n        type: 'float',\n        usage: 'dynamic'\n    });\n    that.frontPositionBuffer.subdata(positions, 0);\n\n    that.frontTextureCoordinateBuffer = that.pointRegl.buffer({\n        length: totalPointSize * 4 * 2,\n        type: 'float',\n        usage: 'dynamic'\n    });\n    that.frontTextureCoordinateBuffer.subdata(textureCoords, 0);\n\n    that.frontBufferPointSize = that.points.length;\n}\n\n/**\n * Draw a scatter plot for the UMAP.\n */\nexport function drawScatterPlot(that) {\n    if (!that.webGLMatrices) {\n        throw Error('webGLMatrices not initialized');\n    }\n\n    that.pointRegl.clear({\n        color: [0, 0, 0, 0],\n        depth: 1\n    });\n\n    // Adjust point width based on the number of points to draw\n    let pointCount = that.loadedPointCount;\n\n\n    // Logarithmic regression by fitting the following three points\n    // https://keisan.casio.com/exec/system/14059930226691\n    // [(6e4, 2), (3e5, 1), [1.8e6, 0.5]]\n    const a = 6.71682071;\n    const b = -0.437974871;\n    that.curPointWidth =\n        a +\n        b *\n        Math.log(\n            config.layout.scatterDotRadius *\n            (that.svgFullSize.height / 10000000) *\n            pointCount\n        );\n    that.curPointWidth = Math.min(5, that.curPointWidth);\n    that.curPointWidth = Math.max(0.4, that.curPointWidth);\n    const alpha = 1 / (Math.log(pointCount) / Math.log(500));\n\n    // Get the current zoom\n    const zoomMatrix = getZoomMatrix(that.curZoomTransform);\n\n    // Create a texture array (default 3x1)\n    let textureArray = [\n        config.layout.defaultPointColorInt[0],\n        config.layout.defaultPointColorInt[1],\n        config.layout.defaultPointColorInt[2],\n        255,\n        config.layout.secondPointColorInt[0],\n        config.layout.secondPointColorInt[1],\n        config.layout.secondPointColorInt[2],\n        255,\n        255,\n        255,\n        255,\n        0\n    ];\n    // [default color, second color, transparent, empty]\n    const texture = that.pointRegl.texture({\n        width: 3,\n        height: 1,\n        data: textureArray,\n        format: 'rgba'\n    });\n\n    // If user specifies an alpha level, we use it to override auto-alpha\n    let userAlpha = -1.0;\n    if (that.gridData && that.gridData.opacity !== undefined) {\n        userAlpha = Math.max(0, Math.min(that.gridData.opacity, 1));\n    }\n\n    const drawPoints = that.pointRegl({\n        depth: { enable: false },\n        stencil: { enable: false },\n        frag: fragmentShader,\n        vert: vertexShader,\n\n        attributes: {\n            position: {\n                buffer: that.frontPositionBuffer,\n                stride: 2 * 4,\n                offset: 0\n            },\n            textureCoord: {\n                buffer: that.frontTextureCoordinateBuffer,\n                stride: 2 * 4,\n                offset: 0\n            }\n        },\n        uniforms: {\n            // Placeholder for function parameters\n            pointWidth: 1.2,\n            dataScaleMatrix: that.webGLMatrices.dataScaleMatrix,\n            zoomMatrix: zoomMatrix,\n            normalizeMatrix: that.webGLMatrices.normalizeMatrix,\n            alpha: alpha,\n            userAlpha: userAlpha,\n            texture: texture\n        },\n        blend: {\n            enable: true,\n            func: {\n                srcRGB: 'one',\n                srcAlpha: 'one',\n                dstRGB: 'one minus src alpha',\n                dstAlpha: 'one minus src alpha'\n            }\n        },\n\n        count: that.frontBufferPointSize,\n        primitive: 'points'\n    });\n\n    drawPoints();\n}\n\nexport function drawGroupContour(that) {\n\n    if (that.gridData == null) {\n        console.error('Grid data not initialized');\n        return null;\n    }\n\n    const contourGroup = that.svg.select(`.contour-group`);\n\n    const gridData1D = [];\n    const grid = that.gridData.grid;\n    for (const row of grid) {\n        for (const item of row) {\n            gridData1D.push(item);\n        }\n    }\n\n    // Linear interpolate the levels to determine the thresholds\n    const levels = config.layout.contourLevels;\n    const thresholds = [];\n    const minValue = Math.min(...gridData1D);\n    const maxValue = Math.max(...gridData1D);\n    const step = (maxValue - minValue) / levels;\n    for (let i = 0; i < levels; i++) {\n        thresholds.push(minValue + step * i);\n    }\n\n    let contours = d3\n        .contours()\n        .thresholds(thresholds)\n        .size([grid.length, grid[0].length])(gridData1D);\n\n    // Convert the scale of the generated paths\n    const contourXScale = d3\n        .scaleLinear()\n        .domain([0, grid.length])\n        .range(that.gridData.xRange);\n\n    const contourYScale = d3\n        .scaleLinear()\n        .domain([0, grid[0].length])\n        .range(that.gridData.yRange);\n\n    contours = contours.map(item => {\n        item.coordinates = item.coordinates.map(coordinates => {\n            return coordinates.map(positions => {\n                return positions.map(point => {\n                    return [\n                        that.xScale(contourXScale(point[0])) + (that.svgFullSize.width - that.svgFullSize.height)/2,\n                        that.yScale(contourYScale(point[1]))\n                    ];\n                });\n            });\n        });\n        return item;\n    });\n\n    // Create a new color interpolator\n    // (starting from white here)\n    const colorScaleInterpolator = d3.interpolateLab(\n        '#ffffff',\n        config.layout['groupColors'][0]\n    );\n    const colorScale = d3.scaleSequential(\n        d3.extent(thresholds),\n        d => colorScaleInterpolator(d / 1)\n    );\n\n    // Draw the contours\n    contourGroup\n        .selectAll('path')\n        .data(contours.slice(1))\n        .join('path')\n        .attr('fill', d => colorScale(d.value))\n        .attr('d', d3.geoPath());\n\n    return contours;\n};\n\n/**\n * Convert the current zoom transform into a matrix\n * @param zoomTransform D3 zoom transform\n * @returns 1D matrix\n */\nconst getZoomMatrix = (zoomTransform) => {\n    // Transforming the stage space based on the current zoom transform\n    const zoomMatrix = [\n        [zoomTransform.k, 0, zoomTransform.x],\n        [0, zoomTransform.k, zoomTransform.y],\n        [0, 0, 1]\n    ];\n    const zoomMatrix1D = zoomMatrix.flat();\n    return zoomMatrix1D;\n};\n"],"mappings":"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","ignoreList":[]}]}